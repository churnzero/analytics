/*! For license information please see churnzero.js.LICENSE.txt */
!function(){var e={8190:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAH60AAB+tAEJr8JXAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAotJREFUeNrsmz9LHUEUxY8bwUoweYhFitf6CSSFiI2V1toF0sWvkcpv8DoRVDApUuZVRwTBzj9p1SpuYxMQ7HywNnfg8XDd2fXOuH9ucao3Ozvnt29n5965AwKIoD6BFQLfCAwI7OZoIG1W5JrgYwvZ+TSBNQI/CBwTuCUwIpAVaCRtj+XaL9JXYwAsE9gjcO9h1lf30udynQFsEjhXNJ2nc7lXbQBsRTL+Eoit9wSwSGD4DsYnNZSxRAXw3XNCi6URga8xACQEftbI+KQOZIxBAHwgcFVj805XMlZVAElDzI9DSLQAJAQuG2Te6dIHgg+AJpofhzD1FgC/G2ze6VdVANstMO+0WRZAv0XmnfplAJy1EMCZL4CNFpp32vABcN1iANdFANaVb/hUkz7Gtf4agBvFG10Q+Ezg6A19HEkfF4rjuskDsBRwFTasGOaGWo0uvQRgP/A6PC3RRxo4HtmfBJAQeFT61ORFYj1PCKm0zYtINT7Rj+4haf79HzziiiIIr5kf14PWa+A63FHKyhx6DP5TDoRUfiu6/lApG7XjACwQoOIEc+rxFCf/CT5P/iOBP4rjJIEFEFglcKf8rU09IfwT+bTVHuMdgdWQUZ8PhKmieL3E5FlF25D9uCwgBJ/3uux8oaUBJJOaBYbQq2C+F9h8RuAAsiubRYAwX8L8fATzGYHdWAAyAv8JzHqYn5W2mQFoEYBavwKdnwQ7/xns/EKoKUvhNNRSWDsY+hsoGOpJoKUeDHU+HLaEiKXEwidF5yokRWdiJkVDp8WrlNGdxE6Ld35jxLbGbHPUtsetQMJKZKxIysrkrFDSSmWtWNrK5e3AhB2ZsUNTdmzODk7a0Vk7PN2B4/PPAwCf6Ytzs73kxgAAAABJRU5ErkJggg=="},7193:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ActivityMonitor=void 0;var t=function(){function e(e,t,n){this.windowRef=e,this.ErrorLogger=t,this.idleTimeoutMs=9e5,this.visibilityCheckIntervalMs=500,this.currentIdleTimeMs=0,this.active=!1,this.idleTimeoutExpired=!1,this.onActiveCallbacks=[],this.onIdleCallbacks=[],this.externalActiveChecks=[],this.setIdleDebounce=null,this.isHalted=!1,n&&(this.idleTimeoutMs=n)}return e.prototype.Start=function(){this.onStart()},e.prototype.Stop=function(){this.onHalt()},e.prototype.isActive=function(){return this.active},e.prototype.addIdleCallback=function(e){this.onIdleCallbacks.push(e)},e.prototype.addActiveCallback=function(e){this.onActiveCallbacks.push(e)},e.prototype.addIdlePrecheck=function(e){this.externalActiveChecks.push(e)},e.prototype.onStart=function(){var e=this;this.setEventNames(),this.initEvents(),this.triggerUserActive("onStart"),this.visibilityCheckInterval=this.windowRef.setInterval((function(){try{e.checkIdleTimeout()}catch(e){}}),this.visibilityCheckIntervalMs),this.isHalted=!1},e.prototype.onHalt=function(){this.isHalted=!0,this.clearIdleDebounce(),this.visibilityCheckInterval&&(this.windowRef.clearInterval(this.visibilityCheckInterval),this.visibilityCheckInterval=null),this.triggerUserIdle("Halting"),this.startId&&(this.startId.remove(),this.startId=null),this.haltId&&(this.haltId.remove(),this.haltId=null),this.visibilityAPIFunction&&(this.windowRef.document.removeEventListener(this.visibilityChangeEventName,this.visibilityAPIFunction),this.visibilityAPIFunction=null),this.windowBlurFunction&&(this.windowRef.removeEventListener("blur",this.windowBlurFunction),this.windowBlurFunction=null),this.windowFocusFunction&&(this.windowRef.removeEventListener("focus",this.windowFocusFunction),this.windowFocusFunction=null),this.resetIdleCountdownFunction&&(this.windowRef.document.removeEventListener("mousemove",this.resetIdleCountdownFunction),this.windowRef.document.removeEventListener("keyup",this.resetIdleCountdownFunction),this.windowRef.document.removeEventListener("touchstart",this.resetIdleCountdownFunction),this.windowRef.removeEventListener("scroll",this.resetIdleCountdownFunction),this.resetIdleCountdownFunction=null)},e.prototype.checkIdleTimeout=function(){var e=this.currentIdleTimeMs>this.idleTimeoutMs;!1===this.idleTimeoutExpired&&e?(this.idleTimeoutExpired=!0,this.triggerUserIdle("Idle Timeout")):(e&&this.active&&null===this.setIdleDebounce&&this.triggerUserIdle("still active and over idle time"),this.currentIdleTimeMs+=this.visibilityCheckIntervalMs)},e.prototype.setEventNames=function(){void 0!==this.windowRef.document.hidden?(this.hiddenPropName="hidden",this.visibilityChangeEventName="visibilitychange"):void 0!==this.windowRef.document.msHidden?(this.hiddenPropName="msHidden",this.visibilityChangeEventName="msvisibilitychange"):void 0!==this.windowRef.document.webkitHidden&&(this.hiddenPropName="webkitHidden",this.visibilityChangeEventName="webkitvisibilitychange")},e.prototype.initEvents=function(){var e=this;this.visibilityAPIFunction=function(){var t;try{e.windowRef.document[e.hiddenPropName]?e.triggerUserIdle("Document Visibility API"):e.triggerUserActive("Document Visibility API")}catch(n){null===(t=e.ErrorLogger)||void 0===t||t.report("ActivityMonitor.visibilityAPIFunction",n)}},this.windowRef.document.addEventListener(this.visibilityChangeEventName,this.visibilityAPIFunction,!1),this.windowBlurFunction=function(t){var n;try{e.isIframeActive()||e.triggerUserIdle("Window Blur")}catch(t){null===(n=e.ErrorLogger)||void 0===n||n.report("ActivityMonitor.windowBlurFunction",t)}},this.windowRef.addEventListener("blur",this.windowBlurFunction),this.windowFocusFunction=function(){var t;try{e.triggerUserActive("Window Focus")}catch(n){null===(t=e.ErrorLogger)||void 0===t||t.report("ActivityMonitor.windowFocusFunction",n)}},this.windowRef.addEventListener("focus",this.windowFocusFunction),this.resetIdleCountdownFunction=function(t){var n;try{e.resetIdleCountdown(t)}catch(t){null===(n=e.ErrorLogger)||void 0===n||n.report("ActivityMonitor.resetIdleCountdownFunction",t)}},this.windowRef.document.addEventListener("mousemove",this.resetIdleCountdownFunction),this.windowRef.document.addEventListener("keyup",this.resetIdleCountdownFunction),this.windowRef.document.addEventListener("touchstart",this.resetIdleCountdownFunction),this.windowRef.addEventListener("scroll",this.resetIdleCountdownFunction)},e.prototype.triggerUserActive=function(e){var t,n;if(this.clearIdleDebounce(),!this.active){for(var o=0;o<this.onActiveCallbacks.length;o++)null===(n=(t=this.onActiveCallbacks)[o])||void 0===n||n.call(t);this.active=!0}},e.prototype.triggerUserIdle=function(e){var t=this;this.active&&(this.clearIdleDebounce(),this.setIdleDebounce=this.windowRef.setTimeout((function(){for(var e,n,o,i,s,r,a=null!==(n=null===(e=t.externalActiveChecks)||void 0===e?void 0:e.length)&&void 0!==n?n:0,c=!0,l=0;l<a&&c;l++)try{!0===(null===(i=(o=t.externalActiveChecks)[l])||void 0===i?void 0:i.call(o))&&(c=!1)}catch(e){}if(c){for(l=0;l<t.onIdleCallbacks.length;l++)null===(r=(s=t.onIdleCallbacks)[l])||void 0===r||r.call(s);t.active=!1}else t.clearIdleDebounce()}),500))},e.prototype.resetIdleCountdown=function(e){this.idleTimeoutExpired&&this.triggerUserActive(e.type),this.idleTimeoutExpired=!1,this.currentIdleTimeMs=0},e.prototype.isIframeActive=function(){return this.windowRef.document.activeElement&&"IFRAME"===(this.windowRef.document.activeElement.tagName||"").toUpperCase()},e.prototype.clearIdleDebounce=function(){this.windowRef.clearTimeout(this.setIdleDebounce),this.setIdleDebounce=null},e}();exports.ActivityMonitor=t},8232:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PubSuber=exports.PubSubSubscription=exports.PubSubMessage=void 0;var n=t(5145),o=function(){};exports.PubSubMessage=o;var i=function(){};exports.PubSubSubscription=i;var s=function(){function e(e){this.ErrorLogger=e,this.sourceId=this.guid(),this.topics={},this.mirrors=[]}return e.prototype.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},e.prototype.addMirror=function(e){var t=this,n=this.mirrors.push(e)-1;return{remove:function(){delete t.mirrors[n]}}},e.prototype.subscribe=function(e,t){var o=this;n.CoreUtils.hasOwnProp(this.topics,e)||(this.topics[e]=[]);var i=this.topics[e].push(t)-1;return{remove:function(){try{delete o.topics[e][i]}catch(e){if(!o.ErrorLogger)return;o.ErrorLogger.report("PubSuber.remove",e)}}}},e.prototype.publish=function(e,t,o,i){void 0===o&&(o=!1),void 0===i&&(i=this.sourceId);var s=n.CoreUtils.hasOwnProp(this.topics,e);if(s||0!==this.mirrors.length){var r={sourceId:this.sourceId,topic:e,info:t},a=this,c=i!==this.sourceId;s&&this.topics[e].forEach((function(t,n,i){if(null!=t&&(!o||c))try{t(r)}catch(t){if(!a.ErrorLogger)return;a.ErrorLogger.isFreedScriptError(t)?i[n]=void 0:a.ErrorLogger.report("PubSuber.publish."+e,t)}})),!o&&this.mirrors.length&&this.mirrors.forEach((function(t,n,o){if(null!=t)try{t(r)}catch(t){if(!a.ErrorLogger)return;a.ErrorLogger.isFreedScriptError(t)?o[n]=void 0:a.ErrorLogger.report("PubSuber.publishMirrored."+e,t)}}))}},e.prototype.publishMirrored=function(e){this.publish(e.topic,e.info,!0,e.sourceId)},e.removeAll=function(e){for(var t in e)n.CoreUtils.hasOwnProp(e,t)&&e[t]&&(e[t].remove(),e[t]=null)},e}();exports.PubSuber=s},3482:function(e,exports,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),o=this&&this.__exportStar||function(e,exports){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(exports,t)||n(exports,e,t)};Object.defineProperty(exports,"__esModule",{value:!0}),o(t(583),exports),o(t(4725),exports),o(t(9767),exports),o(t(613),exports)},583:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.urlPathChars=exports.semiColonDelimiter=exports.fullStop=void 0;exports.fullStop="\\z|$",exports.semiColonDelimiter=";",exports.urlPathChars="[a-zA-Z0-9\\.\\-_~\\$&'()*+,;=:@%]*"},4725:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.questionMark=exports.hashBang=exports.hashSymbol=exports.semiColon=exports.colon=exports.ampersand=exports.emptyString=exports.escapedSlash=exports.slash=void 0;exports.emptyString="",exports.slash="/",exports.escapedSlash="\\/",exports.ampersand="&",exports.colon=":",exports.semiColon=";",exports.hashSymbol="#",exports.hashBang="#!",exports.questionMark="?"},9767:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GLOBAL_CHECKLIST_SETTINGS_CONFIG_TENANT_ITEM_NAME=exports.CZ_DEFAULT_CHECKLIST_SETTINGS_CONFIG=exports.CZ_DEFAULT_ANNOUNCEMENT_STYLE_CONFIG=exports.GLOBAL_ANNOUNCEMENTS_STYLE_CONFIG_TENANT_ITEM_NAME=exports.GLOBAL_STYLE_CONFIG_TENANT_ITEM_NAME=exports.CZ_DEFAULT_STYLE_CONFIG=void 0;var n=t(704),o=t(7269),i=t(9066),s=t(6209),r=new o.WalkthroughStyleConfig;exports.CZ_DEFAULT_STYLE_CONFIG=r,r.fontSize=14,r.fontFamily="Arial,Helvetica,sans-serif",r.textAlignment="center",r.backgroundColor="#ffffff",r.fontColor="#000000",r.borderRadius=5,r.borderWidth=0,r.borderColor="#ffffff",r.shouldHideClose=!1,r.closeColor="#000000",r.closeHoverColor=void 0,r.shouldShowStepNumber=!1,r.stepNumberPosition=n.StepNumberPosition.TopLeft,r.stepNumberColor="#000000",r.shouldShowPrevStep=!1,r.anchorZIndex=999997,r.ctaText="Got it!",r.ctaFontSize=14,r.ctaFontFamily="Arial,Helvetica,sans-serif",r.ctaAlignment="center",r.ctaBackgroundColor="#cccccc",r.ctaTextColor="#000000",r.ctaButtonColor="#ffffff",r.ctaButtonBorderColor="#ffffff",r.ctaButtonHoverColor=void 0,r.uiFontFamilyIds=void 0,r.popupWidth=n.StyleConfigPopUpWidth.Small,r.sliderWidth=n.StyleConfigSliderWidth.Small,r.tooltipWidth=n.StyleConfigTooltipWidth.Small,r.prevStepText="Previous",r.prevStepFontSize=14,r.prevStepFontFamilyId=1,r.prevStepAlignment="center",r.prevStepTextColor="#007bff",r.prevStepButtonColor="transparent",r.prevStepButtonBorderColor="transparent",r.prevStepButtonHoverColor=void 0;var a=new i.AnnouncementStyleConfig;exports.CZ_DEFAULT_ANNOUNCEMENT_STYLE_CONFIG=a,a.fontSize=14,a.fontFamily="Arial,Helvetica,sans-serif",a.textAlignment="center",a.backgroundColor="#ffffff",a.fontColor="#000000",a.borderRadius=5,a.borderWidth=0,a.borderColor="#ffffff",a.closeColor="#000000",a.closeHoverColor=void 0,a.uiFontFamilyIds=void 0,a.popupWidth=n.StyleConfigPopUpWidth.Small,a.sliderWidth=n.StyleConfigSliderWidth.Small;var c=new s.ChecklistSettingsConfig;exports.CZ_DEFAULT_CHECKLIST_SETTINGS_CONFIG=c,c.launchIconPosition=n.LaunchIconPosition.BottomRight,c.launchIconType=n.LaunchIconType.Float,c.titleFontSize=16,c.itemFontSize=14,c.fontFamilyId="Arial",c.textAlignment="left",c.color="#242424",c.hyperlinkColor="#0A5DFF",c.backgroundColor="#fff",c.markAsCompleteBackgroundColor="#f9f9f9",c.markAsCompleteTextColor="#000",c.completeButtonBackgroundColor="#14C67C",c.completeButtonTextColor="#fff",c.completeMessageBackgroundColor="#14C67C",c.completeMessageTextColor="#fff",c.launcherBackgroundColor="#fff",c.progressRemainingColor="#bbbbbb",c.progressCompleteColor="#0A5DFF",c.progressBackgroundColor="#fff",c.progressTextColor="#242424";exports.GLOBAL_STYLE_CONFIG_TENANT_ITEM_NAME="GlobalStyleConfig";exports.GLOBAL_ANNOUNCEMENTS_STYLE_CONFIG_TENANT_ITEM_NAME="AnnouncementsGlobalStyleConfig";exports.GLOBAL_CHECKLIST_SETTINGS_CONFIG_TENANT_ITEM_NAME="ChecklistSettingsGlobalConfig"},613:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SUCCESS_CENTER_DEFAULT_WIDTH_UNIT=exports.SUCCESS_CENTER_DEFAULT_WIDTH=void 0;var n=t(704);exports.SUCCESS_CENTER_DEFAULT_WIDTH=800,exports.SUCCESS_CENTER_DEFAULT_WIDTH_UNIT=n.WidthUnitType.Pixels},704:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SuccessCenterLinkType=exports.FrameResizeObserverBehavior=exports.WidthUnitType=exports.InAppOverlayPosition=exports.SuccessCenterLocation=exports.UIPosition=exports.LaunchAvatarType=exports.LaunchTrigger=exports.LaunchIconType=exports.LaunchIconPosition=exports.StyleConfigTooltipWidth=exports.StyleConfigSliderWidth=exports.StyleConfigPopUpWidth=exports.StepNumberPosition=exports.ContainerType=exports.AnchorActionType=exports.WalkthroughTriggerType=exports.WalkthroughActionType=exports.TooltipPosition=exports.AnnouncementPosition=exports.SocketMessageTypes=exports.DevlessEvents=exports.InterfaceCommCodes=exports.FrameCommCodes=exports.ChurnZeroAppEvents=exports.TransportCodes=exports.SelectorTypes=exports.LocationTypes=exports.EventTypes=exports.AnnouncementType=void 0;var n=t(1119);Object.defineProperty(exports,"AnnouncementType",{enumerable:!0,get:function(){return n.AnnouncementType}}),function(e){e[e.Mapped=1]="Mapped",e[e.Unmapped=2]="Unmapped"}(exports.EventTypes||(exports.EventTypes={})),function(e){e[e.Site=1]="Site",e[e.Page=2]="Page"}(exports.LocationTypes||(exports.LocationTypes={})),function(e){e[e.Suggested=1]="Suggested",e[e.Custom=2]="Custom",e[e.Intermediate=3]="Intermediate"}(exports.SelectorTypes||(exports.SelectorTypes={}));var o=t(1058);Object.defineProperty(exports,"TransportCodes",{enumerable:!0,get:function(){return o.TransportCodes}});var i=t(5003);Object.defineProperty(exports,"ChurnZeroAppEvents",{enumerable:!0,get:function(){return i.ChurnZeroAppEvents}}),function(e){e[e.SubframeBoot=1001]="SubframeBoot",e[e.SubframeBootResponse=1002]="SubframeBootResponse",e[e.SubFramePassback=1003]="SubFramePassback",e[e.MasterFrameComRePublish=1004]="MasterFrameComRePublish",e[e.MasterFramePassdown=1005]="MasterFramePassdown"}(exports.FrameCommCodes||(exports.FrameCommCodes={})),function(e){e[e.SuccessCenterToggle=5001]="SuccessCenterToggle",e[e.WalkthroughClickAudit=5002]="WalkthroughClickAudit",e[e.AnnouncementClickAudit=5003]="AnnouncementClickAudit",e[e.NpsAnnouncementLinkClicked=5004]="NpsAnnouncementLinkClicked",e[e.SuccessCenterSetStyles=5005]="SuccessCenterSetStyles",e[e.SuccessCenterSetSocketContext=5006]="SuccessCenterSetSocketContext",e[e.SuccessCenterUpdateUnreadBadge=5007]="SuccessCenterUpdateUnreadBadge",e[e.AnnouncementMarkAsRead=5008]="AnnouncementMarkAsRead",e[e.SuccessCenterClick=5009]="SuccessCenterClick",e[e.SuccessCenterScroll=5010]="SuccessCenterScroll"}(exports.InterfaceCommCodes||(exports.InterfaceCommCodes={})),function(e){e[e.DevlessInit=2001]="DevlessInit",e[e.DevlessConnectionInfo=2002]="DevlessConnectionInfo",e[e.DevlessShow=2003]="DevlessShow",e[e.DevlessHide=2004]="DevlessHide",e[e.DevlessResize=2005]="DevlessResize",e[e.DevlessIframeResized=2006]="DevlessIframeResized",e[e.DevlessElementExistsCheck=2007]="DevlessElementExistsCheck",e[e.DevlessElementExistsCheckResponse=2008]="DevlessElementExistsCheckResponse",e[e.DevlessCurrentHref=2009]="DevlessCurrentHref",e[e.DevlessCurrentHrefResponse=2010]="DevlessCurrentHrefResponse",e[e.DevlessPush=2011]="DevlessPush",e[e.ElementFinderStart=2012]="ElementFinderStart",e[e.ElementFinderStop=2013]="ElementFinderStop",e[e.ElementFinderElementSelected=2014]="ElementFinderElementSelected",e[e.ElementFinderHoverUpdate=2015]="ElementFinderHoverUpdate",e[e.ElementFinderHighlightElement=2016]="ElementFinderHighlightElement",e[e.ElementFinderElementHighlighted=2017]="ElementFinderElementHighlighted",e[e.EditorSet=2018]="EditorSet",e[e.EditorChanged=2019]="EditorChanged",e[e.WalkthroughStepPreviewClose=2020]="WalkthroughStepPreviewClose"}(exports.DevlessEvents||(exports.DevlessEvents={}));var s=t(7404);Object.defineProperty(exports,"SocketMessageTypes",{enumerable:!0,get:function(){return s.SocketMessageTypes}}),function(e){e[e.PanelOnly=1]="PanelOnly",e[e.PopUp=2]="PopUp",e[e.SlideBottomCenter=3]="SlideBottomCenter",e[e.SlideLeftBottom=4]="SlideLeftBottom",e[e.SlideTopLeft=5]="SlideTopLeft",e[e.SlideTopCenter=6]="SlideTopCenter",e[e.SlideTopRight=7]="SlideTopRight",e[e.SlideBottomLeft=8]="SlideBottomLeft",e[e.SlideBottomRight=9]="SlideBottomRight",e[e.SlideLeftTop=10]="SlideLeftTop",e[e.SlideLeftCenter=11]="SlideLeftCenter",e[e.SlideRightTop=12]="SlideRightTop",e[e.SlideRightCenter=13]="SlideRightCenter",e[e.SlideRightBottom=14]="SlideRightBottom",e[e.Tooltip=15]="Tooltip"}(exports.AnnouncementPosition||(exports.AnnouncementPosition={})),function(e){e[e.Auto=1]="Auto",e[e.Top=2]="Top",e[e.Left=3]="Left",e[e.Bottom=4]="Bottom",e[e.Right=5]="Right"}(exports.TooltipPosition||(exports.TooltipPosition={})),function(e){e[e.Unknown=0]="Unknown",e[e.WalkthroughStarted=1]="WalkthroughStarted",e[e.StepStarted=2]="StepStarted",e[e.StepClicked=3]="StepClicked",e[e.StepCompleted=4]="StepCompleted",e[e.StepAbandonded=5]="StepAbandonded",e[e.WalkthroughCompleted=6]="WalkthroughCompleted",e[e.WalkthroughAbandoned=7]="WalkthroughAbandoned",e[e.WalkthroughResumed=8]="WalkthroughResumed",e[e.StepRevisited=9]="StepRevisited"}(exports.WalkthroughActionType||(exports.WalkthroughActionType={})),function(e){e[e.Click=1]="Click",e[e.PageVisit=2]="PageVisit",e[e.Event=3]="Event",e[e.Anchor=4]="Anchor"}(exports.WalkthroughTriggerType||(exports.WalkthroughTriggerType={})),function(e){e[e.Click=1]="Click",e[e.Hover=2]="Hover"}(exports.AnchorActionType||(exports.AnchorActionType={})),function(e){e[e.Body=1]="Body",e[e.Parent=2]="Parent"}(exports.ContainerType||(exports.ContainerType={})),function(e){e[e.TopLeft=0]="TopLeft",e[e.TopCenter=1]="TopCenter",e[e.TopRight=2]="TopRight",e[e.BottomLeft=3]="BottomLeft",e[e.BottomCenter=4]="BottomCenter",e[e.BottomRight=5]="BottomRight"}(exports.StepNumberPosition||(exports.StepNumberPosition={})),function(e){e[e.Small=340]="Small",e[e.Medium=660]="Medium",e[e.Large=980]="Large"}(exports.StyleConfigPopUpWidth||(exports.StyleConfigPopUpWidth={})),function(e){e[e.Small=350]="Small",e[e.Medium=660]="Medium",e[e.Large=980]="Large"}(exports.StyleConfigSliderWidth||(exports.StyleConfigSliderWidth={})),function(e){e[e.Small=300]="Small",e[e.Medium=425]="Medium",e[e.Large=550]="Large"}(exports.StyleConfigTooltipWidth||(exports.StyleConfigTooltipWidth={})),function(e){e[e.TopLeft=0]="TopLeft",e[e.TopCenter=1]="TopCenter",e[e.TopRight=2]="TopRight",e[e.LeftCenter=3]="LeftCenter",e[e.RightCenter=4]="RightCenter",e[e.BottomLeft=5]="BottomLeft",e[e.BottomCenter=6]="BottomCenter",e[e.BottomRight=7]="BottomRight"}(exports.LaunchIconPosition||(exports.LaunchIconPosition={})),function(e){e[e.Float=0]="Float",e[e.Tabbed=1]="Tabbed"}(exports.LaunchIconType||(exports.LaunchIconType={})),function(e){e[e.ClickableIcon=1]="ClickableIcon",e[e.JavascriptEvent=2]="JavascriptEvent"}(exports.LaunchTrigger||(exports.LaunchTrigger={})),function(e){e[e.Custom=1]="Custom",e[e.Heart=2]="Heart",e[e.Heartbeat=3]="Heartbeat",e[e.LightBulb=4]="LightBulb",e[e.Shield=5]="Shield",e[e.Info=6]="Info",e[e.ConciergeBell=7]="ConciergeBell"}(exports.LaunchAvatarType||(exports.LaunchAvatarType={})),function(e){e[e.SuccessPanel=1]="SuccessPanel",e[e.LaunchIcon=2]="LaunchIcon"}(exports.UIPosition||(exports.UIPosition={})),function(e){e[e.InAppOverlay=1]="InAppOverlay",e[e.NewTab=2]="NewTab"}(exports.SuccessCenterLocation||(exports.SuccessCenterLocation={})),function(e){e[e.Right=1]="Right",e[e.Left=2]="Left"}(exports.InAppOverlayPosition||(exports.InAppOverlayPosition={})),function(e){e[e.Pixels=1]="Pixels",e[e.Percentage=2]="Percentage"}(exports.WidthUnitType||(exports.WidthUnitType={})),function(e){e[e.HeightIncrease=1]="HeightIncrease",e[e.HeightMatch=2]="HeightMatch"}(exports.FrameResizeObserverBehavior||(exports.FrameResizeObserverBehavior={})),function(e){e[e.Link=1]="Link",e[e.Button=2]="Button",e[e.Image=3]="Image"}(exports.SuccessCenterLinkType||(exports.SuccessCenterLinkType={}))},1119:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnnouncementType=void 0,function(e){e[e.Basic=0]="Basic",e[e.Nps=1]="Nps",e[e.CustomSurvey=2]="CustomSurvey"}(exports.AnnouncementType||(exports.AnnouncementType={}))},5003:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChurnZeroAppEvents=void 0,function(e){e[e.DIGEST=1]="DIGEST",e[e.HALT=2]="HALT",e[e.START=3]="START",e[e.PanelReady=4]="PanelReady",e[e.PanelShow=5]="PanelShow",e[e.PanelHide=6]="PanelHide",e[e.ChangePollInterval=7]="ChangePollInterval",e[e.AnnouncementClosed=8]="AnnouncementClosed",e[e.WalkthroughStart=9]="WalkthroughStart",e[e.SubframeRegistered=10]="SubframeRegistered",e[e.JourneyChecklistRefreshed=11]="JourneyChecklistRefreshed",e[e.PanelLauncherReady=12]="PanelLauncherReady",e[e.SuccessCenterReady=13]="SuccessCenterReady",e[e.NewAnnouncement=14]="NewAnnouncement",e[e.ExpireAnnouncement=15]="ExpireAnnouncement",e[e.ActivityMonitorActive=16]="ActivityMonitorActive",e[e.ActivityMonitorIdle=17]="ActivityMonitorIdle",e[e.ActivityMonitorHalt=18]="ActivityMonitorHalt",e[e.SuccessCenterAuthed=19]="SuccessCenterAuthed"}(exports.ChurnZeroAppEvents||(exports.ChurnZeroAppEvents={}))},7404:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SocketMessageTypes=void 0,function(e){e[e.SOCKETMESSAGETYPE_DISCONNECT=-2]="SOCKETMESSAGETYPE_DISCONNECT",e[e.SOCKETMESSAGETYPE_INITIAL_CONNECTION=-1]="SOCKETMESSAGETYPE_INITIAL_CONNECTION",e[e.SOCKETMESSAGETYPE_ANNOUNCEMENT=1]="SOCKETMESSAGETYPE_ANNOUNCEMENT",e[e.SOCKETMESSAGETYPE_USER_ACCOUNT_ALERT=5]="SOCKETMESSAGETYPE_USER_ACCOUNT_ALERT",e[e.SOCKETMESSAGETYPE_TRACK_EVENT=6]="SOCKETMESSAGETYPE_TRACK_EVENT",e[e.SOCKETMESSAGETYPE_SET_ATTRIBUTE=7]="SOCKETMESSAGETYPE_SET_ATTRIBUTE",e[e.SOCKETMESSAGETYPE_IS_ACTIVE=8]="SOCKETMESSAGETYPE_IS_ACTIVE",e[e.SOCKETMESSAGETYPE_MESSAGE_READ=9]="SOCKETMESSAGETYPE_MESSAGE_READ",e[e.SOCKETMESSAGETYPE_MESSAGE_CLICKED=10]="SOCKETMESSAGETYPE_MESSAGE_CLICKED",e[e.SOCKETMESSAGETYPE_CHECK_ONLINE=11]="SOCKETMESSAGETYPE_CHECK_ONLINE",e[e.SOCKETMESSAGETYPE_CHECK_ONLINE_RESULT=12]="SOCKETMESSAGETYPE_CHECK_ONLINE_RESULT",e[e.SOCKETMESSAGETYPE_UPDATE_APP_VERSION=13]="SOCKETMESSAGETYPE_UPDATE_APP_VERSION",e[e.SOCKETMESSAGETYPE_EXPIRE_MESSAGE=14]="SOCKETMESSAGETYPE_EXPIRE_MESSAGE",e[e.SOCKETMESSAGETYPE_CHECK_EVENT_MAP_CONFIG_VERSION=15]="SOCKETMESSAGETYPE_CHECK_EVENT_MAP_CONFIG_VERSION",e[e.SOCKETMESSAGETYPE_REFRESH_EVENT_MAP_CONFIG=16]="SOCKETMESSAGETYPE_REFRESH_EVENT_MAP_CONFIG",e[e.SOCKETMESSAGETYPE_TIME_IN_APP=17]="SOCKETMESSAGETYPE_TIME_IN_APP",e[e.SOCKETMESSAGETYPE_CheckWalkthroughConfigVersion=18]="SOCKETMESSAGETYPE_CheckWalkthroughConfigVersion",e[e.SOCKETMESSAGETYPE_RefreshWalkthroughConfig=19]="SOCKETMESSAGETYPE_RefreshWalkthroughConfig",e[e.SOCKETMESSAGETYPE_WalkthroughAction=20]="SOCKETMESSAGETYPE_WalkthroughAction",e[e.SOCKETMESSAGETYPE_CheckPageTagConfigVersion=21]="SOCKETMESSAGETYPE_CheckPageTagConfigVersion",e[e.SOCKETMESSAGETYPE_RefreshPageTagConfig=22]="SOCKETMESSAGETYPE_RefreshPageTagConfig",e[e.SOCKETMESSAGETYPE_CheckChecklistConfigVersion=23]="SOCKETMESSAGETYPE_CheckChecklistConfigVersion",e[e.SOCKETMESSAGETYPE_RefreshChecklistConfig=24]="SOCKETMESSAGETYPE_RefreshChecklistConfig",e[e.SOCKETMESSAGETYPE_ChecklistItemToggle=25]="SOCKETMESSAGETYPE_ChecklistItemToggle",e[e.SOCKETMESSAGETYPE_ChecklistMarkComplete=26]="SOCKETMESSAGETYPE_ChecklistMarkComplete",e[e.SOCKETMESSAGETYPE_SuccessCenterContactSessionAction=27]="SOCKETMESSAGETYPE_SuccessCenterContactSessionAction"}(exports.SocketMessageTypes||(exports.SocketMessageTypes={}))},1058:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TransportCodes=void 0,function(e){e[e.PubSubMirror=1]="PubSubMirror",e[e.FrameComm=2]="FrameComm",e[e.WalkthroughClickAudit=3]="WalkthroughClickAudit",e[e.AnnouncementFrameComm=4]="AnnouncementFrameComm",e[e.InterfaceComm=5]="InterfaceComm"}(exports.TransportCodes||(exports.TransportCodes={}))},1667:function(e,exports,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),o=this&&this.__exportStar||function(e,exports){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(exports,t)||n(exports,e,t)};Object.defineProperty(exports,"__esModule",{value:!0}),o(t(8232),exports),o(t(7193),exports),o(t(704),exports),o(t(9344),exports),o(t(4755),exports),o(t(1747),exports),o(t(2546),exports),o(t(7099),exports),o(t(9066),exports),o(t(3243),exports),o(t(6209),exports),o(t(2483),exports),o(t(5875),exports),o(t(2934),exports),o(t(808),exports),o(t(4818),exports),o(t(1828),exports),o(t(5385),exports),o(t(5049),exports),o(t(4114),exports),o(t(9635),exports),o(t(4437),exports),o(t(7269),exports),o(t(9158),exports),o(t(4045),exports),o(t(9497),exports),o(t(5145),exports),o(t(108),exports),o(t(2416),exports),o(t(2885),exports),o(t(841),exports),o(t(3482),exports)},9344:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},4755:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},1747:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},7099:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},2546:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},9066:function(e,exports,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnnouncementStyleConfig=void 0;var i=function(e){function t(){return e.call(this)||this}return o(t,e),t}(t(3243).StyleConfig);exports.AnnouncementStyleConfig=i},6209:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChecklistSettingsConfig=void 0;var t=function(){};exports.ChecklistSettingsConfig=t},3243:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StyleConfig=void 0;var t=function(){};exports.StyleConfig=t},2483:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventMap=void 0;var n=t(704),o=t(2885),i=function(){function e(e){this.disabled=!1,this.locationTypeId=n.LocationTypes.Site,this.location="*",this.selectorTypeId=n.SelectorTypes.Suggested,this.descriptionSelectorTypeId=n.SelectorTypes.Suggested,this.quantitySelectorTypeId=n.SelectorTypes.Suggested,this.tenantId=e,this.hidden=!1,this.excludeChildren=!1,this.createdDate="",this.updatedDate=""}return e.fromJSONString=function(t){return e.fromObject(JSON.parse(t))},e.fromObject=function(t){return o.ModelUtils.create(new e,t)},e}();exports.EventMap=i},4437:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.JourneyChecklistOptions=void 0;var t=function(){this.isVisible=!1,this.shouldIncludeLink=!1,this.url=void 0};exports.JourneyChecklistOptions=t},5875:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocationOptions=void 0;var t=function(){function e(e){var t=void 0===e?{}:e,n=t.pathParts,o=void 0===n?[]:n,i=t.hashParts,s=void 0===i?[]:i,r=t.searchParts,a=void 0===r?[]:r,c=t.allowChildStates,l=void 0===c||c,u=t.allowChildPaths,h=void 0===u||u,d=t.excludeSearchParts,p=void 0===d||d;this.pathParts=o,this.hashParts=s,this.searchParts=a,this.allowChildStates=l,!1!==l&&(this.allowChildStates=!0),this.allowChildPaths=h,!1!==h&&(this.allowChildPaths=!0),this.excludeSearchParts=p,!1!==p&&(this.excludeSearchParts=!0)}return e.fromJson=function(t,n){var o;void 0===n&&(n=JSON);try{o=n.parse(t)}catch(e){o=void 0}return new e(o)},e}();exports.LocationOptions=t},2934:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocationPart=void 0;var t=function(){};exports.LocationPart=t},808:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageTag=void 0;var n=t(2885),o=function(){function e(e){this.tenantId=e,this.pageName="",this.disabled=!1,this.shouldFireEvent=!0,this.eventName="",this.shouldSetModule=!1,this.moduleName="",this.shouldSetExitModule=!0,this.exitModuleName="Default"}return e.FromObject=function(t){var o=n.ModelUtils.create(new e,t);return t.shouldSetExitModule&&(o.shouldSetExitModule=t.shouldSetExitModule,o.exitModuleName=t.exitModuleName),o},e}();exports.PageTag=o},4818:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Segment=void 0;var n=t(2885),o=function(){function e(){}return e.fromObject=function(t){return n.ModelUtils.create(new e,t)},e}();exports.Segment=o},1828:function(e,exports,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.TooltipStepConfig=exports.SliderStepConfig=exports.PopUpStepConfig=exports.WalkthroughStepConfig=void 0;var i=t(9158),s=t(704),r=function(){function e(){this.backgroundColor="#FFFFFF",this.closeColor="#000000",this.borderRadius=5,this.fontFamily="",this.ctaText="Got it!",this.ctaButtonColor="#FFFFFF",this.ctaButtonBorderColor="#000000",this.ctaBackgroundColor="#CCCCCC",this.ctaTextColor="#000000",this.ctaAlignment="center"}return e.fromJSONString=function(t,n){switch(n){case i.WalkthroughStepType.Slider:return c.fromJSONString(t);case i.WalkthroughStepType.PopUp:return a.fromJSONString(t);case i.WalkthroughStepType.Tooltip:return l.fromJSONString(t);default:return new e}},e.fromObject=function(t,n){switch(n){case i.WalkthroughStepType.Slider:return c.fromObject(t);case i.WalkthroughStepType.PopUp:return a.fromObject(t);case i.WalkthroughStepType.Tooltip:return l.fromObject(t);default:return new e}},e}();exports.WalkthroughStepConfig=r;var a=function(e){function t(){var t=e.call(this)||this;return t.width="340px",t}return o(t,e),t.fromJSONString=function(e){return t.fromObject(JSON.parse(e))},t.fromObject=function(e){var n=new t;return e&&Object.keys(e).forEach((function(t){n[t]=e[t]})),n},t}(r);exports.PopUpStepConfig=a;var c=function(e){function t(){var t=e.call(this)||this;return t.position=s.AnnouncementPosition.SlideTopCenter,t}return o(t,e),t.fromJSONString=function(e){return t.fromObject(JSON.parse(e))},t.fromObject=function(e){var n=new t;return e&&Object.keys(e).forEach((function(t){n[t]=e[t]})),n},t}(r);exports.SliderStepConfig=c;var l=function(e){function t(){var t=e.call(this)||this;return t.position=s.TooltipPosition.Left,t.container=s.ContainerType.Body,t}return o(t,e),t.fromJSONString=function(e){return t.fromObject(JSON.parse(e))},t.fromObject=function(e){var n=new t;return e&&Object.keys(e).forEach((function(t){n[t]=e[t]})),n},t}(r);exports.TooltipStepConfig=l},9158:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalkthroughStep=exports.WalkthroughStepType=void 0;var n=t(1828),o=t(108),i=t(2885),s=t(7269);!function(e){e[e.PopUp=1]="PopUp",e[e.Slider=2]="Slider",e[e.Tooltip=3]="Tooltip"}(exports.WalkthroughStepType||(exports.WalkthroughStepType={}));var r=function(){function e(){this.__oid=o.DataTypeUtils.newGuid()}return Object.defineProperty(e.prototype,"stepType",{get:function(){return this.stepTypeId},set:function(e){this.stepTypeId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stepConfig",{get:function(){if(!o.DataTypeUtils.isStringNullOrEmpty(this.stepConfigJson))return this._stepConfig||(this._stepConfig=n.WalkthroughStepConfig.fromJSONString(this.stepConfigJson,this.stepTypeId)),this._stepConfig},set:function(e){this._stepConfig=e;var t=(e||{}).toJSON;t&&(e.toJSON=void 0),this.stepConfigJson=JSON.stringify(e),t&&(e.toJSON=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styleConfig",{get:function(){if(this._styleConfig instanceof s.WalkthroughStyleConfig)return this._styleConfig;try{var e=JSON.parse(this.styleConfigJson);this._styleConfig=i.ModelUtils.create(new s.WalkthroughStyleConfig,e)}catch(e){this._styleConfig=new s.WalkthroughStyleConfig}return this._styleConfig},set:function(e){this._styleConfig=e,this.styleConfigJson=JSON.stringify(e)},enumerable:!1,configurable:!0}),e.fromJSONString=function(t){return e.fromObject(JSON.parse(t))},e.fromObject=function(t){var o=i.ModelUtils.create(new e,t);return o.stepConfig=n.WalkthroughStepConfig.fromObject(o.stepConfig,o.stepTypeId),o},e}();exports.WalkthroughStep=r},7269:function(e,exports,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalkthroughStyleConfig=void 0;var i=function(e){function t(){return e.call(this)||this}return o(t,e),t}(t(3243).StyleConfig);exports.WalkthroughStyleConfig=i},9635:function(e,exports,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalkthroughAnchorTriggerConfig=exports.DEFAULT_ANCHOR_ICON_STYLE_CONFIG=exports.AnchorIconStyleConfig=exports.AnchorHoverTextPosition=exports.AnchorSizePreset=exports.AnchorSizeType=exports.AnchorDisplayType=exports.AnchorPositionType=void 0;var i,s,r,a,c,l=t(704),u=t(2885),h=t(5385),d=t(4114);!function(e){e[e.Inline=1]="Inline",e[e.TopRight=2]="TopRight",e[e.Right=3]="Right",e[e.BottomRight=4]="BottomRight",e[e.Bottom=5]="Bottom",e[e.BottomLeft=6]="BottomLeft",e[e.Left=7]="Left",e[e.TopLeft=8]="TopLeft",e[e.Top=9]="Top"}(i=exports.AnchorPositionType||(exports.AnchorPositionType={})),function(e){e[e.AlwaysShow=1]="AlwaysShow",e[e.OnlyOnHover=2]="OnlyOnHover"}(s=exports.AnchorDisplayType||(exports.AnchorDisplayType={})),function(e){e[e.Small=1]="Small",e[e.Medium=2]="Medium",e[e.Large=3]="Large",e[e.Custom=4]="Custom"}(r=exports.AnchorSizeType||(exports.AnchorSizeType={})),function(e){e[e.Small=16]="Small",e[e.Medium=32]="Medium",e[e.Large=64]="Large"}(a=exports.AnchorSizePreset||(exports.AnchorSizePreset={})),function(e){e[e.Right=1]="Right",e[e.Bottom=2]="Bottom",e[e.Left=3]="Left",e[e.Top=4]="Top"}(c=exports.AnchorHoverTextPosition||(exports.AnchorHoverTextPosition={}));var p=function(){};exports.AnchorIconStyleConfig=p,exports.DEFAULT_ANCHOR_ICON_STYLE_CONFIG=u.ModelUtils.create(new p,{iconColor:"#ffffff",iconBackgroundColor:"#000000",iconBorderColor:"#ffffff",size:a.Small,sizeTypeId:r.Small,positionTypeId:i.Inline,displayTypeId:s.AlwaysShow,hoverTextEnabled:!0,hoverText:"Click to see more!",hoverTextColor:"#ffffff",hoverTextBackgroundColor:"#000000",hoverTextPositionId:c.Right});var f=function(e){function t(){var t=e.call(this)||this;return t.triggerActionId=l.AnchorActionType.Click,t.triggerActionDelay=0,t.containerType=l.ContainerType.Body,t.iconType="",t.iconStyleConfig=new p,t}return o(t,e),t.fromJSONString=function(e){return d.WalkthroughClickTriggerConfig.fromObject(JSON.parse(e))},t.fromObject=function(e){return u.ModelUtils.create(new d.WalkthroughClickTriggerConfig,e)},t}(h.WalkthroughTriggerConfig);exports.WalkthroughAnchorTriggerConfig=f},4114:function(e,exports,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalkthroughClickTriggerConfig=void 0;var i=t(2885),s=function(e){function t(){var t=e.call(this)||this;return t.excludeChildren=!1,t}return o(t,e),t.fromJSONString=function(e){return t.fromObject(JSON.parse(e))},t.fromObject=function(e){return i.ModelUtils.create(new t,e)},t}(t(5385).WalkthroughTriggerConfig);exports.WalkthroughClickTriggerConfig=s},5049:function(e,exports,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalkthroughPageVisitTriggerConfig=void 0;var i=t(2885),s=function(e){function t(){return e.call(this)||this}return o(t,e),t.fromJSONString=function(e){return t.fromObject(JSON.parse(e))},t.fromObject=function(e){return i.ModelUtils.create(new t,e)},t}(t(5385).WalkthroughTriggerConfig);exports.WalkthroughPageVisitTriggerConfig=s},5385:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalkthroughTriggerConfig=void 0;var t=function(){};exports.WalkthroughTriggerConfig=t},4045:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Walkthrough=void 0;var n=t(9158),o=t(7269),i=t(704),s=t(108),r=t(2885),a=t(808),c=t(4818),l=t(5049),u=t(4114),h=t(9635),d=function(){function e(){this.__oid=s.DataTypeUtils.newGuid(),this.steps=[],this.segments=[],this.recurrence=!0,this.disabled=!0}return Object.defineProperty(e.prototype,"triggerType",{get:function(){return this.triggerTypeId},set:function(e){this.triggerTypeId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"triggerConfig",{get:function(){if(!this._triggerConfig)switch(this.triggerTypeId){case i.WalkthroughTriggerType.PageVisit:this._triggerConfig=l.WalkthroughPageVisitTriggerConfig.fromJSONString(this.triggerConfigJson);break;case i.WalkthroughTriggerType.Click:this._triggerConfig=u.WalkthroughClickTriggerConfig.fromJSONString(this.triggerConfigJson);break;case i.WalkthroughTriggerType.Anchor:this._triggerConfig=h.WalkthroughAnchorTriggerConfig.fromJSONString(this.triggerConfigJson)}return this._triggerConfig},set:function(e){this._triggerConfig=e;var t=e.toJSON;t&&(e.toJSON=void 0),this.triggerConfigJson=JSON.stringify(e),t&&(e.toJSON=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styleConfig",{get:function(){if(this._styleConfig instanceof o.WalkthroughStyleConfig)return this._styleConfig;try{var e=JSON.parse(this.styleConfigJson);this._styleConfig=r.ModelUtils.create(new o.WalkthroughStyleConfig,e)}catch(e){this._styleConfig=new o.WalkthroughStyleConfig}return this._styleConfig},set:function(e){this._styleConfig=e,this.styleConfigJson=JSON.stringify(e)},enumerable:!1,configurable:!0}),e.fromJSONString=function(t){return e.fromObject(JSON.parse(t))},e.fromObject=function(t){var o=r.ModelUtils.create(new e,t);o.pageTag&&(o.pageTag=a.PageTag.FromObject(o.pageTag));for(var i=0;i<o.steps.length;i++)o.steps[i]&&(o.steps[i]=n.WalkthroughStep.fromObject(o.steps[i]));var s=[];for(i=0;i<o.segments.length;i++)s.push(c.Segment.fromObject(o.segments[i]));return o.segments=s,o},e.prototype.toJSON=function(){var t={};for(var n in this)-1===e.toJSONIgnoreProps.indexOf(n)&&(t[n]=this[n]);return t},e.toJSONIgnoreProps=["__oid","_triggerConfig","triggerConfig","_styleConfig","styleConfig"],e}();exports.Walkthrough=d},9497:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AjaxUtils=exports.RequestOptions=void 0;var n=t(2702),o=function(e){for(var t in this.type="GET",this.contentType="application/x-www-form-urlencoded; charset=UTF-8",this.withCredentials=!1,this)this.hasOwnProperty(t)&&void 0!==e[t]&&(this[t]=e[t])};exports.RequestOptions=o,function(e){function t(e){return new n.Promise((function(t,n){var o=new XMLHttpRequest;o.open(e.type,e.url,!0),!0===e.withCredentials&&(o.withCredentials=!0),o.setRequestHeader("Content-Type",e.contentType),o.onload=function(){if(200===o.status)t(o.response);else{var e=Error(o.statusText);e.status=o.status,n(e)}},o.onerror=function(){n(Error("Network Error"))},e.data?o.send(e.data):o.send()}))}e.get=function(e,n){var i=new o(n);return i.type="GET",i.url=e,t(i)},e.post=function(e,n,i){var s=new o(i);return s.type="POST",s.url=e,s.data=n,t(s)},e.makeRequest=t}(exports.AjaxUtils||(exports.AjaxUtils={}))},5145:function(e,exports,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CoreUtils=void 0;var o=t(2934),i=t(5875),s=t(841),r=t(704),a=t(3482);!function(e){function t(e,t,n,o){var i="";if(n){var s=o;s.setTime(s.getTime()+24*n*60*60*1e3),i="; expires="+s.toUTCString()}document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+i+"; path=/"}e.areCookiesEnabled=function(){try{document.cookie="czcookietest=1; SameSite=Lax";var e=-1!==document.cookie.indexOf("czcookietest=");return document.cookie="czcookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}},e.createCookie=t,e.readCookie=function(e){for(var t=encodeURIComponent(e)+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}return null},e.eraseCookie=function(e,n){t(e,"",-1,n)},e.loadScript=function(e,t){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",e),n.onload=function(){return t()},document.getElementsByTagName("head")[0].appendChild(n)},e.refreshScript=function(e,t){t=t||{};var n=document.createElement("script");n.type="text/javascript",t.onError&&(n.onerror=function(){return t.onError()}),t.onLoad&&(n.onload=function(){return t.onLoad()}),n.src=e+(t.includeTimeStamp?"?"+t.timeStamp:""),n.async=!0,document.getElementsByTagName("head")[0].appendChild(n)},e.createElementFromHTML=function(e,t){var n=e.createElement("div");return n.innerHTML=t.trim(),n.firstChild},e.closest=function(e,t){for(var n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1};e;){if(n.call(e,t))return e;e=e.parentElement}},function(e){e.inIframe=function(){try{return window!==window.parent}catch(e){return!0}},e.isLegacyIE=function(){return!navigator||!navigator.userAgent||navigator.userAgent.indexOf("MSIE")>=0},e.isXHTML=function(){return document&&document.doctype&&document.doctype.systemId&&(document.doctype.systemId||"").toLowerCase().indexOf("xhtml")>-1};var t=function(){};e.BrowserInfo=t,e.getBrowserInfo=function(){var e=new t;try{var n="";if(screen.width)n+=(screen.width?screen.width:"")+" x "+(screen.height?screen.height:"");var o=navigator.appVersion,i=navigator.userAgent,s=navigator.appName,r=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10),c=void 0,l=void 0,u=void 0;-1!==(l=i.indexOf("Opera"))&&(s="Opera",r=i.substring(l+6),-1!==(l=i.indexOf("Version"))&&(r=i.substring(l+8))),-1!==(l=i.indexOf("OPR"))?(s="Opera",r=i.substring(l+4)):-1!==(l=i.indexOf("Edge"))?(s="Microsoft Edge",r=i.substring(l+5)):-1!==(l=i.indexOf("MSIE"))?(s="Microsoft Internet Explorer",r=i.substring(l+5)):-1!==(l=i.indexOf("Chrome"))?(s="Chrome",r=i.substring(l+7)):-1!==(l=i.indexOf("Safari"))?(s="Safari",r=i.substring(l+7),-1!==(l=i.indexOf("Version"))&&(r=i.substring(l+8))):-1!==(l=i.indexOf("Firefox"))?(s="Firefox",r=i.substring(l+8)):-1!==i.indexOf("Trident/")?(s="Microsoft Internet Explorer",r=i.substring(i.indexOf("rv:")+3)):(c=i.lastIndexOf(" ")+1)<(l=i.lastIndexOf("/"))&&(s=i.substring(c,l),r=i.substring(l+1),s.toLowerCase()===s.toUpperCase()&&(s=navigator.appName)),-1!==(u=r.indexOf(";"))&&(r=r.substring(0,u)),-1!==(u=r.indexOf(" "))&&(r=r.substring(0,u)),-1!==(u=r.indexOf(")"))&&(r=r.substring(0,u)),a=parseInt(""+r,10),isNaN(a)&&(r=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10));var h=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(o),d=!!navigator.cookieEnabled;void 0!==navigator.cookieEnabled||d||(document.cookie="testcookie",d=-1!==document.cookie.indexOf("testcookie"));var p="-",f=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var m in f){var g=f[m];if(g.r.test(i)){p=g.s;break}}var v="-",y=void 0;switch(/Windows/.test(p)&&(v=(y=/Windows (.*)/.exec(p))[1],p="Windows"),p){case"Mac OS X":v=(y=/Mac OS X (1[\d][._\d]+)/.exec(i))[1];break;case"Android":v=(y=/Android ([._\d]+)/.exec(i))[1];break;case"iOS":v=(y=/OS (\d+)_(\d+)_?(\d+)?/.exec(o))[1]+"."+y[2]+"."+(0|y[3])}e={screen:n,browser:s,browserVersion:r,browserMajorVersion:a,mobile:h,os:p,osVersion:v,cookies:d}}catch(e){}return e}}(e.FeatureDetection||(e.FeatureDetection={})),e.convertFormSerializedArrayToObject=function(e){var t={};return e.forEach((function(e){t[e.name]=e.value||""})),t},e.expandFlattenedObject=function(e){var t=function(e,t,n){for(var o=t.split("."),i=e,s=0;s<o.length;s++){var r=o[s];if(s===o.length-1){i[r]=n;break}void 0===i[r]&&(i[r]={}),i=i[r]}},n={};for(var o in e)t(n,o,e[o]||"");return n},e.extend=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e=e||{};for(var o=1;o<arguments.length;o++)if(arguments[o])for(var i in arguments[o])arguments[o].hasOwnProperty(i)&&(e[i]=arguments[o][i]);return e};var c,l=["ng-dirty","ng-touched","ng-untouched","ng-submitted","ng-pristine","ng-valid","ng-scope","ng-isolate-scope","active"];function u(e){return e&&""!==e&&e.length>0?e.split(" ").filter((function(e){return-1===l.indexOf(e.toLowerCase())})).join(" "):""}function h(e){if(e&&""!==e&&e.length>0){for(var t=function(e){return 0!==e.length},n=e.split(" ").filter(t),o=0;o<n.length;o++)n[o]=s.StyleUtils.cssEscape(n[o]);return"."+n.filter(t).join(".")}return""}function d(e){var t;if(0===e.length)return t;switch(e.get(0).tagName.toLowerCase()){case"html":case"body":break;case"select":case"input":case"textarea":t=e.val();break;case"img":t=e.attr("alt");break;default:t=e.text()}return t}function p(e){var t;return!c.isNullOrEmpty(e)&&(t=parseInt(e.replace(/[^0-9.]/g,"")),isNaN(t))?null:t}e.removeKnownClasses=u,e.convertClassStringToEscapedSelector=h,e.buildFullDomSelector=function(t){for(var n=e.getParentsOfElement(t),o=[],i=0;i<n.length;i++)o.push(e.buildElementSelector(n[i]));return(o=o.reverse()).concat([e.buildElementSelector(t)]).join(">")},e.buildElementSelector=function(e){var t=e,n=e.tagName,o=(t.getAttribute("id")||"").trim(),i="";if(""!==o&&(o="#"+o),-1===["html","body"].indexOf(t.tagName.toLowerCase())){try{for(var s=[],r=0;r<t.classList.length;r++)s.push(t.classList[r]);i=(s.join(" ")||"").trim()}catch(e){i=(t.getAttribute("class")||"").trim()}i=h(i=u(i))}if("input"===n.toLowerCase())n+="[type="+t.getAttribute("type")+"]";return n+o+i},e.getTextFromElement=d,e.getIntFromElement=function(e){return p(d(e))},e.getIntFromString=p,e.isElementInViewport=function(e){if(!e)return!1;var t=e.getBoundingClientRect(),n=window.innerWidth||document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight;return t.top>=0&&t.left>=0&&t.bottom<=o&&t.right<=n},e.getParentsOfElement=function(e){for(var t=[],n=e.ownerDocument,o=e.parentNode;o!=n;){var i=o;t.push(i),o=i.parentNode}return t},function(e){e.formatWithAMPM=function(e){var t=e.getHours(),n=t>=12?"pm":"am";t=(t%=12)||12;var o=e.getMinutes();return t+":"+(o<10?"0"+o:o)+" "+n}}(e.Times||(e.Times={})),function(e){e.formatWithSlashes=function(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()}}(e.Dates||(e.Dates={})),function(e){e.isNullOrEmpty=function(e){return!("string"==typeof e&&e.trim().length>0)},e.escapeHtml=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>''\\/]/g,(function(e){return t[e]}))}}(c=e.Strings||(e.Strings={})),function(e){e.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)}}(e.Numbers||(e.Numbers={})),function(t){function s(e){var t=a.hashSymbol;-1!==e.indexOf(a.hashBang)&&(t=a.hashBang);var n=e.split(t);return[t].concat(n[1])}function r(t){var n={replacement:t,extraPartString:""};if(e.Strings.isNullOrEmpty(t))return n;var o=new RegExp(a.semiColonDelimiter).exec(t),i=null===o?-1:o.index;return-1!==i&&(n.extraPartString=t.substring(i),n.replacement=t.substring(0,i)),n}t.parseUrlString=function(e){var t=e.match(/^(https?:)?\/\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/)||{},n={href:e,protocol:t[1]||":",host:t[2]||"",hostname:t[3]||"",port:t[4]||"",pathname:t[5]||"",search:t[6]||"",hash:t[7]||""},o={protocol:n.protocol,host:n.host,hostname:n.hostname,port:n.port,pathname:n.pathname,hash:n.hash,search:n.search,extra:""};if(o.hash&&-1!==o.hash.indexOf("?")){var i=o.hash.split("?");o.hash=i[0],o.search="?"+i[1]}var s=r(o.pathname);return o.pathname!==s.replacement&&(o.pathname=s.replacement,o.extra+=s.extraPartString),s=r(o.hash),o.hash!==s.replacement&&(o.hash=s.replacement,o.extra+=s.extraPartString),s=r(o.search),o.search!==s.replacement&&(o.search=s.replacement,o.extra+=s.extraPartString),o},t.getChurnZeroScriptSrc=function(e){var t=e.querySelector("script[src*='churnzero.js']");if(t){var n=t.getAttribute("src");if(n)return n=n.substring(0,n.lastIndexOf("/")+1)}return""},t.buildClientSideUrls=function(t){var n=e.Urls.parseUrlString(t),o="https:",i="https:",s="p";return n.host.indexOf("localhost:53156")>=0?(o="http://localhost:53156/",i="http://localhost:53156/external/",s="d"):n.host.indexOf("localhost:53157")>=0?(o="https://analytics.localhost:53157/",i="https://analytics.localhost:53157/external/",s="d"):n.host.indexOf("apptest.churnzerolabs.com")>=0||n.host.indexOf("analyticstest.churnzerolabs.com")>=0?(o+="//analyticstest.churnzerolabs.com/",i+="//analyticstest.churnzerolabs.com/external/",s="t"):n.host.indexOf("appstaging.churnzerolabs.com")>=0?(o+="//appstaging.churnzerolabs.com/",i+="//appstaging.churnzerolabs.com/external/",s="s"):n.host.indexOf("eu1analytics.churnzero.net")>=0?(o+="//eu1analytics.churnzero.net/",i+="//eu1analytics.churnzero.net/external/"):(o+="//analytics.churnzero.net/",i+="//analytics.churnzero.net/external/"),{scriptSrc:t,cdn:i,baseApiUrl:o,sockets:o+"api/v1/sockets/",environment:s}},t.buildQueryStringString=function(e){var t=[],n="";for(var o in e)e.hasOwnProperty(o)&&t.push(o+"="+e[o]);return t&&t.length>0&&(n="?"+t.join("&")),n},t.parseUrlToLocationParts=function(t){var n,o=e.Urls.parseUrlString(t),i=[a.hashSymbol,a.hashBang,a.emptyString],r=[];e.Strings.isNullOrEmpty(o.pathname)||(r=(n=o.pathname.split(a.slash)).map((function(e,t){var n=-1!==i.indexOf(e);return{value:e,index:t,hidden:n,prefix:n?a.emptyString:a.slash,include:!0}})));var c=[];if(!e.Strings.isNullOrEmpty(o.hash)){var l=1===(n=o.hash.split(a.slash)).length;l&&(n=s(o.hash)),c=n.map((function(e,t){var n=-1!==i.indexOf(e);return{value:e,index:t,hidden:n,prefix:n||l?a.emptyString:a.slash,include:!0}}))}var u=[];if(!e.Strings.isNullOrEmpty(o.search)){n=o.search.split(a.ampersand);var h=(u=n.map((function(e,t){var n=-1!==i.indexOf(e);return{value:e,index:t,hidden:n,prefix:n?a.emptyString:a.ampersand,include:!0}}))).length-1,d=0!=h&&u[h].value?u[h].value.indexOf(a.semiColon):-1;if(-1!=d){var p=u[h].value.substring(d);u[h].value=u[h].value.substring(0,d);var f=p.split(a.semiColon);u=u.concat(f.map((function(e,t){var n=-1!==i.indexOf(e);return{value:e,index:u.length+t,hidden:n,prefix:0===e.length?a.semiColon:a.emptyString,include:!0}})))}}var m=[];return e.Strings.isNullOrEmpty(o.extra)||(m=(n=o.extra.split(new RegExp(a.semiColonDelimiter))).map((function(e,t){return{value:e,index:t,hidden:-1!==i.indexOf(e),prefix:a.semiColon,include:!0}}))),{pathParts:r,hashParts:c,searchParts:u,extraParts:m}},t.buildRegexFromLocationParts=function(t,i){var r,c=e.Urls.parseUrlString(t);(i=i?n({},i):{pathParts:[],hashParts:[],searchParts:[],extraParts:[],allowChildPaths:!0,allowChildStates:!0,excludeSearchParts:!0}).pathParts||(i.pathParts=[]),i.hashParts||(i.hashParts=[]),i.searchParts||(i.searchParts=[]),i.extraParts||(i.extraParts=[]),!1!==i.allowChildPaths&&(i.allowChildPaths=!0),!1!==i.allowChildStates&&(i.allowChildStates=!0),!1!==i.excludeSearchParts&&(i.excludeSearchParts=!0),!1!==i.excludeExtraParts&&(i.excludeExtraParts=!0),c.hash&&-1!==c.hash.indexOf(a.questionMark)&&(r=c.hash.split(a.questionMark),c.hash=r[0],c.search=r[1]);var l,u=function(e){return"(?:"+e+")"},h=function(e,t,n,o){return void 0===t&&(t="[a-zA-Z0-9\\-_~%]+"),void 0===n&&(n="\\/"),void 0===o&&(o=!0),function(i,s){var r=0===s,c=null;if((e||[]).forEach((function(e){e.index===s&&null===c&&(c=e)})),null!==c&&c.value.trim()!==a.emptyString){var l=c.value;r&&0===l.indexOf("?")&&(l=l.replace("?","")),l=l.replace(/[[\]\\^$.|?*+(){}#]/g,(function(e){return"\\"+e}));var u="";u="function"==typeof n?n(l,s,c):n,r&&o&&(u="");return"(?:"+u+(c.include?l:"function"==typeof t?t(l):t)+")"+(c.include?"":"+")}}};if(e.Strings.isNullOrEmpty(c.pathname)||(l=(r=c.pathname.split(a.slash)).map(h(i.pathParts)).filter((function(e){return void 0!==e})),c.pathname=l.join("")),!e.Strings.isNullOrEmpty(c.hash)){var d=1===(r=c.hash.split(a.slash)).length;if(d&&(r=s(c.hash)),i.hashParts&&1===i.hashParts.length){var p=n(n({},i.hashParts[0]),{index:1,prefix:a.emptyString}),f=new o.LocationPart;f.index=0,f.hidden=!0,f.include=!0,f.prefix=a.emptyString,f.value=a.hashSymbol,i.hashParts=[f,p]}l=r.map(h(i.hashParts,a.urlPathChars,(function(t,n,o){return e.hasOwnProp(o,"prefix")?o.prefix===a.slash?a.escapedSlash:o.prefix:d?a.emptyString:a.escapedSlash}))).filter((function(e){return void 0!==e})),c.hash=l.join(a.emptyString)}if(e.Strings.isNullOrEmpty(c.search)||(l=(r=c.search.split(a.ampersand)).map(h(i.searchParts,(function(e){return e.split("=")[0]+"=?[a-zA-Z0-9\\-_~%]*"}),(function(t,n,o){return e.hasOwnProp(o,"prefix")?o.prefix===a.slash?a.escapedSlash:o.prefix:a.ampersand}))).filter((function(e){return void 0!==e})),c.search="\\?"+l.join(a.emptyString)),!e.Strings.isNullOrEmpty(c.extra)){r=c.extra.split(new RegExp(a.semiColonDelimiter));var m=a.urlPathChars.replace(a.semiColon,a.emptyString);l=r.map(h(i.extraParts,(function(e){var t=e.split("="),n=t[0];return n===t?n:n+"="+m}),(function(t,n,o){return e.hasOwnProp(o,"prefix")?o.prefix===a.slash?a.escapedSlash:o.prefix:a.semiColon}))).filter((function(e){return void 0!==e})),c.extra=l.join("")}var g=c.host.replace(/(\*|%2A){2}\./g,"(?:[^.]+\\.){0,}");g=g.replace(/(\*|%2A)/g,"[^.]+");var v=(c.protocol!==a.colon?c.protocol:a.emptyString)+"\\/\\/"+g,y=!e.Strings.isNullOrEmpty(c.pathname),S=!e.Strings.isNullOrEmpty(c.hash),C=!e.Strings.isNullOrEmpty(c.search),b=!e.Strings.isNullOrEmpty(c.extra);y&&(v+=c.pathname),i.allowChildPaths?v+=u("\\/"+a.urlPathChars+"\\/?")+"*":v+=u("\\/?");var w="";if(S){var E="";E=c.hash,i.allowChildStates?E+=u("\\/"+a.urlPathChars+"\\/?")+"*":E+="\\/?",w+=E}else i.allowChildStates&&(w+=u("[#!][^?]*")+"?");var T="";C&&!i.excludeSearchParts?T=c.search+"[^"+"#!]*":(C||i.excludeSearchParts)&&(T=u("\\?[^#!]*")+(i.excludeSearchParts?"?":""));var A=!e.Strings.isNullOrEmpty(w),P=!e.Strings.isNullOrEmpty(T);A&&P?v+="("+u(u(w)+u(T))+"|"+u(u(T)+u(w))+")":A?v+=w:P&&(v+=T);var k=u(";?"),_=u(";["+a.urlPathChars.replace(a.semiColon,a.emptyString)+"]*;?");return b&&!i.excludeExtraParts?(c.extra+=u(k+"|"+_)+"*",v+=c.extra):(b||i.excludeExtraParts)&&(v+=u(k+"|"+_)+"*"),(v+=u(a.fullStop)).trim()},t.checkUrlAgainstPageTag=function(t,n){if(e.Strings.isNullOrEmpty(t)||e.Strings.isNullOrEmpty(n.location))return!1;var o=void 0;if(null!==n.locationOptionsJson&&void 0!==n.locationOptionsJson&&n.isCustomLocation)o=i.LocationOptions.fromJson(n.locationOptionsJson);else if(o=new i.LocationOptions(e.Urls.parseUrlToLocationParts(n.location)),!n.isCustomLocation&&null!==n.locationOptionsJson&&void 0!==n.locationOptionsJson){var s=i.LocationOptions.fromJson(n.locationOptionsJson);o.allowChildPaths=s.allowChildPaths,o.allowChildStates=s.allowChildStates,o.excludeSearchParts=s.excludeSearchParts}var r=e.Urls.buildRegexFromLocationParts(n.location,o);return new RegExp(r).test(t)}}(e.Urls||(e.Urls={})),e.noop=function(){},e.isObjectDigestible=function(e){return void 0!==e.onDigest},e.isObject=function(e){return e===Object(e)},e.isArray=function(e){return Array.isArray(e)};var f=["string","number","bigint","boolean","undefined","symbol","null"];function m(e){return f.indexOf(typeof e)>-1}function g(e){var t=e.selector;return!t||0===t.length||"*"===t[t.length-1]||e.selectorTypeId===r.SelectorTypes.Custom&&e.excludeChildren||e.selectorTypeId===r.SelectorTypes.Intermediate&&e.excludeChildren?t:t+", "+t+" *"}e.isPrimitiveType=m,e.clone=function e(t){if(null==t)return t;var n;if(Array.isArray(t))return e({value:t}).value;if(m(t))return n=t;for(var o in n=Object.create(t),Object.keys(t).forEach((function(e){n[e]=t[e]})),n){if(n[o]instanceof Date)(i=new Date).setTime(n[o].getTime()),n[o]=i;else if(Array.isArray(n[o])){var i=n[o].map((function(t){return e(t)}));n[o]=i}else"object"==typeof n[o]&&(n[o]=e(n[o]))}return n},e.numKeys=function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},e.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},e.isNullOrUndefined=function(e){return null==e},e.buildEventMapSelector=g,e.concatEventMapSelectors=function(e){return e.map(g).filter((function(e){return e&&e.length>0})).join(", ")},e.concatWalkthroughSelectors=function(e){return e.map((function(e){return g(e.triggerConfig)})).filter((function(e){return e&&e.length>0})).join(", ")},e.sortArrayBy=function(e){return function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0}},e.hasOwnProp=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.debounce=function(e,t){var n;return void 0===t&&(t=100),function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];clearTimeout(n),n=setTimeout((function(){n=null,e.apply(void 0,o)}),t)}},e.throttle=function(e,t){var n;return void 0===t&&(t=100),function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n||(n=setTimeout((function(){e.apply(void 0,o),n=void 0}),t))}}}(exports.CoreUtils||(exports.CoreUtils={}))},108:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DataTypeUtils=void 0;var t=function(){function e(){}return e.newGuid=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},e.isStringNullOrEmpty=function(e){return!("string"==typeof e&&e.trim().length>0)},e}();exports.DataTypeUtils=t},2416:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.iFrameUtils=void 0;var n=t(704);!function(e){var t="CZTPM",o="30DDF99A-B7F0-4DB2-BCEC-AA5DD0A4561B",i=function(){};function s(e,t,n){return String.fromCharCode.apply(null,e.split("").map((function(e,o){var i=t[o%t.length].charCodeAt();return n&&(i=-i),(e.charCodeAt()+i+65536)%65536})))}function r(e){return(parseInt(e.style.borderTopWidth,10)||0)+(parseInt(e.style.borderBottomWidth,10)||0)}e.TransportMessage=i,e.attachTransportMessageListener=function(e,n,i,r,a){var c=function(e){try{if(!n)return;var c=e.origin;if("*"!==n){var l=n.split(","),u=!1;if(l.forEach((function(e){u||e!==c||(u=!0)})),!u)return}var h=void 0;if("[object String]"!==Object.prototype.toString.call(e.data)||0!==e.data.indexOf(t))return;var d=e.data.substr(t.length);if(!d)return;var p=s(d,o,!0);if(!p)return;(h=(r||JSON).parse(p))&&h.hasOwnProperty("code")&&h.hasOwnProperty("data")&&i(h,e)}catch(t){"function"==typeof a&&a(t,e)}};return e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent&&e.attachEvent("onmessage",c),c},e.buildTransportMessage=function(e,t){return{code:e,data:t}},e.encrypt=function(e){return t+s(e,o,!1)},e.setFrameHeightBySourceAtInterval=function(e,t,n,o,i){var s,a=t.contentWindow,c=0,l=!1;t.style.visibility="hidden";var u=a.setInterval((function(){var n=e.getBoundingClientRect(),u=r(t),h=n.height+u;h<=c||(a.clearInterval(s),c=h,t.style.height=c+"px",null==i||i(),l||(s=a.setTimeout((function(){t.style.removeProperty("visibility"),l=!0,null==o||o()}),200)))}),n);return function(){a.clearTimeout(s),a.clearTimeout(u)}},e.getFrameResizeObserver=function(e,t,o,i){void 0===i&&(i=n.FrameResizeObserverBehavior.HeightIncrease);var s=e.contentWindow;e.style.visibility="hidden";var a,c=0,l=!1;return new ResizeObserver((function(u){for(var h=u.length,d=0;d<h;d++){var p=u[d],f=r(e),m=p.contentRect.height+f;m!==c&&(i===n.FrameResizeObserverBehavior.HeightIncrease&&m<c||(s.clearInterval(a),c=m,e.style.height=c+"px",null==o||o(),l||(a=s.setTimeout((function(){e.style.removeProperty("visibility"),l=!0,null==t||t()}),200))))}}))}}(exports.iFrameUtils||(exports.iFrameUtils={}))},2885:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModelUtils=void 0;var n=t(5145),o=function(){function e(){}return e.getNonMutatedValue=function(e,t){var n=Object.prototype.toString.call(t);return"[object Object]"===n&&"assign"in Object?Object.assign({},t):"[object Array]"===n?[].concat(t):"[object Function]"===n?t.bind(e):t},e.assignDefined=function(t){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];for(var s=o.length,r=0;r<s;r++){var a=o[r];for(var c in a)if(n.CoreUtils.hasOwnProp(t,c)){var l=a[c];void 0!==l&&(t[c]=e.getNonMutatedValue(t,l))}}return t},e.create=function(t,o,i){return void 0===i&&(i=!1),o&&Object.keys(o).forEach((function(s){if(!i||n.CoreUtils.hasOwnProp(t,s)){var r=o[s];t[s]=e.getNonMutatedValue(t,r)}})),t},e}();exports.ModelUtils=o},841:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StyleUtils=void 0;var n=t(5145);!function(e){e.appendStyle=function(e){return function(t,n){return(n||"")+(e||"")}},e.replaceStyleValue=function(e,t){return function(n,o){return(o||"").replace(new RegExp(e,"g"),t)}},e.whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},e.camelCaseToDash=function(e){return e?e.replace(/([A-Z])/g,(function(e){return"-"+e[0].toLowerCase()})):null},e.isInViewport=function(e){return n.CoreUtils.isElementInViewport(e)},e.cssEscape=function(e){if(0==arguments.length)return"";for(var t,n=String(e),o=n.length,i=-1,s="",r=n.charCodeAt(0);++i<o;)0!=(t=n.charCodeAt(i))?s+=t>=1&&t<=31||127==t||0==i&&t>=48&&t<=57||1==i&&t>=48&&t<=57&&45==r?"\\"+t.toString(16)+" ":(0!=i||1!=o||45!=t)&&(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?n.charAt(i):"\\"+n.charAt(i):s+="";return s},e.wrapInRule=function(e,t){return e+" { "+t.join(" ")+" }"},e.mapBrandingItemToCSSProps=function(t){var o=[];for(var i in t)if(n.CoreUtils.hasOwnProp(t,i)){var s=t[i];if(0!==(s||"").toString().trim().length){var r="number"==typeof s?s+"px":s;o.push(e.camelCaseToDash(i)+":"+r+" !important;")}}return o},e.inheritValue=function(e,t,n){e&&n&&t&&(e[t]=e[t]||n[t])},e.froalaViewerStyle="html{margin:0px;height:auto;}body{height:auto;padding:10px;background:transparent;color:#000000;position:relative;z-index: 2;-webkit-user-select:auto;margin:0px;overflow:hidden;min-height:20px;}body:after{content:'';display:block;clear:both;}body::-moz-selection{background:#b5d6fd;color:#000;}body::selection{background:#b5d6fd;color:#000;}body, body:focus{outline: transparent solid 0px;}body{background: transparent; position: relative; z-index: 2; user-select: auto;}body a{user-select: auto;}body.fr-disabled{user-select: none;}body [contenteditable='true']{outline: transparent solid 0px;}body img{cursor: pointer;}body table td.fr-selected-cell, body table th.fr-selected-cell{border: 1px double rgb(30, 136, 229);}body table tr{user-select: none;}body table td, body table th{user-select: text;}body .fr-no-selection table td, body .fr-no-selection table th{user-select: none;}body .fr-video{user-select: none;}body .fr-video::after{position: absolute; content: ''; z-index: 1; top: 0px; left: 0px; right: 0px; bottom: 0px; cursor: pointer; display: block; background: transparent;}body .fr-video.fr-active > *{z-index: 2; position: relative;}body .fr-video > *{box-sizing: content-box; max-width: 100%; border: none;}body{overflow-wrap: break-word;}body span[style~='color:'] a{color: inherit;}body strong{font-weight: 700;}body table{border: none; border-collapse: collapse; empty-cells: show; max-width: 100%;}body table td{min-width: 5px;}body table.fr-dashed-borders td, body table.fr-dashed-borders th{border-style: dashed;}body table.fr-alternate-rows tbody tr:nth-child(2n){background: rgb(245, 245, 245);}body table td, body table th{border: 1px solid rgb(221, 221, 221);}body table td:empty, body table th:empty{height: 20px;}body table td.fr-highlighted, body table th.fr-highlighted{border: 1px double red;}body table td.fr-thick, body table th.fr-thick{border-width: 2px;}body table th{background: rgb(230, 230, 230);}body hr{clear: both; user-select: none; break-after: page;}body .fr-file{position: relative;}body .fr-file::after{position: relative; content: ''; font-weight: 400;}body pre{white-space: pre-wrap; overflow-wrap: break-word; overflow: visible;}body[dir='rtl'] blockquote{border-left: none; border-right: 2px solid rgb(94, 53, 177); margin-right: 0px; padding-right: 5px; padding-left: 0px;}body[dir='rtl'] blockquote blockquote{border-color: rgb(0, 188, 212);}body[dir='rtl'] blockquote blockquote blockquote{border-color: rgb(67, 160, 71);}body blockquote{border-left: 2px solid rgb(94, 53, 177); margin-left: 0px; padding-left: 5px; color: rgb(94, 53, 177);}body blockquote blockquote{border-color: rgb(0, 188, 212); color: rgb(0, 188, 212);}body blockquote blockquote blockquote{border-color: rgb(67, 160, 71); color: rgb(67, 160, 71);}body span.fr-emoticon{font-weight: 400; font-family: 'Apple Color Emoji', 'Segoe UI Emoji', NotoColorEmoji, 'Segoe UI Symbol', 'Android Emoji', EmojiSymbols; display: inline; line-height: 0;}body span.fr-emoticon.fr-emoticon-img{font-size: inherit; height: 1em; width: 1em; min-height: 20px; min-width: 20px; display: inline-block; margin: -0.1em 0.1em 0.1em; line-height: 1; vertical-align: middle; background-repeat: no-repeat !important;}body .fr-text-gray{color: rgb(170, 170, 170) !important;}body .fr-text-bordered{border-top: 1px solid rgb(34, 34, 34); border-bottom: 1px solid rgb(34, 34, 34); padding: 10px 0px;}body .fr-text-spaced{letter-spacing: 1px;}body .fr-text-uppercase{text-transform: uppercase;}body .fr-class-highlighted{background-color: rgb(255, 255, 0);}body .fr-class-code{border-color: rgb(204, 204, 204); border-radius: 2px; background: rgb(245, 245, 245); padding: 10px; font-family: 'Courier New', Courier, monospace;}body .fr-class-transparency{opacity: 0.5;}body img{position: relative; max-width: 100%;}body img.fr-dib{margin: 5px auto; display: block; float: none; vertical-align: top;}body img.fr-dib.fr-fil{margin-left: 0px; text-align: left;}body img.fr-dib.fr-fir{margin-right: 0px; text-align: right;}body img.fr-dii{display: inline-block; float: none; vertical-align: bottom; margin-left: 5px; margin-right: 5px; max-width: calc(100% - 10px);}body img.fr-dii.fr-fil{float: left; margin: 5px 5px 5px 0px; max-width: calc(100% - 5px);}body img.fr-dii.fr-fir{float: right; margin: 5px 0px 5px 5px; max-width: calc(100% - 5px);}body span.fr-img-caption{position: relative; max-width: 100%;}body span.fr-img-caption.fr-dib{margin: 5px auto; display: block; float: none; vertical-align: top;}body span.fr-img-caption.fr-dib.fr-fil{margin-left: 0px; text-align: left;}body span.fr-img-caption.fr-dib.fr-fir{margin-right: 0px; text-align: right;}body span.fr-img-caption.fr-dii{display: inline-block; float: none; vertical-align: bottom; margin-left: 5px; margin-right: 5px; max-width: calc(100% - 10px);}body span.fr-img-caption.fr-dii.fr-fil{float: left; margin: 5px 5px 5px 0px; max-width: calc(100% - 5px);}body span.fr-img-caption.fr-dii.fr-fir{float: right; margin: 5px 0px 5px 5px; max-width: calc(100% - 5px);}body .fr-video{text-align: center; position: relative;}body .fr-video.fr-rv{padding-bottom: 56.25%; padding-top: 30px; height: 0px; overflow: hidden;}body .fr-video.fr-rv > iframe, body .fr-video.fr-rv embed, body .fr-video.fr-rv object{top: 0px; left: 0px; width: 100%; height: 100%; position: absolute !important;}body .fr-video > *{box-sizing: content-box; max-width: 100%; border: none;}body .fr-video.fr-dvb{display: block; clear: both;}body .fr-video.fr-dvb.fr-fvl{text-align: left;}body .fr-video.fr-dvb.fr-fvr{text-align: right;}body .fr-video.fr-dvi{display: inline-block;}body .fr-video.fr-dvi.fr-fvl{float: left;}body .fr-video.fr-dvi.fr-fvr{float: right;}body a.fr-strong{font-weight: 700;}body a.fr-green{color: green;}body .fr-img-caption{text-align: center;}body .fr-img-caption .fr-img-wrap{padding: 0px; display: inline-block; margin: auto; text-align: center; width: 100%;}body .fr-img-caption .fr-img-wrap img{display: block; margin: auto; width: 100%;}body .fr-img-caption .fr-img-wrap > span{margin: auto; display: block; padding: 5px 5px 10px; font-size: 14px; font-weight: 400; box-sizing: border-box; opacity: 0.9; width: 100%; text-align: center;}body button.fr-rounded, body input.fr-rounded, body textarea.fr-rounded{border-radius: 10px; background-clip: padding-box;}body button.fr-large, body input.fr-large, body textarea.fr-large{font-size: 24px;}"}(exports.StyleUtils||(exports.StyleUtils={}))},2702:function(e,t,n){e.exports=function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"==typeof e}var o=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,s=void 0,r=void 0,a=function(e,t){C[i]=e,C[i+1]=t,2===(i+=2)&&(r?r(b):E())};function c(e){r=e}function l(e){a=e}var u="undefined"!=typeof window?window:void 0,h=u||{},d=h.MutationObserver||h.WebKitMutationObserver,p="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function m(){return function(){return process.nextTick(b)}}function g(){return void 0!==s?function(){s(b)}:S()}function v(){var e=0,t=new d(b),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function y(){var e=new MessageChannel;return e.port1.onmessage=b,function(){return e.port2.postMessage(0)}}function S(){var e=setTimeout;return function(){return e(b,1)}}var C=new Array(1e3);function b(){for(var e=0;e<i;e+=2)(0,C[e])(C[e+1]),C[e]=void 0,C[e+1]=void 0;i=0}function w(){try{var e=Function("return this")().require("vertx");return s=e.runOnLoop||e.runOnContext,g()}catch(e){return S()}}var E=void 0;function T(e,t){var n=this,o=new this.constructor(k);void 0===o[P]&&Z(o);var i=n._state;if(i){var s=arguments[i-1];a((function(){return q(i,o,s,n._result)}))}else j(n,o,e,t);return o}function A(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(k);return z(n,e),n}E=p?m():d?v():f?y():void 0===u?w():S();var P=Math.random().toString(36).substring(2);function k(){}var _=void 0,I=1,L=2,x={error:null};function O(){return new TypeError("You cannot resolve a promise with itself")}function F(){return new TypeError("A promises callback cannot return that same promise.")}function M(e){try{return e.then}catch(e){return x.error=e,x}}function D(e,t,n,o){try{e.call(t,n,o)}catch(e){return e}}function R(e,t,n){a((function(e){var o=!1,i=D(n,t,(function(n){o||(o=!0,t!==n?z(e,n):W(e,n))}),(function(t){o||(o=!0,B(e,t))}),"Settle: "+(e._label||" unknown promise"));!o&&i&&(o=!0,B(e,i))}),e)}function N(e,t){t._state===I?W(e,t._result):t._state===L?B(e,t._result):j(t,void 0,(function(t){return z(e,t)}),(function(t){return B(e,t)}))}function U(e,n,o){n.constructor===e.constructor&&o===T&&n.constructor.resolve===A?N(e,n):o===x?(B(e,x.error),x.error=null):void 0===o?W(e,n):t(o)?R(e,n,o):W(e,n)}function z(t,n){t===n?B(t,O()):e(n)?U(t,n,M(n)):W(t,n)}function H(e){e._onerror&&e._onerror(e._result),K(e)}function W(e,t){e._state===_&&(e._result=t,e._state=I,0!==e._subscribers.length&&a(K,e))}function B(e,t){e._state===_&&(e._state=L,e._result=t,a(H,e))}function j(e,t,n,o){var i=e._subscribers,s=i.length;e._onerror=null,i[s]=t,i[s+I]=n,i[s+L]=o,0===s&&e._state&&a(K,e)}function K(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var o=void 0,i=void 0,s=e._result,r=0;r<t.length;r+=3)o=t[r],i=t[r+n],o?q(n,o,i,s):i(s);e._subscribers.length=0}}function G(e,t){try{return e(t)}catch(e){return x.error=e,x}}function q(e,n,o,i){var s=t(o),r=void 0,a=void 0,c=void 0,l=void 0;if(s){if((r=G(o,i))===x?(l=!0,a=r.error,r.error=null):c=!0,n===r)return void B(n,F())}else r=i,c=!0;n._state!==_||(s&&c?z(n,r):l?B(n,a):e===I?W(n,r):e===L&&B(n,r))}function V(e,t){try{t((function(t){z(e,t)}),(function(t){B(e,t)}))}catch(t){B(e,t)}}var Y=0;function J(){return Y++}function Z(e){e[P]=Y++,e._state=void 0,e._result=void 0,e._subscribers=[]}function X(){return new Error("Array Methods must be provided an Array")}var Q=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(k),this.promise[P]||Z(this.promise),o(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?W(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&W(this.promise,this._result))):B(this.promise,X())}return e.prototype._enumerate=function(e){for(var t=0;this._state===_&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,o=n.resolve;if(o===A){var i=M(e);if(i===T&&e._state!==_)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===se){var s=new n(k);U(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(o(e),t)},e.prototype._settledAt=function(e,t,n){var o=this.promise;o._state===_&&(this._remaining--,e===L?B(o,n):this._result[t]=n),0===this._remaining&&W(o,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;j(e,void 0,(function(e){return n._settledAt(I,t,e)}),(function(e){return n._settledAt(L,t,e)}))},e}();function ee(e){return new Q(this,e).promise}function te(e){var t=this;return o(e)?new t((function(n,o){for(var i=e.length,s=0;s<i;s++)t.resolve(e[s]).then(n,o)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function ne(e){var t=new this(k);return B(t,e),t}function oe(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ie(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var se=function(){function e(t){this[P]=J(),this._result=this._state=void 0,this._subscribers=[],k!==t&&("function"!=typeof t&&oe(),this instanceof e?V(this,t):ie())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var n=this,o=n.constructor;return t(e)?n.then((function(t){return o.resolve(e()).then((function(){return t}))}),(function(t){return o.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();function re(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var o=null;try{o=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===o&&!t.cast)return}e.Promise=se}return se.prototype.then=T,se.all=ee,se.race=te,se.resolve=A,se.reject=ne,se._setScheduler=c,se._setAsap=l,se._asap=a,se.polyfill=re,se.Promise=se,se}()},127:function(e){e.exports='<div class="cz-announcement cz-sidebar-note cz-hover-click" style="display: block !important;" data-message-id="{{id}}" data-info-message="{{showInfoMessageString}}" id="cz-sidebar-note-{{sequence}}"> <div align="center" class="cz-nps-container"> <div style="{{NpsLogoStyle}}"> <div style="width: 33.3%; padding: 0 15px;"> <img src="{{NpsLogoUrl}}" !inline style="display: block; max-width: 100%; height: auto"> </div> </div> <table border="0" cellpadding="0" cellspacing="0" class="table"> <tr> <td align="center" class="survey"> <table align="center" border="0" cellpadding="0" cellspacing="0" class="questiontextcontainer"> <tr> <td align="center" class="questiontext" dir="ltr">{{NpsQuestion}}</td> </tr> </table> </td> </tr> </table> <table border="0" cellpadding="0" cellspacing="0" class="table" style="width: inherit"> <tr class="{{LabelsContainerClass}}"> <td width="9"></td> <td class="labels"> <table border="0" cellpadding="0" cellspacing="0" width="100%"> <tr> <td class="left" align="left" width="50%" style="padding-right: 20px!important;">{{NpsLowScoreText}}</td> <td class="right" align="right" width="50%" style="padding-left: 20px!important;">{{NpsHighScoreText}}</td> </tr> </table> </td> <td width="9"></td> </tr> <tr> <td width="9"></td> <td class="scores {{AdditionalScoresClass}}"> {{Buttons}} </td> <td width="9"></td> </tr> </table> </div> <span class="cz-announcement-timestamp">{{at}}</span> </div> '},6863:function(e){e.exports='<div class="cz-announcement cz-sidebar-note cz-hover-click" style="display: block !important;" data-message-id="{{id}}" id="cz-sidebar-note-{{sequence}}" data-info-message="{{showInfoMessageString}}"> <p> <a class="cz-nps-click" data-nps-url="{{npsUrl}}" data-nps-wide="{{wide}}" data-show-new-window="{{showNewWindow}}">{{npsQuestion}}</a> </p> <span class="cz-announcement-timestamp">{{at}}</span> </div> '},4374:function(e){e.exports='<div class="cz-slide-announcement {{announcementPositionClass}}"> <span class="{{closeClass}}"><i class="czi czi-times"></i></span> {{messageHtml}} </div> '},6674:function(e){e.exports=' <table align="right" border="0" cellpadding="0" cellspacing="0" class="spacer"> <tr> <td width="5" height="44">&nbsp;</td> </tr> </table>'},155:function(e){e.exports='<table align="right" border="0" cellpadding="0" cellspacing="0" class="score" style="min-width:42px" height="44"> <tr> <td align="center" valign="middle" style="{{Style}}" height="40"> <a class="cz-nps-click" data-nps-url="{{Url}}" data-nps-wide="{{Wide}}"> <span style="{{TextStyle}}">{{Label}}</span> </a> </td> </tr> </table>'},4502:function(e){e.exports='<div class="cz-announcement cz-sidebar-note cz-hover-click" style="display: block !important;" data-message-id="{{id}}" data-info-message="{{showInfoMessageString}}" id="cz-sidebar-note-{{sequence}}" data-nps-url="{{NpsUrl}}" data-show-new-window="{{showNewWindow}}" data-nps-wide="{{wide}}"> <div> {{Content}} </div> <span class="cz-announcement-timestamp">{{at}}</span> </div> '},7641:function(e){e.exports='<div class="cz-announcement cz-sidebar-note cz-hover-click cz-click-audit" style="display: block !important;" data-message-id="{{id}}" id="cz-sidebar-note-{{sequence}}" data-info-message="{{showInfoMessageString}}"> {{messageContent}} <span class="cz-announcement-timestamp">{{at}}</span> </div> '},1687:function(e){e.exports='<span class="cz-avatar"> <img !inline class="cz-avatar-img" src="{{avatarSrc}}" alt="..."> </span> '},4941:function(e){e.exports='<span class="cz-avatar"> <span class="cz-avatar-name">{{avatarSrc}}</span> </span> '},846:function(e){e.exports='<div class="cz-alert-message-text"> {{message}} </div> '},321:function(e,t,n){var o='<div id="cz_transBG" class="cz-transBG"> <div id="cz_popover" class="cz-popover"> <span class="cz-popover-close cz-close-popover-trigger"> <img src="'+n(7091)(n(8190))+'" style="display:none !important;" inline/> </span> <div id="cz_popover_content"></div> </div> </div> ';e.exports=o},7091:function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},2048:function(e,t,n){"use strict";n.r(t)},1984:function(e,t,n){"use strict";n.r(t),t.default=".cz-in-app-page-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n    min-height: 150px;\r\n}\r\n\r\n.cz-in-app-content-container {\r\n    padding: 20px;\r\n    flex-grow: 1;\r\n}\r\n\r\n.cz-close-in-app {\r\n    margin: 7px 10px 0 0;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    font-weight: 700;\r\n    color: transparent;\r\n    text-shadow: 0 0 0 #000;\r\n}\r\n\r\n/***** THIS IS FOR A HOTFIX! REMOVE THESE SOOOON! *****/\r\n.buttonLinkContainer {\r\n    text-align: center;\r\n}\r\n.buttonLink {\r\n    border-radius: 0.3em;\r\n    margin: 0 1em;\r\n    padding: 0.5em;\r\n    display: inline-block;\r\n    text-decoration: none;\r\n}\r\n.buttonLink:hover {\r\n    text-decoration: none;\r\n}\r\n\r\n.fr-no-border {\r\n    border-style: hidden !important;\r\n}\r\n"},8619:function(e,t,n){"use strict";n.r(t),t.default='*, ::before, ::after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n#cz_in_app_content_body {\r\n    overflow-x: hidden\r\n}\r\n\r\n.cz-in-app-content-container {\r\n    padding: 10px;\r\n}\r\n\r\n.cz-in-app-content-container .cz-announcement .cz-announcement-timestamp {\r\n    display: none !important;\r\n}\r\n\r\n.cz-announcement .cz-nps-container .questiontextcontainer .questiontext,\r\n.cz-announcement .cz-nps-container .labels table td.left,\r\n.cz-announcement .cz-nps-container .labels table td.right {\r\n    color: inherit !important;\r\n}\r\n\r\n.cz-nps-container [class*=" cz-survey-face-"]:before, .cz-nps-container [class^=cz-survey-face-]:before{\r\n    line-height: inherit !important;\r\n}\r\n'},4740:function(e,t,n){"use strict";n.r(t),t.default=".cz-walk-page-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n    min-height: 150px;\r\n}\r\n\r\n.cz-walk-content-container {\r\n    padding: 20px;\r\n    flex-grow: 1;\r\n}\r\n\r\n.cz-close-walk {\r\n    margin: 7px 10px 0 0;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    font-weight: 700;\r\n    color: transparent;\r\n    text-shadow: 0 0 0 #000;\r\n}\r\n\r\n.buttonLinkContainer {\r\n    text-align: center;\r\n}\r\n.buttonLink {\r\n    border-radius: 0.3em;\r\n    margin: 0 1em;\r\n    padding: 0.5em;\r\n    display: inline-block;\r\n    text-decoration: none;\r\n}\r\n.buttonLink:hover {\r\n    text-decoration: none;\r\n}\r\n"},8118:function(e,t,n){"use strict";n.r(t),t.default=".cz-walk-cta-container {\r\n    position: relative;\r\n    padding: 20px 10px;\r\n    width: 100%;\r\n    border-width: thin;\r\n    border-style: solid;\r\n    box-sizing: border-box;\r\n    margin-top: auto;\r\n}\r\n\r\n.cz-walk-cta-container .cz-walk-cta-button {\r\n    border-radius: 3px;\r\n    border-style: solid;\r\n    border-width: thin;\r\n    padding: 5px 10px;\r\n    box-shadow: none;\r\n    cursor: pointer\r\n}\r\n\r\n.has-top-step-number .cz-walk-content-container {\r\n    padding-top: 35px;\r\n}\r\n\r\n.has-top-right-step-number .cz-close-walk {\r\n    right: auto;\r\n    left: 0;\r\n    margin: 7px 0 0 10px\r\n}\r\n\r\n.has-bottom-step-number .cz-walk-cta-container {\r\n    padding-bottom: 35px\r\n}\r\n"},5581:function(e,t,n){"use strict";n.r(t),t.default="#cz_popover.cz-popover #cz_popover_content {\r\n    border-radius: 0 !important;\r\n}\r\n"},8438:function(e,t,n){"use strict";n.r(t),t.default=".cz-walk-step-number {\r\n    position: absolute;\r\n    z-index: 1;\r\n    font-size: 16px;\r\n    font-weight: 700\r\n}\r\n\r\n.cz-walk-step-number.top-left {\r\n    top: 0;\r\n    left: 0;\r\n    margin: 7px 0 0 10px\r\n}\r\n\r\n.cz-walk-step-number.top-center {\r\n    top: 0;\r\n    left: 50%;\r\n    margin-top: 7px;\r\n    transform: translate3d(-50%, 0, 0)\r\n}\r\n\r\n.cz-walk-step-number.top-right {\r\n    top: 0;\r\n    right: 0;\r\n    margin: 7px 10px 0 0\r\n}\r\n\r\n.cz-walk-step-number.bottom-left {\r\n    bottom: 0;\r\n    left: 0;\r\n    margin: 0 0 7px 10px\r\n}\r\n\r\n.cz-walk-step-number.bottom-center {\r\n    bottom: 0;\r\n    left: 50%;\r\n    margin-bottom: 7px;\r\n    transform: translate3d(-50%, 0, 0)\r\n}\r\n\r\n.cz-walk-step-number.bottom-right {\r\n    bottom: 0;\r\n    right: 0;\r\n    margin: 0 10px 7px 0\r\n}\r\n"},1385:function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(1667),i=n(t(7795));t(2048);var s=t(3256);if(!o.CoreUtils.FeatureDetection.isLegacyIE()){var r=window.ChurnZero||[];window.ChurnZero=(0,s.ChurnZeroExt)(r)||{};try{var a=function(){window.ChurnZero.boot(r)};"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?a():document.addEventListener("DOMContentLoaded",a)}catch(e){i.default.report("App.Main",e)}}},3256:function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChurnZeroExt=void 0;var o=n(t(9418));exports.ChurnZeroExt=function(e){var t=new o.default;return(null==e?void 0:e.name)===t.name?e:{boot:function(e){return t.boot(e)},push:function(e){return t.push(e)},halt:function(){return t.halt()},verify:function(){return t.verify()},debug:function(){return t.debug()},getQueue:function(){return t.getQueue()},currentModule:function(){return t.sessionSvc.CurrentModule||"Unknown"},name:t.name,version:t.version,templateCache:t.templateCache}}},9299:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OPEN_POLL_INTERVAL=exports.INACTIVE_POLL_INTERVAL=exports.DEFAULT_POLL_INTERVAL=void 0,exports.DEFAULT_POLL_INTERVAL=1e4,exports.INACTIVE_POLL_INTERVAL=3e4,exports.OPEN_POLL_INTERVAL=2500},629:function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SURVEY_CONTENT_CONTAINER_STYLES=exports.IN_APP_CONTENT_CONTAINER_STYLES=exports.WT_STEP_NUMBER_STYLES=exports.WT_CTA_CONTAINER_STYLES=exports.WT_CONTENT_CONTAINER_STYLES=exports.WT_POPUP_STYLES=void 0;var o=n(t(1984)),i=n(t(8619)),s=n(t(8118)),r=n(t(8438)),a=n(t(4740));function c(e){return e.replace(/\r\n/g,"")}var l=c(n(t(5581)).default);exports.WT_POPUP_STYLES=l;var u=c(a.default);exports.WT_CONTENT_CONTAINER_STYLES=u;var h=c(s.default);exports.WT_CTA_CONTAINER_STYLES=h;var d=c(r.default);exports.WT_STEP_NUMBER_STYLES=d;var p=c(o.default);exports.IN_APP_CONTENT_CONTAINER_STYLES=p;var f=c(i.default);exports.SURVEY_CONTENT_CONTAINER_STYLES=f},5409:function(e,exports,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ApplicationMarshal=void 0;var i=t(1667),s=o(t(8272)),r=o(t(5488)),a=o(t(7795)),c=t(1574),l=t(3024),u=t(8559),h=t(3753),d=t(325),p=t(9299),f=function(){function e(e,t,n,o,s,r,a,c,l,u,h){this.windowSvc=e,this.appSvc=t,this.commSvc=n,this.sessionSvc=o,this.storageSvc=s,this.tenantSvc=r,this.messageSvc=a,this.eventSvc=c,this.walkthroughSvc=l,this.checklistSvc=u,this.templateCache=h,this._subIds={},this._checklistLaunchers=[],this._launcherConfigs={},this.onDigest=this.onDigest.bind(this),this.onHalt=this.onHalt.bind(this),this.handleChecklistLauncherShow=this.handleChecklistLauncherShow.bind(this),this.handleChecklistConfigRefresh=this.handleChecklistConfigRefresh.bind(this),this.handleWindowResize=this.handleWindowResize.bind(this),this.debouncedResize=i.CoreUtils.debounce(this.handleWindowResize,200),this._subIds.digestSub=this.appSvc.pubsub.subscribe(i.ChurnZeroAppEvents.DIGEST,this.onDigest),this._subIds.haltSub=this.appSvc.pubsub.subscribe(i.ChurnZeroAppEvents.HALT,this.onHalt),this._subIds.checklistRefreshSub=this.commSvc.registerListener(i.SocketMessageTypes.SOCKETMESSAGETYPE_RefreshChecklistConfig,this.handleChecklistConfigRefresh),this.windowSvc.window.addEventListener("resize",this.debouncedResize),this.init()}return Object.defineProperty(e.prototype,"DevlessPanel",{get:function(){return this&&this._devlessPanel?this._devlessPanel:void 0},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.onHalt()},e.prototype.setSilent=function(e){e?(this._successPanel&&this.unloadSuccessPanel(),this._devlessLauncher&&this.unloadDevlessLauncher(),this._devlessPanel&&this.unloadDevlessPanel()):this._successPanel||this.tryLoadPanel()},e.prototype.openSuccessPanel=function(){this._successPanel&&(this._successPanel.show(!0),this._wasPanelOpenRequested=!0)},e.prototype.closeSuccessPanel=function(){this._successPanel&&this._successPanel.hide()},e.prototype.init=function(){var e=this;this.loadIndependentFramesStyles((function(){var t=e.sessionSvc,n=t.IsSilent,o=t.DevlessPanelEnabled,s=t.IsDevlessPanelOpen,r=!1;if(n||(!o&&e.loadIndependentLaunchers(),r=e.tryLoadPanel()),!r&&!o&&e.loadCustomCss(),o){e.loadDevlessCss(),e._subIds.loadDevlessPanelSubId||(e._subIds.loadDevlessPanelSubId=e.appSvc.pubsub.subscribe(i.DevlessEvents.DevlessShow,(function(t){e.loadDevlessPanel(t.info)})));var a=!r,c=e._successPanel instanceof d.SuccessCenterLauncher;a||c?e.loadDevlessLauncher(r,s):s&&e.appSvc.pubsub.publish(i.DevlessEvents.DevlessShow)}}))},e.prototype.onDigest=function(){this.appSvc.isMain&&this.tenantSvc.FeatureEnabled(l.ReleaseGates.JourneyChecklistReleased)&&this.checklistSvc.checkForUpdatedConfig();for(var e=0;e<this._checklistLaunchers.length;e++)this._checklistLaunchers[e].onDigest()},e.prototype.onHalt=function(){i.PubSuber.removeAll(this._subIds),this.windowSvc.window.removeEventListener("resize",this.debouncedResize),this.unloadDevlessPanel(),this.unloadSuccessPanel(),this.unloadDevlessLauncher(),this.unloadIndependentLaunchers(),this.unloadCustomCss(),this.unloadDevlessCss()},e.prototype.tryLoadPanel=function(){var e=this,t=!1;try{t=this.appSvc.isDebugging&&"true"===sessionStorage.getItem("czDebugPanelsV3")}catch(e){}var n=this.sessionSvc.SuccessCenterEnabled||t,o=this.sessionSvc.PanelEnabled,s=!1;return n?(this._successPanel=new d.SuccessCenterLauncher(this.sessionSvc.SuccessCenterConfig,this.commSvc,this.appSvc,this.tenantSvc,this.windowSvc,this.storageSvc,this.sessionSvc,this.messageSvc,this.templateCache),s=!0):o&&(this._successPanel=new u.SuccessPanelLauncher(this.windowSvc.document,this.appSvc,this.tenantSvc,this.windowSvc,this.storageSvc,this.sessionSvc,this.messageSvc,this.templateCache,this.commSvc,this.checklistSvc,this._wasPanelOpenRequested),s=!0),this._subIds.showSuccessPanelSubId=this.appSvc.pubsub.subscribe(i.ChurnZeroAppEvents.PanelShow,(function(){e.commSvc.setPollInterval(p.OPEN_POLL_INTERVAL),e.closeChecklistLaunchers()})),this._subIds.hideSuccessPanelSubId=this.appSvc.pubsub.subscribe(i.ChurnZeroAppEvents.PanelHide,(function(){e.commSvc.resetPollIntervalToDefault()})),s},e.prototype.unloadSuccessPanel=function(){this._successPanel&&(i.CoreUtils.hasOwnProp(this._successPanel,"onHalt")&&"function"==typeof this._successPanel.onHalt&&this._successPanel.onHalt(),this._successPanel=null)},e.prototype.loadDevlessPanel=function(e){var t=this;if(void 0===e&&(e=!1),!this._devlessPanel){this._devlessPanel=new s.default(this.windowSvc,this.storageSvc,this.sessionSvc,this.appSvc,this.commSvc,this.tenantSvc,this.eventSvc,this.walkthroughSvc,e);var n=!1;this._subIds.devlessShowSubId=this.appSvc.pubsub.subscribe(i.DevlessEvents.DevlessShow,(function(){var e,o,i,s,r;null===(e=t._devlessLauncher)||void 0===e||e.hidePanelToggle(),(t.sessionSvc.PanelEnabled||t.sessionSvc.SuccessCenterEnabled&&!t.isSuccessCenterInNewTab())&&(n=null!==(i=null===(o=t._successPanel)||void 0===o?void 0:o.basePanelVisible)&&void 0!==i&&i,null===(s=t._successPanel)||void 0===s||s.hide()),null===(r=t._successPanel)||void 0===r||r.hidePanelToggle(),t.commSvc.setPollInterval(p.OPEN_POLL_INTERVAL)})),this._subIds.devlessHideSubId=this.appSvc.pubsub.subscribe(i.DevlessEvents.DevlessHide,(function(){var e,o,i,s;null===(e=t._devlessLauncher)||void 0===e||e.showPanelToggle();var r=t.sessionSvc.PanelEnabled||t.sessionSvc.SuccessCenterEnabled&&!t.isSuccessCenterInNewTab();n&&r&&(null===(o=t._successPanel)||void 0===o||o.show()),null===(i=t._successPanel)||void 0===i||i.showPanelToggle(),(null===(s=t._successPanel)||void 0===s?void 0:s.basePanelVisible)?t.commSvc.setPollInterval(p.OPEN_POLL_INTERVAL):t.commSvc.resetPollIntervalToDefault()}))}},e.prototype.unloadDevlessPanel=function(){this._devlessPanel&&(this._devlessPanel.onHalt(),this._devlessPanel=null)},e.prototype.loadDevlessLauncher=function(e,t){var n=this;if(void 0===t&&(t=!1),!e)return this._devlessLauncher=new r.default(this.appSvc,this.tenantSvc,this.windowSvc,this.storageSvc,this.sessionSvc,this.messageSvc,this.templateCache,this.commSvc),void(t&&this._devlessLauncher.show());var o=this.appSvc.pubsub.subscribe(i.ChurnZeroAppEvents.PanelLauncherReady,(function(){o.remove(),n._devlessLauncher=new r.default(n.appSvc,n.tenantSvc,n.windowSvc,n.storageSvc,n.sessionSvc,n.messageSvc,n.templateCache,n.commSvc),n.handleDevlessLauncherCollisions(),t&&n._devlessLauncher.show()}))},e.prototype.unloadDevlessLauncher=function(){this._devlessLauncher&&(i.CoreUtils.hasOwnProp(this._devlessLauncher,"onHalt")&&"function"==typeof this._devlessLauncher.onHalt&&this._devlessLauncher.onHalt(),this._devlessLauncher=null)},e.prototype.loadIndependentLaunchers=function(){var e=this;if(this.sessionSvc.PanelEnabled||this.sessionSvc.SuccessCenterEnabled)var t=this.appSvc.pubsub.subscribe(i.ChurnZeroAppEvents.PanelLauncherReady,(function(){t.remove(),e.populateChecklistLaunchers()}));else this.populateChecklistLaunchers()},e.prototype.loadIndependentFramesStyles=function(e,t){this._independentFrameStyles=this.windowSvc.createElement("link"),this._independentFrameStyles.addEventListener("load",(function(){"function"==typeof e&&e()})),this._independentFrameStyles.addEventListener("error",(function(e){var n,o="independent_frames.css failed to load.";e&&(i.CoreUtils.hasOwnProp(e,"error")?n=e.error:"string"==typeof e?o=e:i.CoreUtils.hasOwnProp(e,"message")&&(o=e.message)),n=n||new Error(o),a.default.report("ApplicationMarshal.loadIndependentFramesStyles",n),"function"==typeof t&&t()})),this._independentFrameStyles.id="cz-independent-frame-styles",this._independentFrameStyles.type="text/css",this._independentFrameStyles.rel="stylesheet",this._independentFrameStyles.href=this.appSvc.addCdn("css/independent_frames.css"),this.windowSvc.document.head.appendChild(this._independentFrameStyles)},e.prototype.unloadIndependentLaunchers=function(){for(var e,t,n,o,i,s=this._checklistLaunchers.length,r=0;r<s;r++)this._checklistLaunchers[r].onHalt(),this._checklistLaunchers[r]=null;for(this._checklistLaunchers=[];null===(e=this._checklistLauncherContainer)||void 0===e?void 0:e.lastChild;)this._checklistLauncherContainer.removeChild(this._checklistLauncherContainer.firstChild);null===(n=null===(t=this._checklistLauncherContainer)||void 0===t?void 0:t.parentElement)||void 0===n||n.removeChild(this._checklistLauncherContainer),this._checklistLauncherContainer=null,null===(i=null===(o=this._independentFrameStyles)||void 0===o?void 0:o.parentElement)||void 0===i||i.removeChild(this._independentFrameStyles),this._independentFrameStyles=null},e.prototype.loadCustomCss=function(){var e;(null===(e=this.sessionSvc.CurrentAccountContent)||void 0===e?void 0:e.css)&&(this._customCssStyles=this.windowSvc.document.createElement("style"),this._customCssStyles.id="cz-custom-css-styles_no-panel",this._customCssStyles.textContent=this.sessionSvc.CurrentAccountContent.css,this.windowSvc.document.head.appendChild(this._customCssStyles))},e.prototype.unloadCustomCss=function(){var e,t;null===(t=null===(e=this._customCssStyles)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this._customCssStyles),this._customCssStyles=null},e.prototype.loadDevlessCss=function(){var e;(null===(e=this.sessionSvc.CurrentAccountContent)||void 0===e?void 0:e.devlessCss)&&(this._devlessCssStyles=this.windowSvc.document.createElement("style"),this._devlessCssStyles.id="cz-devless-css-styles",this._devlessCssStyles.textContent=this.sessionSvc.CurrentAccountContent.devlessCss,this.windowSvc.document.head.appendChild(this._devlessCssStyles))},e.prototype.unloadDevlessCss=function(){var e,t;null===(t=null===(e=this._devlessCssStyles)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this._devlessCssStyles),this._devlessCssStyles=null},e.prototype.populateChecklistLaunchers=function(){var e,t,o,s,r=this,a=this.windowSvc.document.querySelector("body");if(a&&this.tenantSvc.FeatureEnabled(l.ReleaseGates.JourneyChecklistReleased)&&this.tenantSvc.FeatureEnabled(l.ReleaseGates.JourneyChecklistPhaseTwoReleased)){var u=this.checklistSvc.getChecklistConfig()||{items:[],properties:{}},h=u.items,d=u.properties,p=h.filter((function(e){return 2===e.uiPositionId||!r.sessionSvc.PanelEnabled&&!r.sessionSvc.SuccessCenterEnabled})),f=p.length;if(0!==(null!==(t=null===(e=this._checklistLaunchers)||void 0===e?void 0:e.length)&&void 0!==t?t:0)||0!==f){var m="cz_checklist_launcher_container",g=this.windowSvc.document.getElementById(m);if(g?!this._checklistLauncherContainer&&g&&(this._checklistLauncherContainer=g):(this._checklistLauncherContainer=this.windowSvc.createElement("div"),this._checklistLauncherContainer.id=m,a.appendChild(this._checklistLauncherContainer)),this._checklistLauncherContainer){var v=d.globalSettingsConfig||{},y=n(n({},i.CZ_DEFAULT_CHECKLIST_SETTINGS_CONFIG),v),S=i.ModelUtils.create(new i.ChecklistSettingsConfig,y);this._launcherConfigs.checklistSettings=n({},S),this._checklistLauncherContainer.className=this.checklistSvc.getPositionalClassNameFromConfig(S);var C=S.launchIconType===i.LaunchIconType.Float?"float":"tabbed";this._checklistLauncherContainer.classList.add("cz-independent-frame-container"),this._checklistLauncherContainer.classList.add(C),this._checklistLauncherContainer.removeAttribute("style");for(var b=p.map((function(e){return e.id})),w=this._checklistLaunchers.length;w--;){var E=this._checklistLaunchers[w];b.indexOf(E.getId())>-1||(E.onHalt(),E=null,this._checklistLaunchers.splice(w,1))}for(var T=this._checklistLaunchers.map((function(e){return e.getId()})),A=0;A<f;A++){var P=p[A],k={domOrder:A,isLastChild:A===f-1},_=T.indexOf(P.id);if(_>-1)this._checklistLaunchers[_].updateMetaData(k);else(E=new c.JourneyChecklistLauncher(P,S,this._checklistLauncherContainer,this.appSvc,this.tenantSvc,this.windowSvc,this.storageSvc,this.sessionSvc,this.messageSvc,this.templateCache,this.checklistSvc,k)).registerShowListener(this.handleChecklistLauncherShow),E.onInit(),this._checklistLaunchers.push(E)}if(0===this._checklistLaunchers.length)return null===(s=null===(o=this._checklistLauncherContainer)||void 0===o?void 0:o.parentElement)||void 0===s||s.removeChild(this._checklistLauncherContainer),void(this._checklistLauncherContainer=null);this.applyChecklistContainerOffsets(),this.handleChecklistLauncherCollisions(),this.calculateFramePositions(),this._checklistLauncherContainer.classList.add("in")}}}},e.prototype.handleChecklistLauncherCollisions=function(){var e,t,n,o;if(!this._launcherConfigs.checklistSettings.disableCollisionDetection){var s=null===(e=this._successPanel)||void 0===e?void 0:e.getLauncherBoundingRectangle(!0);if(s){var r=null===(t=this._checklistLauncherContainer)||void 0===t?void 0:t.getBoundingClientRect();if(r&&h.DOMUtils.hasCollision(r,s)){switch(null===(o=null===(n=this._launcherConfigs)||void 0===n?void 0:n.checklistSettings)||void 0===o?void 0:o.launchIconPosition){case i.LaunchIconPosition.TopCenter:case i.LaunchIconPosition.BottomCenter:var a=s.left-r.width-10;this._checklistLauncherContainer.style.setProperty("left","".concat(a,"px"),"important"),this._checklistLauncherContainer.classList.add("no-transforms");break;case i.LaunchIconPosition.LeftCenter:case i.LaunchIconPosition.RightCenter:case i.LaunchIconPosition.TopLeft:case i.LaunchIconPosition.TopRight:a=s.bottom+10;this._checklistLauncherContainer.style.setProperty("top","".concat(a,"px"),"important"),this._checklistLauncherContainer.classList.add("no-transforms");break;case i.LaunchIconPosition.BottomLeft:default:a=this.windowSvc.document.documentElement.clientHeight-s.bottom+s.height+10;this._checklistLauncherContainer.style.setProperty("bottom","".concat(a,"px"),"important")}}}}},e.prototype.applyChecklistContainerOffsets=function(){var e,t=this;if(this.checklistSvc.configHasOffsets(this._launcherConfigs.checklistSettings)){var n=null===(e=this._launcherConfigs)||void 0===e?void 0:e.checklistSettings,o=n.launchIconOffsetHorizontal,s=n.launchIconOffsetVertical,r=n.launchIconPosition,a=this.windowSvc.window.getComputedStyle(this._checklistLauncherContainer),c=a.top,l=a.right,u=a.bottom,h=a.left,d=function(e,n){return t._checklistLauncherContainer.style.setProperty(e,"".concat(n,"px"),"important")},p=parseInt(c)+-1*s,f=parseInt(l)+-1*o,m=parseInt(u)+s,g=parseInt(h)+o;switch(r){case i.LaunchIconPosition.TopCenter:case i.LaunchIconPosition.BottomCenter:case i.LaunchIconPosition.LeftCenter:d("top",p),d("left",g);break;case i.LaunchIconPosition.RightCenter:d("top",p),d("right",f);break;case i.LaunchIconPosition.TopLeft:d("top",p),d("left",g);break;case i.LaunchIconPosition.TopRight:d("top",p),d("right",f);break;case i.LaunchIconPosition.BottomLeft:d("bottom",m),d("left",g);break;default:d("bottom",m),d("right",f)}}},e.prototype.calculateFramePositions=function(){for(var e=this._checklistLaunchers.length,t=0;t<e;t++)this._checklistLaunchers[t].calculateFramePositions()},e.prototype.handleChecklistLauncherShow=function(e){this.closeChecklistLaunchers(e),this.closeSuccessPanel()},e.prototype.closeChecklistLaunchers=function(e){for(var t=this._checklistLaunchers.length,n=0;n<t;n++){var o=this._checklistLaunchers[n];o.getId()!==e&&o.hide()}},e.prototype.handleWindowResize=function(){var e=this;this._checklistLauncherContainer&&(this._checklistLauncherContainer.classList.remove("in"),this._checklistLauncherContainer.removeAttribute("style"),this.windowSvc.window.setTimeout((function(){e.applyChecklistContainerOffsets(),e.handleChecklistLauncherCollisions(),e.calculateFramePositions(),e._checklistLauncherContainer.classList.add("in")}),100))},e.prototype.handleChecklistConfigRefresh=function(e){var t=e.info,n=this.checklistSvc.getChecklistConfig();(null==t?void 0:t.version)!==(null==n?void 0:n.version)&&(this.checklistSvc.SeedData(t),this.appSvc.debug("Checklist config refreshed with version ".concat(t.version)),this.appSvc.isMain&&this.tenantSvc.FeatureEnabled(l.ReleaseGates.JourneyChecklistReleased)&&(this.tenantSvc.FeatureEnabled(l.ReleaseGates.JourneyChecklistPhaseTwoReleased)&&!this.sessionSvc.IsSilent&&!this.sessionSvc.DevlessPanelEnabled&&this.populateChecklistLaunchers(),this.appSvc.pubsub.publish(i.ChurnZeroAppEvents.JourneyChecklistRefreshed)))},e.prototype.handleDevlessLauncherCollisions=function(){var e,t,n=null===(e=this._successPanel)||void 0===e?void 0:e.getLauncherBoundingRectangle(!0);if(n){var o=null===(t=this._devlessLauncher)||void 0===t?void 0:t.getLauncherBoundingRectangle(!0);if(o&&h.DOMUtils.hasCollision(o,n)){i.LaunchIconPosition.BottomRight;var s=this.windowSvc.document.documentElement.clientHeight-n.bottom+n.height+10;this._devlessLauncher.positionLauncher({bottom:"".concat(s,"px")})}}},e.prototype.isSuccessCenterInNewTab=function(){var e=!1;try{e=this.appSvc.isDebugging&&"true"===sessionStorage.getItem("czDebugPanelsV3")}catch(e){}return(this.sessionSvc.SuccessCenterEnabled||e)&&this.sessionSvc.SuccessCenterConfig.locationTypeId===i.SuccessCenterLocation.NewTab},e}();exports.ApplicationMarshal=f},8272:function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(721),i=n(t(4246)),s=t(1667),r=t(9299),a=function(){function e(e,t,n,o,i,r,a,c,l){void 0===l&&(l=!1);var u=this;this.windowSvc=e,this.storageSvc=t,this.sessionSvc=n,this.appSvc=o,this.commSvc=i,this.tenantSvc=r,this.eventSvc=a,this.walkthroughSvc=c,this.subIds={},this._adminPanelState=null,this.buildIframe(),this.initEventHandlers(l),this.subIds.onHaltSubId=this.appSvc.pubsub.subscribe(s.ChurnZeroAppEvents.HALT,(function(){return u.onHalt}))}return Object.defineProperty(e.prototype,"AdminPanelState",{get:function(){return this._adminPanelState||(this._adminPanelState=this.storageSvc.get(e.storageKeys.AdminPanelState,{height:"365px",lastStatus:"",lastStatusData:""})),this._adminPanelState},set:function(e){this._adminPanelState=e,this.persistState()},enumerable:!1,configurable:!0}),e.prototype.onHalt=function(){this.persistState(),s.PubSuber.removeAll(this.subIds),this.frame&&(this.frame.parentNode.removeChild(this.frame),this.frame=null),this.frameResizer&&(this.frameResizer.parentNode.removeChild(this.frameResizer),this.frameResizer=null)},e.prototype.persistState=function(){this.storageSvc.set(e.storageKeys.AdminPanelState,this._adminPanelState)},e.prototype.buildIframe=function(){var e="".concat(this.appSvc.WebAppDomain,"devless/");e+="?ak=".concat(encodeURIComponent(this.commSvc.appKey),"&ti=").concat(this.tenantSvc.currentTenantId());var t,n=this.windowSvc.createElement("iframe");try{t=parseInt(this.AdminPanelState.height||"265px")}catch(e){t=265}var o=t-7.5;n.id="cz-devless-iframe",n.src=e,n.style.display="block",n.style.position="fixed",n.style.bottom="0",n.style.left="0",n.style.right="0",n.style.maxHeight="100vh",n.style.height=t+"px",n.style.width="100%",n.style.zIndex="1000000",n.style.border="none";var i=this.windowSvc.createElement("div");i.id="cz-devless-iframe-resizer",i.style.display="block",i.style.position="fixed",i.style.bottom=o+"px",i.style.left="0",i.style.right="0",i.style.width="100%",i.style.height="".concat(15,"px"),i.style.zIndex="1000002",i.style.cursor="row-resize",i.ondragstart=function(){return!1};var s=this.appSvc.environment;"t"!==s&&"d"!==s||n.addEventListener("load",(function(e){try{e.target.contentWindow.parent.document.getElementsByTagName("html")[0].classList.add("cz-devless-ready")}catch(e){}}),{once:!0}),this.windowSvc.elementCache.body[0].appendChild(i),this.windowSvc.elementCache.body[0].appendChild(n),this.frame=n,this.frameResizer=i},e.prototype.initEventHandlers=function(e){var t=this;void 0===e&&(e=!1),this.appSvc.pubsub.addMirror((function(e){if(t.frame&&t.frame.contentWindow){var n=s.iFrameUtils.encrypt(t.windowSvc.JSON.stringify(s.iFrameUtils.buildTransportMessage(s.TransportCodes.PubSubMirror,e)));t.frame.contentWindow.postMessage(n,"*")}})),this.appSvc.addChildFrameListener(),this.subIds.devlessInitSubId=this.appSvc.pubsub.subscribe(o.Enums.DevlessEvents.DevlessInit,(function(){var n={clientSideUrls:t.windowSvc.clientSideUrls,webAppDomain:t.appSvc.WebAppDomain,height:t.AdminPanelState.height,currentTenantId:t.tenantSvc.currentTenantId(),locationHref:t.windowSvc.href(),wasUserDrivenOpen:e,featureFlags:t.tenantSvc.getFeatureFlags()};t.appSvc.pubsub.publish(o.Enums.DevlessEvents.DevlessConnectionInfo,n),t.initElementFinder()})),this.subIds.devlessShowSubId=this.appSvc.pubsub.subscribe(o.Enums.DevlessEvents.DevlessShow,(function(){t.frame.style.display="block",t.frameResizer.style.display="block",t.commSvc.setPollInterval(r.OPEN_POLL_INTERVAL),t.sessionSvc.IsDevlessPanelOpen=!0})),this.subIds.devlessHideSubId=this.appSvc.pubsub.subscribe(o.Enums.DevlessEvents.DevlessHide,(function(){t.frame.style.display="none",t.frameResizer.style.display="none",t.sessionSvc.IsDevlessPanelOpen=!1})),this.subIds.devlessResizeSubId=this.appSvc.pubsub.subscribe(o.Enums.DevlessEvents.DevlessResize,(function(e){var n=e.info;n.height&&(t.frame.style.height=n.height||t.frame.style.height),n.width&&(t.frame.style.width=n.width||t.frame.style.width),n.left&&(t.frame.style.left=n.left||t.frame.style.width),n.disableResizing?t.frameResizer.style.display="none":t.frameResizer.style.display="block"})),this.subIds.devlessElementExistsSubId=this.appSvc.pubsub.subscribe(o.Enums.DevlessEvents.DevlessElementExistsCheck,(function(e){var n=t.windowSvc.czq(e.info.selector).length>0;t.appSvc.pubsub.publish(o.Enums.DevlessEvents.DevlessElementExistsCheckResponse,{selector:e.info.selector,exists:n})})),this.subIds.devlessCurrentHrefSubId=this.appSvc.pubsub.subscribe(o.Enums.DevlessEvents.DevlessCurrentHref,(function(e){t.appSvc.pubsub.publish(o.Enums.DevlessEvents.DevlessCurrentHrefResponse,{currentHref:t.windowSvc.href()})})),this.subIds.devlessPushSubId=this.appSvc.pubsub.subscribe(o.Enums.DevlessEvents.DevlessPush,(function(e){var n=e.info;t.windowSvc.window.ChurnZero.push(n)})),this.initResizer()},e.prototype.initResizer=function(){var e,t,n,i=this,s=this.frameResizer,r=this.frame,a=null;function c(o){o.preventDefault();var i=e-o.clientY;s.style.bottom=t+i+"px",r.style.height=n+i+"px",a.style.height=n+i+"px"}function l(e){document.documentElement.removeEventListener("mousemove",c),s.removeEventListener("mouseup",l),s.style.backgroundColor="transparent",s.style.position="fixed",i.AdminPanelState.height=r.style.height,i.persistState(),i.appSvc.pubsub.publish(o.Enums.DevlessEvents.DevlessIframeResized,{height:r.style.height});var t=document.querySelectorAll(".cz-resize-guard");if(t)for(var n=0;n<t.length;n++){var a=t[n];a&&a.parentElement&&a.parentElement.removeChild(a)}}this.frameResizer.addEventListener("mousedown",(function(o){var i=document.defaultView.getComputedStyle(r);(a=document.createElement("DIV")).classList.add("cz-resize-guard"),a.style.position="fixed",a.style.zIndex="1000001",a.style.left="0",a.style.right="0",a.style.bottom="0",a.style.height=parseInt(i.height,10)+"px",a.style.backgroundColor="transparent",e=o.clientY,n=parseInt(i.height,10),t=parseInt(document.defaultView.getComputedStyle(s).bottom,10),document.documentElement.addEventListener("mousemove",c),s.addEventListener("mouseup",l),s.style.backgroundColor="rgba(0,0,0,0.5)",s.style.position="fixed",document.body.append(s),document.body.append(a)}))},e.prototype.initElementFinder=function(){var e=this;this.elementFinder||(this.elementFinder=new i.default({elementNamespace:"element-finder-border",pubHubElement:"body",ignoreContainerFilter:"cz-devless-iframe",eventNamespace:"element-finder-event",keepBordersOnClick:!0,onHoverFunction:this.updateHoverTextHandler.bind(this),onSelectedFunction:this.elementSelectedHandler.bind(this),onHighlightFunction:this.elementHighlightedHandler.bind(this)},this.windowSvc)),this.subIds.elementFinderStartSubId=this.appSvc.pubsub.subscribe(o.Enums.DevlessEvents.ElementFinderStart,(function(t){e.elementFinder.start(),e.raiseDevlessFrame()})),this.subIds.elementFinderStopSubId=this.appSvc.pubsub.subscribe(o.Enums.DevlessEvents.ElementFinderStop,(function(t){e.elementFinder.stop(t.info),e.lowerDevlessFrame()})),this.subIds.elementFinderHighlightElementSubId=this.appSvc.pubsub.subscribe(o.Enums.DevlessEvents.ElementFinderHighlightElement,(function(t){e.elementFinder.highlightElement(t.info.selector)}))},e.prototype.updateHoverTextHandler=function(e,t){var n={description:this.windowSvc.buildSelector(t),textValue:s.CoreUtils.getTextFromElement(this.windowSvc.czq(t))};this.appSvc.pubsub.publish(o.Enums.DevlessEvents.ElementFinderHoverUpdate,n)},e.prototype.elementSelectedHandler=function(e,t){var n={description:this.windowSvc.buildSelector(t),textValue:s.CoreUtils.getTextFromElement(this.windowSvc.czq(t))};this.appSvc.pubsub.publish(o.Enums.DevlessEvents.ElementFinderElementSelected,n),this.lowerDevlessFrame()},e.prototype.elementHighlightedHandler=function(e){var t={description:this.windowSvc.buildSelector(e.get(0)),textValue:s.CoreUtils.getTextFromElement(e)};this.appSvc.pubsub.publish(o.Enums.DevlessEvents.ElementFinderElementHighlighted,t),this.lowerDevlessFrame()},e.prototype.raiseDevlessFrame=function(){this.frame.style.zIndex="1000001"},e.prototype.lowerDevlessFrame=function(){this.frame.style.zIndex="1000000"},e.storageKeys={AdminPanelState:"ADMIN_PANEL__STATE"},e}();exports.default=a},4246:function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=n(t(7795)),i=t(1667),s=function(){function e(t,n){this.windowSvc=n,this.isInited=!1,this.options=this.windowSvc.czq.extend({},e.defaultOptions,t||{}),this.init()}return e.prototype.init=function(){this.options.eventNamespace&&"."!==this.options.eventNamespace.substring(0,1)&&(this.options.eventNamespace="."+this.options.eventNamespace),this.elements={pubHub:this.windowSvc.czq(this.options.pubHubElement),iframes:null,borderElements:void 0,extraBorders:[]}},e.prototype.start=function(){var e=this;this.stop(),this._initStylesheet(),this._addBorderElements(),this.boundSelectionHandler=this._elementSelectedHandler.bind(this),this.elements.pubHub.get(0).addEventListener("click",this.boundSelectionHandler,!0),this.elements.pubHub.on(this._nameSpaceEvent("mouseover"),this._mouseOverHandler.bind(this)),this.elements.iframes=this.elements.pubHub.find("iframe"),this.elements.iframes.each((function(t,n){var o=e.windowSvc.czq(n);try{o.contents().on(e._nameSpaceEvent("mouseover"),(function(t){e._mouseOverHandler(t,o)})).on(e._nameSpaceEvent("click"),(function(t){e._elementSelectedHandler(t)}))}catch(n){}})),this.IsFinding=!0},e.prototype.stop=function(e){var t=this;e||(this._removeBorderElements(),this.currentHover=null),this.elements.pubHub.get(0).removeEventListener("click",this.boundSelectionHandler,!0),this.boundSelectionHandler=null,this.elements.pubHub.off(this.options.eventNamespace),this.elements.iframes&&this.elements.iframes.each((function(e,n){try{t.windowSvc.czq(n).contents().off(t.options.eventNamespace)}catch(n){}})),this.IsFinding=!1},e.prototype.highlightElement=function(e){var t,n,o=this;if(this._initStylesheet(),this._addBorderElements(),"string"==typeof e){if(!((n=this.windowSvc.czq(e)).length>0))return;t=n}else t=this.windowSvc.czq(e);t.length>0&&(this._removeBorderElements(),t.each((function(e,t){var n=o.buildBorderElements();o.elements.extraBorders.push(n),o._updateBorderPositions(n,t)})),this.options.onHighlightFunction&&"function"==typeof this.options.onHighlightFunction&&this.options.onHighlightFunction(t))},e.prototype._initStylesheet=function(){if(!0!==this.isInited){var e="."+this.options.elementNamespace+" {    background: mediumpurple;    position: absolute;    z-index: 1000000;}";this._writeStylesheet(e),this.isInited=!0}},e.prototype._elementSelectedHandler=function(e){try{e.preventDefault(),e.stopPropagation();var t=e.target;if(this._isIgnorableElement(t)){if(!this.currentHover||this._isIgnorableElement(this.currentHover))return!1;t=this.currentHover}this.options.onSelectedFunction&&"function"==typeof this.options.onSelectedFunction&&this.options.onSelectedFunction(e,t),this.stop(this.options.keepBordersOnClick)}catch(e){o.default.report("ElementFinder.SelectedHandler",e)}return!1},e.prototype._mouseOverHandler=function(e,t){var n,o=e.target;this._isIgnorableElement(o)||(void 0!==t&&(n=t.offset()),this._updateBorderPositions(this.elements.BorderElements,o,n),this.currentHover=o,this.options.onHoverFunction&&"function"==typeof this.options.onHoverFunction&&this.options.onHoverFunction(e,o))},e.prototype._addBorderElements=function(){this._removeBorderElements();var e=this.buildBorderElements();this.elements.BorderElements=this.elements.BorderElements||{},this.elements.BorderElements.top=e.top,this.elements.BorderElements.right=e.right,this.elements.BorderElements.bottom=e.bottom,this.elements.BorderElements.left=e.left},e.prototype.buildBorderElements=function(){return{top:this.windowSvc.czq("<div></div>").addClass(this.options.elementNamespace).appendTo("body"),right:this.windowSvc.czq("<div></div>").addClass(this.options.elementNamespace).appendTo("body"),bottom:this.windowSvc.czq("<div></div>").addClass(this.options.elementNamespace).appendTo("body"),left:this.windowSvc.czq("<div></div>").addClass(this.options.elementNamespace).appendTo("body")}},e.prototype._removeBorderElements=function(){var e=this;this.windowSvc.czq.each(this.elements.BorderElements||{},(function(e,t){t.remove()})),this.elements.extraBorders.forEach((function(t){e.windowSvc.czq.each(t||{},(function(e,t){t.remove()}))}))},e.prototype._updateBorderPositions=function(e,t,n){if(!(!t||this.options.elementNamespace&&t.className&&-1!==t.className.indexOf(this.options.elementNamespace))){var o=this.windowSvc.elementCache.window.scrollTop(),i=t.getBoundingClientRect(),s=i.top+o,r=i.left;n&&void 0!==n.top&&void 0!==n.left&&(s=i.top+n.top,r+=n.left),e.top.css({top:Math.max(0,s-3),left:r-3,width:i.width+3,height:3}),e.bottom.css({top:s+i.height,left:r-3,width:i.width+3,height:3}),e.left.css({top:s-3,left:Math.max(0,r-3),width:3,height:i.height+3}),e.right.css({top:s-3,left:r+i.width,width:3,height:i.height+6})}},e.prototype._writeStylesheet=function(e){var t=document.createElement("style");t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.innerHTML=e},e.prototype._nameSpaceEvent=function(e){return e+this.options.eventNamespace},e.prototype._isIgnorableElement=function(e){var t=document.getElementById(this.options.ignoreContainerFilter);if(t&&t.contains(e)||e.classList.contains("element-finder-border"))return!0;var n=e;if(e.classList.contains("cz-walkthrough-anchor")||i.CoreUtils.closest(n,".cz-walkthrough-anchor"))return!0;if("cz_success_center_container"===(null==e?void 0:e.id)||i.CoreUtils.closest(n,"#cz_success_center_container"))return!0;var o=!1;switch((e.tagName||"").toLowerCase()){case"input":o="password"===(e.type||"").toLowerCase();break;case"option":o=!0}return o},e.defaultOptions={elementNamespace:"element-finder-border",pubHubElement:"body",ignoreContainerFilter:"",eventNamespace:".element-finder-event",keepBordersOnClick:!1,onHoverFunction:!1,onSelectedFunction:!1,onHighlightFunction:!1},e}();exports.default=s},721:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Enums=void 0,function(e){!function(e){e[e.Mapped=1]="Mapped",e[e.Unmapped=2]="Unmapped"}(e.EventTypes||(e.EventTypes={})),function(e){e[e.Site=1]="Site",e[e.Page=2]="Page"}(e.LocationTypes||(e.LocationTypes={})),function(e){e[e.Suggested=1]="Suggested",e[e.Custom=2]="Custom"}(e.SelectorTypes||(e.SelectorTypes={})),function(e){e[e.PubSubMirror=1]="PubSubMirror",e[e.FrameComm=2]="FrameComm",e[e.WalkthroughClickAudit=3]="WalkthroughClickAudit"}(e.TransportCodes||(e.TransportCodes={})),function(e){e[e.SubframeBoot=1001]="SubframeBoot",e[e.SubframeBootResponse=1002]="SubframeBootResponse",e[e.SubFramePassback=1003]="SubFramePassback",e[e.MainFrameComRePublish=1004]="MainFrameComRePublish",e[e.MainFramePassdown=1005]="MainFramePassdown"}(e.FrameCommCodes||(e.FrameCommCodes={})),function(e){e[e.DevlessInit=2001]="DevlessInit",e[e.DevlessConnectionInfo=2002]="DevlessConnectionInfo",e[e.DevlessShow=2003]="DevlessShow",e[e.DevlessHide=2004]="DevlessHide",e[e.DevlessResize=2005]="DevlessResize",e[e.DevlessIframeResized=2006]="DevlessIframeResized",e[e.DevlessElementExistsCheck=2007]="DevlessElementExistsCheck",e[e.DevlessElementExistsCheckResponse=2008]="DevlessElementExistsCheckResponse",e[e.DevlessCurrentHref=2009]="DevlessCurrentHref",e[e.DevlessCurrentHrefResponse=2010]="DevlessCurrentHrefResponse",e[e.DevlessPush=2011]="DevlessPush",e[e.ElementFinderStart=2012]="ElementFinderStart",e[e.ElementFinderStop=2013]="ElementFinderStop",e[e.ElementFinderElementSelected=2014]="ElementFinderElementSelected",e[e.ElementFinderHoverUpdate=2015]="ElementFinderHoverUpdate",e[e.ElementFinderHighlightElement=2016]="ElementFinderHighlightElement",e[e.ElementFinderElementHighlighted=2017]="ElementFinderElementHighlighted",e[e.EditorSet=2018]="EditorSet",e[e.EditorChanged=2019]="EditorChanged"}(e.DevlessEvents||(e.DevlessEvents={})),function(e){e[e.SOCKETMESSAGETYPE_DISCONNECT=-2]="SOCKETMESSAGETYPE_DISCONNECT",e[e.SOCKETMESSAGETYPE_INITIAL_CONNECTION=-1]="SOCKETMESSAGETYPE_INITIAL_CONNECTION",e[e.SOCKETMESSAGETYPE_ANNOUNCEMENT=1]="SOCKETMESSAGETYPE_ANNOUNCEMENT",e[e.SOCKETMESSAGETYPE_USER_ACCOUNT_ALERT=5]="SOCKETMESSAGETYPE_USER_ACCOUNT_ALERT",e[e.SOCKETMESSAGETYPE_TRACK_EVENT=6]="SOCKETMESSAGETYPE_TRACK_EVENT",e[e.SOCKETMESSAGETYPE_SET_ATTRIBUTE=7]="SOCKETMESSAGETYPE_SET_ATTRIBUTE",e[e.SOCKETMESSAGETYPE_IS_ACTIVE=8]="SOCKETMESSAGETYPE_IS_ACTIVE",e[e.SOCKETMESSAGETYPE_MESSAGE_READ=9]="SOCKETMESSAGETYPE_MESSAGE_READ",e[e.SOCKETMESSAGETYPE_MESSAGE_CLICKED=10]="SOCKETMESSAGETYPE_MESSAGE_CLICKED",e[e.SOCKETMESSAGETYPE_CHECK_ONLINE=11]="SOCKETMESSAGETYPE_CHECK_ONLINE",e[e.SOCKETMESSAGETYPE_CHECK_ONLINE_RESULT=12]="SOCKETMESSAGETYPE_CHECK_ONLINE_RESULT",e[e.SOCKETMESSAGETYPE_UPDATE_APP_VERSION=13]="SOCKETMESSAGETYPE_UPDATE_APP_VERSION",e[e.SOCKETMESSAGETYPE_EXPIRE_MESSAGE=14]="SOCKETMESSAGETYPE_EXPIRE_MESSAGE",e[e.SOCKETMESSAGETYPE_CHECK_EVENT_MAP_CONFIG_VERSION=15]="SOCKETMESSAGETYPE_CHECK_EVENT_MAP_CONFIG_VERSION",e[e.SOCKETMESSAGETYPE_REFRESH_EVENT_MAP_CONFIG=16]="SOCKETMESSAGETYPE_REFRESH_EVENT_MAP_CONFIG",e[e.SOCKETMESSAGETYPE_TIME_IN_APP=17]="SOCKETMESSAGETYPE_TIME_IN_APP",e[e.SOCKETMESSAGETYPE_CheckWalkthroughConfigVersion=18]="SOCKETMESSAGETYPE_CheckWalkthroughConfigVersion",e[e.SOCKETMESSAGETYPE_RefreshWalkthroughConfig=19]="SOCKETMESSAGETYPE_RefreshWalkthroughConfig",e[e.SOCKETMESSAGETYPE_WalkthroughAction=20]="SOCKETMESSAGETYPE_WalkthroughAction",e[e.SOCKETMESSAGETYPE_CheckPageTagConfigVersion=21]="SOCKETMESSAGETYPE_CheckPageTagConfigVersion",e[e.SOCKETMESSAGETYPE_RefreshPageTagConfig=22]="SOCKETMESSAGETYPE_RefreshPageTagConfig"}(e.SocketMessageTypes||(e.SocketMessageTypes={})),function(e){e[e.PanelOnly=1]="PanelOnly",e[e.PopUp=2]="PopUp",e[e.SlideBottomCenter=3]="SlideBottomCenter",e[e.SlideLeftBottom=4]="SlideLeftBottom",e[e.SlideTopLeft=5]="SlideTopLeft",e[e.SlideTopCenter=6]="SlideTopCenter",e[e.SlideTopRight=7]="SlideTopRight",e[e.SlideBottomLeft=8]="SlideBottomLeft",e[e.SlideBottomRight=9]="SlideBottomRight",e[e.SlideLeftTop=10]="SlideLeftTop",e[e.SlideLeftCenter=11]="SlideLeftCenter",e[e.SlideRightTop=12]="SlideRightTop",e[e.SlideRightCenter=13]="SlideRightCenter",e[e.SlideRightBottom=14]="SlideRightBottom",e[e.Tooltip=15]="Tooltip"}(e.AnnouncementPosition||(e.AnnouncementPosition={})),function(e){e[e.Unknown=0]="Unknown",e[e.WalkthroughStarted=1]="WalkthroughStarted",e[e.StepStarted=2]="StepStarted",e[e.StepClicked=3]="StepClicked",e[e.StepCompleted=4]="StepCompleted",e[e.StepAbandonded=5]="StepAbandonded",e[e.WalkthroughCompleted=6]="WalkthroughCompleted",e[e.WalkthroughAbandoned=7]="WalkthroughAbandoned",e[e.WalkthroughResumed=8]="WalkthroughResumed"}(e.WalkthroughActionType||(e.WalkthroughActionType={})),function(e){e[e.WalkThrough=0]="WalkThrough",e[e.InAppAnnouncement=1]="InAppAnnouncement",e[e.NPS=2]="NPS"}(e.FrameType||(e.FrameType={})),function(e){e[e.Popup=0]="Popup",e[e.Slider=1]="Slider",e[e.Tooltip=2]="Tooltip"}(e.AnnouncementElementType||(e.AnnouncementElementType={})),function(e){e[e.CenterOpened=3]="CenterOpened",e[e.CenterClosed=4]="CenterClosed",e[e.Click=5]="Click",e[e.Scroll=6]="Scroll"}(e.SuccessCenterContactSessionActionType||(e.SuccessCenterContactSessionActionType={}))}(exports.Enums||(exports.Enums={}))},2837:function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(721),i=n(t(7795)),s=t(1667),r=t(3024),a=function(){function e(e,t,n,o,i,r,a){var c=this;this.appSvc=e,this.tenantSvc=t,this.eventSvc=n,this.walkthroughSvc=o,this.windowSvc=i,this.commSvc=r,this.sessionSvc=a,this.startId=this.appSvc.pubsub.subscribe(s.ChurnZeroAppEvents.START,(function(){return c.onStart()})),this.digestId=this.appSvc.pubsub.subscribe(s.ChurnZeroAppEvents.DIGEST,(function(){return c.onDigest()})),this.haltId=this.appSvc.pubsub.subscribe(s.ChurnZeroAppEvents.HALT,(function(){return c.onHalt()}))}return e.prototype.Stop=function(){this.onHalt()},e.prototype.onStart=function(){var e=this;this.updateMappedEventHandlersId=this.commSvc.registerListener(o.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_REFRESH_EVENT_MAP_CONFIG,(function(t){return e.updateMappedEventHandlers(t.info)})),this.updateMappedWalkthroughsHandlersId=this.commSvc.registerListener(o.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_RefreshWalkthroughConfig,(function(t){return e.updateMappedWalkthroughHandlers(t.info)})),this.trackMappedClicks()},e.prototype.onDigest=function(){this.eventSvc.RefreshEventMapConfig(),this.tenantSvc.FeatureEnabled(r.FeatureFlags.Walkthroughs)&&this.walkthroughSvc.RefreshWalkthroughConfig()},e.prototype.onHalt=function(){this.removeMappedClickHandlers(),this.updateMappedEventHandlersId&&(this.updateMappedEventHandlersId.remove(),this.updateMappedEventHandlersId=void 0),this.updateMappedWalkthroughsHandlersId&&(this.updateMappedWalkthroughsHandlersId.remove(),this.updateMappedWalkthroughsHandlersId=void 0),this.startId&&(this.startId.remove(),this.startId=null),this.digestId&&(this.digestId.remove(),this.digestId=null),this.haltId&&(this.haltId.remove(),this.haltId=null)},e.prototype.updateMappedEventHandlers=function(e){this.eventSvc.eventMapVersion!==e.eventMapVersion&&(this.appSvc.debug("Updated EventMap Config Received",e),this.eventSvc.LoadEventMapConfig(e),this.removeMappedClickHandlers(),this.trackMappedClicks())},e.prototype.updateMappedWalkthroughHandlers=function(e){this.walkthroughSvc.walkthroughsVersion!==e.version&&(this.appSvc.debug("Updated Walkthrough Config Received",e),this.walkthroughSvc.LoadWalkthroughConfig(e),this.removeMappedClickHandlers(),this.trackMappedClicks())},e.prototype.trackMappedClicks=function(){var e,t,n=this,o=this.eventSvc.RelevantMappedEvents().all,r=this.walkthroughSvc.GetClickWalkthroughs();this.removeMappedClickHandlers(),(o.length>0||r.length>0)&&(e=s.CoreUtils.concatEventMapSelectors(o),t=s.CoreUtils.concatWalkthroughSelectors(r),this.boundEventClickHandler=function(s){try{if(!s||!s.target)return;var a=n.windowSvc.czq(s.target);e&&a.is(e)&&(s.data=o,n.mappedEventClickHandler(s)),t&&a.is(t)&&(s.data=r,n.walkthroughClickHandler(s))}catch(e){i.default.report("EventSpider.boundEventClickHandler",e)}},this.windowSvc.elementCache.document.get(0).addEventListener("click",this.boundEventClickHandler,!0))},e.prototype.removeMappedClickHandlers=function(){this.windowSvc.elementCache.document.get(0).removeEventListener("click",this.boundEventClickHandler,!0),this.boundEventClickHandler=null,this.windowSvc.elementCache.document.off("click.mappedEvents")},e.prototype.mappedEventClickHandler=function(e){var t=this,n=e.data;if(n&&n.length>0){var o=this.windowSvc.czq(e.target);n.forEach((function(n){var i=t.checkEventMapMatchesCurrentUrl(n),r=s.CoreUtils.buildEventMapSelector(n);if(o.is(r)&&i){e.WasMapped=!0;var a=t.buildEventArrayFromEventMap(n);t.appSvc.debug("[Devless Event Mapping]",a),t.eventSvc.TrackEvent.apply(t.eventSvc,a)}}))}},e.prototype.walkthroughClickHandler=function(e){var t=this,n=e.data;if(n&&n.length>0){var o=this.windowSvc.czq(e.target);n.forEach((function(n){if(!n.pageTag||!n.pageTag.disabled){var i=t.checkLocationMatchesCurrentUrl(n.pageTag),r=s.CoreUtils.buildEventMapSelector(n.triggerConfig);if(o.is(r)&&i){if(e.WasMapped=!0,t.appSvc.debug("[Devless Walkthrough Mapping]",n),t.sessionSvc.ShouldPreventUsageSends)return;t.appSvc.pubsub.publish(s.ChurnZeroAppEvents.WalkthroughStart,n)}}}))}},e.prototype.buildEventArrayFromEventMap=function(e){var t,n,o=[e.eventName];return e.descriptionSelector&&(t=this.windowSvc.czq(e.descriptionSelector)).length>0&&(n=s.CoreUtils.getTextFromElement(t),o=o.concat([n])),t=n=null,e.quantitySelector&&(t=this.windowSvc.czq(e.quantitySelector)).length>0&&(n=s.CoreUtils.getIntFromElement(t),1===o.length&&(o=o.concat([null])),o=o.concat([n])),o},e.prototype.checkEventMapMatchesCurrentUrl=function(e){return e.locationTypeId===o.Enums.LocationTypes.Site||e.locationTypeId===o.Enums.LocationTypes.Page&&(e.location||this.windowSvc.href())===this.windowSvc.href()},e.prototype.checkLocationMatchesCurrentUrl=function(e){return this.windowSvc.CheckPageTagAgainstCurrentLocation(e)},e}();exports.default=a},765:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FRAME_BUILDER_STYLE_ELEMENT_ID_MAPPING=exports.FrameBuilder=void 0;var n=t(1667),o=t(629),i=t(1032),s=t(721),r=t(3753),a={popupStyle:"cz-walkthrough-popup-styles",sliderStyle:"cz-walkthrough-slider-styles",tooltipStyle:"cz-walkthrough-tooltip-styles",styleOverrides:"cz-walkthrough-style-overrides",inAppStyle:"cz-in-app-announcement-styles"};exports.FRAME_BUILDER_STYLE_ELEMENT_ID_MAPPING=a;var c="cz_in_app_content_body",l="cz_walkthrough_anchor_content_body",u="cz_walkthrough_content_body",h=function(){function e(e,t,n){this.windowSvc=e,this.sessionSvc=t,this.tenantSvc=n,this.blankHtmlDocString="<!DOCTYPE html>\n<html><head></head><body></body></html>",this.callToActionContainerClass="cz-walk-cta-container",this.callToActionButtonClass="cz-walk-cta-button",this.czSliderClassName="cz-ui-slider",this.czPopupClassName="cz-ui-popup",this.buildSurveyContentFrame=this.buildSurveyContentFrame.bind(this),this.buildInAppContentFrame=this.buildInAppContentFrame.bind(this),this.buildWalkthroughContentFrame=this.buildWalkthroughContentFrame.bind(this),this.buildWalkthroughAnchorFrame=this.buildWalkthroughAnchorFrame.bind(this),this.removeWalkthroughStyleElements=this.removeWalkthroughStyleElements.bind(this),this.getWalkthroughContentIFrameLoadFunc=this.getWalkthroughContentIFrameLoadFunc.bind(this),this.getInAppContentIFrameLoadFunc=this.getInAppContentIFrameLoadFunc.bind(this),this.fixVideoElementsFromFroala=this.fixVideoElementsFromFroala.bind(this),this.fixImageElementsFromFroala=this.fixImageElementsFromFroala.bind(this)}return e.prototype.buildSurveyContentFrame=function(e,t){return'<iframe id="cz_nps_frame" src="'+(e=this.windowSvc.clientSideUrls.baseApiUrl+e)+'" width="100%" height="100%" data-info-message="'+t+'"  frameborder="0"></iframe>'},e.prototype.buildInAppContentFrame=function(e){var t,i=e.clickAuditData,r=e.styleConfig,a=this.windowSvc.createElement("iframe");a.style.margin="0",a.style.padding="0",a.style.border="none",a.style.display="block",a.style.width="100%",a.style.maxWidth="100%";var l=n.iFrameUtils.buildTransportMessage(n.TransportCodes.AnnouncementFrameComm,i),u=n.StyleUtils.froalaViewerStyle;this.sessionSvc.CurrentAccountContent&&this.sessionSvc.CurrentAccountContent.css&&(u+=this.sessionSvc.CurrentAccountContent.css);var h=null==r?void 0:r.fontFamily,d=r||{},p=d.fontSize,f=d.fontColor,m=d.textAlignment,g="",v=this.czPopupClassName;return h&&(g+="font-family:".concat(this.tenantSvc.getUIFontFamilyMappingDisplayValue(h),";")),"number"==typeof p&&(g+="font-size:".concat(p,"px;")),f&&(g+="color:".concat(f,";")),m&&(g+="text-align:".concat(m,";")),e.type===s.Enums.AnnouncementElementType.Slider&&(v=this.czSliderClassName,g+="overflow:auto;"),u+="#".concat(c,"{").concat(g,"}p{margin: 0 0 1rem 0;}"),u+=o.IN_APP_CONTENT_CONTAINER_STYLES,a.classList.add("cz-in-app-content-frame"),a.classList.add(v),a.addEventListener("load",this.getInAppContentIFrameLoadFunc(e,l,[u,e.customCss])),a.setAttribute("data-message-id",null===(t=null==i?void 0:i.id)||void 0===t?void 0:t.toString()),a},e.prototype.getInAppContentIFrameLoadFunc=function(e,t,o){var l=this,u=e.styleConfig,h=e.content,d=e.width,p=e.type,f=e.position,m=e.resizeObserverBehavior,g=e.onResizeCallback,v=e.onShownCallback,y=e.onLoadCallback,S=e.onCloseCallback,C=e.onClickCallback,b=function(e){"cz-close-in-app"===e.target.className&&"function"==typeof S?S():C&&"function"==typeof C&&C(e)};return function(e){var S=e.target;S.contentDocument.write(l.blankHtmlDocString);var C=S.contentWindow,w=C.document,E=w.body,T=w.createElement("section"),A=w.createElement("div");E.style.margin="0",E.style.padding="0",E.id=c,A.className="cz-in-app-content-container",A.innerHTML=h,"right"===u.textAlignment&&(A.style.paddingRight="30px"),T.className="cz-in-app-page-container",T.innerHTML='<span class="cz-close-in-app">&#x2716;</span>';var P,k=r.DOMUtils.isFeatureSupported(C,"ResizeObserver");if(k){var _=n.iFrameUtils.getFrameResizeObserver(S,v,g,m);_.observe(T),w.defaultView.addEventListener("unload",(function(){_.disconnect()}))}T.appendChild(A),T.addEventListener("click",b),E.appendChild(T),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){return n.CoreUtils.closest(this,e)}),P="string"==typeof o?[o]:o;for(var I=0;I<P.length;I++)if(P[I]){var L=w.createElement("style");L.setAttribute("type","text/css"),L.textContent=P[I],w.head.appendChild(L)}l.addUIFontFamilyCssRequestUrl(w,u,!1);var x={};p===s.Enums.AnnouncementElementType.Slider&&(x.position=f),l.addAnnouncementStyleProperties(S,S,a.inAppStyle,u,s.Enums.FrameType.InAppAnnouncement,x);var O=E.querySelectorAll(".fr-video"),F=d||(p===s.Enums.AnnouncementElementType.Popup?n.StyleConfigPopUpWidth.Small:n.StyleConfigSliderWidth.Small);if(l.fixVideoElementsFromFroala(O,F),i.FrameCommUtil.setUpLinkAuditEvents(C,t),i.FrameCommUtil.setUpVideoAuditEvents(C,t),!k){var M=n.iFrameUtils.setFrameHeightBySourceAtInterval(T,S,200,v,g);w.defaultView.addEventListener("unload",M)}w.defaultView.addEventListener("unload",(function(){T.removeEventListener("click",b)})),null==y||y(C)}},e.prototype.buildWalkthroughAnchorFrame=function(e){var t=e.triggerConfig,i=e.walkthroughStyleConfig,s=this.windowSvc.createElement("iframe");s.style.margin="0",s.style.padding="0",s.style.border="none",s.style.display="block",s.style.width=1.5*t.iconStyleConfig.size+"px",s.style.height=1.5*t.iconStyleConfig.size+"px",s.style.position="absolute",s.style.zIndex=(t.iconStyleConfig.zIndex||i.anchorZIndex||"999997").toString();var r=n.StyleUtils.froalaViewerStyle;return this.sessionSvc.CurrentAccountContent&&this.sessionSvc.CurrentAccountContent.css&&(r+=this.sessionSvc.CurrentAccountContent.css),r+=o.IN_APP_CONTENT_CONTAINER_STYLES,s.classList.add("cz-walk-anchor-frame"),s.addEventListener("load",this.getWalkthroughAnchorIFrameLoadFunc(e,[r,e.customCss],e.cssLinks)),s},e.prototype.getWalkthroughAnchorIFrameLoadFunc=function(e,t,o){var i=this,s=e.walkthroughStyleConfig,r=e.onClickCallback,a=function(e){r&&"function"==typeof r&&r(e)};return function(r){var c=r.target;c.contentDocument.write(i.blankHtmlDocString);var u=c.contentWindow,h=u.document,d=h.body,p=h.createElement("section"),f=h.createElement("div");d.style.margin="0",d.style.padding="0",d.id=l;var m=(null==s?void 0:s.fontFamily)||s.fontFamily;if(m){var g=i.tenantSvc.getUIFontFamilyMappingDisplayValue(m);d.style.fontFamily=g}f.className="cz-in-app-anchor-container";var v=1.5*e.triggerConfig.iconStyleConfig.size,y=i.generateAnchor(u,e.triggerConfig,f);f.appendChild(y);var S,C,b,w,E,T=10,A="px",P=0,k=0,_=0,I=0,L=function(){var t,o;if(null===(o=null===(t=null==e?void 0:e.triggerConfig)||void 0===t?void 0:t.iconStyleConfig)||void 0===o?void 0:o.hoverTextEnabled){var i=h.querySelector("p.cz-tool-tip__info"),s=h.querySelector("span.cz-tool-tip__arrow"),r=getComputedStyle(i),a=parseInt(r.marginLeft),l=parseInt(r.marginRight),u=parseInt(r.marginTop),p=parseInt(r.marginBottom);P=i.offsetWidth+a+l,k=i.offsetHeight+u+p,(_=P>v?P:v)%2!=0&&_++,(I=k>v?k:v)%2!=0&&I++,y.style.position="absolute",s.style.display="block";var f=parseFloat(c.style.top),m=parseFloat(c.style.left);switch(e.triggerConfig.iconStyleConfig.hoverTextPositionId){case n.AnchorHoverTextPosition.Right:S=(I-v)/2,c.style.top=f-S+A,c.style.width=v+_+T+A,c.style.height=I+A,d.style.width=v+_+T+A,d.style.height=I+A,y.style.top=S+A,i.style.top=v/2-k/2+A,i.style.left=v+T+A,s.style.top=v/2-T+A,s.style.left=v-T+A;break;case n.AnchorHoverTextPosition.Bottom:C=(_-v)/2,c.style.width=_+A,c.style.height=v+I+T+A,c.style.left=m-C+A,d.style.width=_+A,d.style.height=v+I+T+A,y.style.top="0",y.style.bottom="auto",y.style.left=C+A,i.style.top=v+T+A,i.style.left=v/2-_/2+A,s.style.top=v-T+A,s.style.right=v/2-T+A;break;case n.AnchorHoverTextPosition.Left:S=(I-v)/2,C=_+T,c.style.width=v+_+T+A,c.style.height=v+I+A,c.style.top=f-S+A,c.style.left=m-C+A,d.style.width=v+_+T+A,d.style.height=v+I+A,y.style.top=S+A,y.style.bottom="auto",y.style.left=C+A,i.style.top=v/2-k/2+A,i.style.right=v+T+A,s.style.top=v/2-T+A,s.style.right=v-T+A;break;case n.AnchorHoverTextPosition.Top:S=I+T,C=(_-v)/2,c.style.top=f-S+A,c.style.left=m-C+A,c.style.height=v+I+T+A,c.style.width=_+A,d.style.height=v+I+T+A,d.style.width=_+A,y.style.top=S+A,y.style.left=C+A,i.style.top=-k-T+A,i.style.bottom="auto",i.style.left=v/2-_/2+A,s.style.top=-10+A,s.style.right=v/2-T+A}}},x=function(){var t,o;if((null===(o=null===(t=null==e?void 0:e.triggerConfig)||void 0===t?void 0:t.iconStyleConfig)||void 0===o?void 0:o.hoverTextEnabled)&&!window.leaveTooltipOpen){c.style.width=v+A,c.style.height=v+A,d.style.height=v+A,d.style.width=v+A,y.style.top="0",y.style.left="0",y.style.right="auto",y.style.bottom="auto";var i=parseFloat(c.style.top),s=parseFloat(c.style.left);switch(e.triggerConfig.iconStyleConfig.hoverTextPositionId){case n.AnchorHoverTextPosition.Top:c.style.top=i+S+A,c.style.left=s+C+A;break;case n.AnchorHoverTextPosition.Bottom:c.style.left=s+C+A;break;case n.AnchorHoverTextPosition.Left:c.style.top=i+S+A,c.style.left=s+C+A;break;case n.AnchorHoverTextPosition.Right:c.style.top=i+S+A}}};y.addEventListener("mouseenter",L),y.addEventListener("mouseleave",x),p.appendChild(f),p.addEventListener("click",a),d.appendChild(p),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){return n.CoreUtils.closest(this,e)}),b="string"==typeof o?[o]:o||[];for(var O=0;O<b.length;O++){if(b[O])(F=h.createElement("link")).setAttribute("type","text/css"),F.href=b[O],F.rel="stylesheet",h.head.appendChild(F)}w="string"==typeof t?[t]:t||[];for(O=0;O<w.length;O++){var F;if(w[O])(F=h.createElement("style")).setAttribute("type","text/css"),F.textContent=w[O],h.head.appendChild(F)}(i.addUIFontFamilyCssRequestUrl(h,s,e&&e.testing),h.defaultView.onunload=function(){p.removeEventListener("click",a),y.removeEventListener("mouseenter",L),y.removeEventListener("mouseleave",x)},e.onLoadCallback&&"function"==typeof e.onLoadCallback)&&(e.onLoadCallback(u),u.addEventListener("resize",(function(){e.onResizeCallback&&"function"==typeof e.onResizeCallback&&(E&&i.windowSvc.window.clearTimeout(E),E=i.windowSvc.window.setTimeout((function(){e.onResizeCallback(u)}),10))})))}},e.prototype.generateAnchor=function(e,t,o){var i=this.windowSvc.createElement("span"),s=1.5*t.iconStyleConfig.size;i.classList.add("cz-walkthrough-anchor"),i.style.display="inline-block",i.style.textAlign="center",i.style.cursor="pointer",i.style.zIndex="1000002",i.style.top="0",i.style.left="0",i.style.bottom="auto",i.style.right="auto",i.style.height=s+"px",i.style.width=s+"px",i.style.borderRadius=t.iconStyleConfig.size+"px",i.style.fontSize=t.iconStyleConfig.size+"px",i.style.color=t.iconStyleConfig.iconColor,i.style.backgroundColor=t.iconStyleConfig.iconBackgroundColor;var r=this.windowSvc.createElement("i");r.classList.add("czi"),r.classList.add(t.iconType),r.style.zIndex="1000002",r.style.display="inline-block",r.style.position="absolute",r.style.height=t.iconStyleConfig.size+"px",r.style.width=t.iconStyleConfig.size+"px",r.style.top=(s-t.iconStyleConfig.size)/2+"px";var a=(s-t.iconStyleConfig.size)/2;if("czi-play"===t.iconType)a+=.25*t.iconStyleConfig.size/2;if(r.style.left=a+"px",i.appendChild(r),t.iconStyleConfig.hoverTextEnabled){var c=this.windowSvc.createElement("p");c.style.fontSize="12px",c.style.color=t.iconStyleConfig.hoverTextColor,c.style.backgroundColor=t.iconStyleConfig.hoverTextBackgroundColor,c.style.borderColor=t.iconStyleConfig.hoverTextBackgroundColor,c.innerText=t.iconStyleConfig.hoverText,c.classList.add("cz-tool-tip__info");var l=this.windowSvc.createElement("span");l.classList.add("cz-tool-tip__arrow"),l.style.display="none";var u=void 0;switch(t.iconStyleConfig.hoverTextPositionId){case n.AnchorHoverTextPosition.Left:u="cz-tool-tip__left",l.style.borderLeftColor=t.iconStyleConfig.hoverTextBackgroundColor;break;case n.AnchorHoverTextPosition.Bottom:u="cz-tool-tip__bottom",l.style.borderBottomColor=t.iconStyleConfig.hoverTextBackgroundColor;break;case n.AnchorHoverTextPosition.Right:u="cz-tool-tip__right",l.style.borderRightColor=t.iconStyleConfig.hoverTextBackgroundColor;break;case n.AnchorHoverTextPosition.Top:u="cz-tool-tip__top",l.style.borderTopColor=t.iconStyleConfig.hoverTextBackgroundColor}c.classList.add(u),i.appendChild(c),i.appendChild(l)}return i},e.prototype.buildWalkthroughContentFrame=function(e){var t=e.stepType,i=e.content,s=e.config,r=e.clickAuditData,a=e.onResizeCallback,c=e.onShownCallback,l=e.styleConfig,u=e.sequence,h=e.metaData,d=this.windowSvc.createElement("iframe");d.style.margin="0",d.style.padding="0",d.style.border="none",d.style.display="block",d.style.width="100%",d.style.maxWidth="100%";var p=n.iFrameUtils.buildTransportMessage(n.TransportCodes.WalkthroughClickAudit,r),f=n.StyleUtils.froalaViewerStyle;this.sessionSvc.CurrentAccountContent&&this.sessionSvc.CurrentAccountContent.css&&(f+=this.sessionSvc.CurrentAccountContent.css);var m=(null==l?void 0:l.fontFamily)||s.fontFamily,g=l||{},v=g.fontSize,y=g.fontColor,S=g.textAlignment,C="";m&&(C+="font-family:".concat(this.tenantSvc.getUIFontFamilyMappingDisplayValue(m),";")),"number"==typeof v&&(C+="font-size:".concat(v,"px;")),y&&(C+="color:".concat(y,";")),S&&(C+="text-align:".concat(S,";")),f+="body{".concat(C,"}p{margin: 0 0 1rem 0;}"),f+=o.WT_CONTENT_CONTAINER_STYLES,f+=o.WT_CTA_CONTAINER_STYLES,f+=o.WT_STEP_NUMBER_STYLES,f+=o.WT_POPUP_STYLES;var b=null==l?void 0:l.ctaButtonHoverColor;b&&(f+=".cz-walk-cta-button:hover{background-color:".concat(b,"!important;border-color:").concat(b,"!important;}")),(null==h?void 0:h.cssText)&&(f+=null==h?void 0:h.cssText);var w={stepType:t,config:s,styleConfig:l,content:i,customCss:f,transportPod:p,sequence:u,totalSteps:null==h?void 0:h.totalSteps,onCloseCallback:null==h?void 0:h.onCloseCallback};return t===n.WalkthroughStepType.Slider&&d.classList.add(this.czSliderClassName),d.classList.add("cz-walk-content-frame"),d.addEventListener("load",this.getWalkthroughContentIFrameLoadFunc(w,a,c)),d},e.prototype.getWalkthroughContentIFrameLoadFunc=function(e,t,o){var s=this,a=e.stepType,c=e.config,l=e.styleConfig,h=e.sequence,d=e.totalSteps,p=e.onCloseCallback,f=function(e){var t=e.target.className,n=t===s.callToActionButtonClass;(n||"cz-close-walk"===t)&&(null==p||p(n))},m=n.StyleConfigPopUpWidth.Small;switch(a){case n.WalkthroughStepType.Slider:m=n.StyleConfigSliderWidth.Small;break;case n.WalkthroughStepType.Tooltip:m=n.StyleConfigTooltipWidth.Small}return function(p){var g=p.target,v=g.contentWindow,y=v.document,S=y.body,C=y.createElement("section"),b=y.createElement("div");S.style.margin="0",S.style.padding="0",S.id=u,b.className="cz-walk-content-container",c.testing&&b.classList.add("cz-walk-content-preview"),b.innerHTML=e.content,s.setContentContainerHorizontalPadding(b,l);var w=s.buildCTAContainer(c,!1,l);C.className="cz-walk-page-container",C.innerHTML=(null==l?void 0:l.shouldHideClose)?"":'<span class="cz-close-walk">&#x2716;</span>';var E=r.DOMUtils.isFeatureSupported(v,"ResizeObserver");if(E){var T=n.iFrameUtils.getFrameResizeObserver(g,o,t);T.observe(C),y.defaultView.addEventListener("unload",(function(){T.disconnect()}))}C.appendChild(b),C.appendChild(w),C.addEventListener("click",f),s.appendWalkthroughStepNumber(C,l,h,d),s.addStepNumberContainerClassName(C,l),S.appendChild(C),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){return n.CoreUtils.closest(this,e)});var A=y.createElement("style");A.setAttribute("type","text/css"),A.textContent=e.customCss,y.head.appendChild(A),s.addUIFontFamilyCssRequestUrl(y,l,c&&c.testing),s.addWalkthroughStyleProperties(g,c,a,l,C);var P=S.querySelectorAll(".fr-video");s.fixVideoElementsFromFroala(P,m);var k=S.querySelectorAll(".fr-fic");if(s.fixImageElementsFromFroala(k),i.FrameCommUtil.setUpLinkAuditEvents(v,null==e?void 0:e.transportPod),i.FrameCommUtil.setUpVideoAuditEvents(v,null==e?void 0:e.transportPod),!E){var _=n.iFrameUtils.setFrameHeightBySourceAtInterval(C,g,200,o,t);y.defaultView.addEventListener("unload",_)}y.defaultView.addEventListener("unload",(function(){C.removeEventListener("click",f)}))}},e.prototype.removeWalkthroughStyleElements=function(){for(var e in a)if(n.CoreUtils.hasOwnProp(a,e)){var t=this.windowSvc.document.getElementById(a[e]);t&&t.parentNode&&t.parentNode.removeChild(t)}},e.prototype.getWalkthroughStyleProperties=function(e,t){var n="number"==typeof(null==t?void 0:t.borderRadius)?t.borderRadius:e.borderRadius,o="number"==typeof(null==t?void 0:t.borderWidth)?t.borderWidth:0;return{backgroundColor:(null==t?void 0:t.backgroundColor)||e.backgroundColor||"",closeColor:(null==t?void 0:t.closeColor)||e.closeColor,closeHoverColor:null==t?void 0:t.closeHoverColor,borderRadius:n,borderColor:null==t?void 0:t.borderColor,borderWidth:o,shouldHideClose:null==t?void 0:t.shouldHideClose,textAlign:null==t?void 0:t.textAlignment,shouldShowStepNumber:null==t?void 0:t.shouldShowStepNumber,stepNumberPosition:null==t?void 0:t.stepNumberPosition,stepNumberColor:null==t?void 0:t.stepNumberColor}},e.prototype.buildCTAContainer=function(e,t,o){var i=(null==o?void 0:o.ctaText)||e.ctaText,s=null==o?void 0:o.ctaFontSize,r=null==o?void 0:o.ctaFontFamily,a=(null==o?void 0:o.ctaAlignment)||e.ctaAlignment,c=(null==o?void 0:o.ctaBackgroundColor)||e.ctaBackgroundColor,l=(null==o?void 0:o.ctaTextColor)||e.ctaTextColor,u=(null==o?void 0:o.borderRadius)||e.borderRadius,h=(null==o?void 0:o.ctaButtonColor)||e.ctaButtonColor,d=null==o?void 0:o.ctaButtonBorderColor,p=this.windowSvc.createElement("div");p.classList.add(this.callToActionContainerClass),p.style.textAlign=a||"center";var f=this.windowSvc.createElement("button");return f.classList.add(this.callToActionButtonClass),f.style.backgroundColor=h||"#FFFFFF",f.style.borderColor=d||h||"#FFFFFF",f.style.color=l||"#FFFFFF",f.textContent=i||"Got it!","number"==typeof s&&(f.style.fontSize="".concat(s,"px")),r&&(f.style.fontFamily=this.tenantSvc.getUIFontFamilyMappingDisplayValue(r)),p.appendChild(f),p.style.borderColor=c||"white",p.style.borderTopColor="transparent",p.style.backgroundColor=c||"white",t&&!n.CoreUtils.isNullOrUndefined(u)&&(p.style.borderTopLeftRadius="0",p.style.borderTopRightRadius="0",p.style.borderBottomLeftRadius=u+"px",p.style.borderBottomRightRadius=u+"px"),p},e.prototype.appendWalkthroughStepNumber=function(e,t,o,i){var s=t||{},r=s.shouldShowStepNumber,a=s.stepNumberPosition,c=s.stepNumberColor;if(r&&c){var l=this.windowSvc.createElement("span"),u=(o||0)+1;switch(l.className="cz-walk-step-number",l.innerHTML="".concat(u," / ").concat(i||u),l.style.setProperty("color",c,"important"),a){case n.StepNumberPosition.TopCenter:l.classList.add("top-center");break;case n.StepNumberPosition.TopRight:l.classList.add("top-right");break;case n.StepNumberPosition.BottomLeft:l.classList.add("bottom-left");break;case n.StepNumberPosition.BottomCenter:l.classList.add("bottom-center");break;case n.StepNumberPosition.BottomRight:l.classList.add("bottom-right");break;default:l.classList.add("top-left")}e.appendChild(l)}},e.prototype.addStepNumberContainerClassName=function(e,t){var o=t||{},i=o.shouldShowStepNumber,s=o.stepNumberColor,r=o.stepNumberPosition;if(!(!i||!s))switch(r){case n.StepNumberPosition.BottomCenter:case n.StepNumberPosition.BottomLeft:case n.StepNumberPosition.BottomRight:e.classList.add("has-bottom-step-number");break;case n.StepNumberPosition.TopLeft:case n.StepNumberPosition.TopCenter:case n.StepNumberPosition.TopRight:e.classList.add("has-top-step-number"),r===n.StepNumberPosition.TopRight&&e.classList.add("has-top-right-step-number")}},e.prototype.addWalkthroughStyleProperties=function(e,t,o,i,r){var c=this.getWalkthroughStyleProperties(t,i),l="";switch(o){case n.WalkthroughStepType.PopUp:l=a.popupStyle;break;case n.WalkthroughStepType.Slider:l=a.sliderStyle;break;case n.WalkthroughStepType.Tooltip:l=a.tooltipStyle;break;default:throw new Error("addWalkthroughStyleProperties: Unknown WalkThroughElementType!")}var u={position:void 0};o===n.WalkthroughStepType.Slider&&(u.position=t.position),this.addAnnouncementStyleProperties(e,e,l,c,s.Enums.FrameType.WalkThrough,u)},e.prototype.addAnnouncementStyleProperties=function(e,t,o,i,r,a){var c=i.backgroundColor,l=i.closeColor,u=i.closeHoverColor,h=i.borderRadius,d=i.borderWidth,p=i.borderColor,f="number"==typeof h,m=!1,g=document.getElementById(o);g||(m=!0,(g=this.windowSvc.createElement("style")).id=o,g.setAttribute("type","text/css"));var v=r===s.Enums.FrameType.InAppAnnouncement?".cz-close-in-app":".cz-close-walk";l&&(g.innerText+="".concat(v,"{text-shadow:0 0 0 ").concat(l,"}")),u&&(g.innerText+="".concat(v,":hover{text-shadow:0 0 0 ").concat(u,"}")),t.style.setProperty("background-color",c,"important"),"number"==typeof d&&p&&(t.style.border="".concat(d,"px solid ").concat(p)),f&&(e.style.setProperty("border-radius","".concat(h,"px")),n.CoreUtils.hasOwnProp(a,"position")&&this.setSliderBorderRadiusStyles(a.position,e)),m&&e.contentDocument.getElementsByTagName("head")[0].appendChild(g)},e.prototype.setSliderBorderRadiusStyles=function(e,t){switch(e){case n.AnnouncementPosition.SlideTopLeft:case n.AnnouncementPosition.SlideTopCenter:case n.AnnouncementPosition.SlideTopRight:t.style.borderTopLeftRadius="0px",t.style.borderTopRightRadius="0px";break;case n.AnnouncementPosition.SlideRightTop:case n.AnnouncementPosition.SlideRightCenter:case n.AnnouncementPosition.SlideRightBottom:t.style.borderTopRightRadius="0px",t.style.borderBottomRightRadius="0px";break;case n.AnnouncementPosition.SlideBottomLeft:case n.AnnouncementPosition.SlideBottomCenter:case n.AnnouncementPosition.SlideBottomRight:t.style.borderBottomLeftRadius="0px",t.style.borderBottomRightRadius="0px";break;case n.AnnouncementPosition.SlideLeftTop:case n.AnnouncementPosition.SlideLeftCenter:case n.AnnouncementPosition.SlideLeftBottom:t.style.borderTopLeftRadius="0px",t.style.borderBottomLeftRadius="0px"}},e.prototype.setContentContainerHorizontalPadding=function(e,t){var o=t||{},i=o.textAlignment,s=o.shouldShowStepNumber,r=o.stepNumberPosition,a=s&&(r===n.StepNumberPosition.TopLeft||r===n.StepNumberPosition.TopRight);"left"===i&&a?e.style.paddingLeft="30px":"right"===i&&(e.style.paddingRight="30px")},e.prototype.addUIFontFamilyCssRequestUrl=function(e,t,n){var o=n?this.tenantSvc.getFullUIFontFamilyCssRequestUrl():this.tenantSvc.buildUIFontFamilyCssRequestUrlFromConfig(t);if(o){var i=e.createElement("link");i.href=o,i.rel="stylesheet",e.head.appendChild(i)}},e.prototype.fixVideoElementsFromFroala=function(e,t){for(var n,o=e.length,i=0;i<o;i++){var s=e[i];s.classList.add("fr-active");var r=s.querySelector("iframe");if(r){var a=s.getBoundingClientRect(),c=.5625,l=0;(null===(n=r.style)||void 0===n?void 0:n.width)&&"100%"!==r.style.width&&(l=parseInt(r.style.width||"0"));var u=r.getAttribute("width");"100%"===u&&(u="");var h=a.width||l||parseInt(u||"0")||t-42,d=c*h;d/window.innerHeight>.75&&(d=(h-=12)*c),r.style.setProperty("width",h+"px","important"),r.style.setProperty("height",d+"px","important"),r.setAttribute("width",h.toString()),r.setAttribute("height",d.toString())}}},e.prototype.fixImageElementsFromFroala=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(-1===n.style.width.indexOf("%")){var o=parseInt(n.style.width||"300");n.style.width=o>=300?"100%":o/651*100+"%"}}},e}();exports.FrameBuilder=h},5084:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function e(e,t,n){void 0===n&&(n=100);var o=this;this.oldHash=window.location.hash,this.onChangeEvent=e,this.stopOnChange=t,this.Check=window.setInterval((function(){try{o.detect()}catch(e){}}),n)}return e.prototype.detect=function(){this.oldHash!==window.location.hash&&(this.onChangeEvent(),this.stopOnChange&&this.Stop(),this.oldHash=window.location.hash)},e.prototype.Stop=function(){this.Check&&(window.clearInterval(this.Check),this.Check=null)},e}();exports.default=t},6695:function(e,exports,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,s=t.length;i<s;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var s=t(721),r=i(t(7795)),a=t(1667),c=t(3024),l=t(765),u=t(629),h=function(){function e(e,t,n,o,i,s,c,u){var h=this;this.appSvc=e,this.tenantSvc=t,this.sessionSvc=n,this.messageSvc=o,this.walkthroughSvc=i,this.windowSvc=s,this.commSvc=c,this.templateCache=u,this.subIds={},this.seenWalkthroughIds=[],this.lastShownAnnouncementDate=null,this.currentWalkthrough=void 0,this.currentWalkthroughStep=void 0,this.currentWalkthroughCssText=void 0,this.walkthroughPopupClass="cz-walk-popup",this.walkthroughPopupContentClass="cz-walk-popup-content",this.inAppPopupClass="cz-in-app-popup",this.inAppPopupContentClass="cz-in-app-popup-content",this.walkthroughSliderClass="cz-walk-slider",this.walkthroughSliderContainerClass="cz-walk-slider-container",this.walkthroughSliderContentClass="cz-walk-slider-content",this.tooltipClass="cz-walk-tooltip-container",this.tooltipContentClass="cz-walk-tooltip-container-content",this.tooltipTriangleClass="cz-tooltip-triangle",this.tooltipTriangleInnerClass="cz-tooltip-triangle-inner",this.overAnnouncementiFrame=-1,this.overWalkthroughiFrame=-1,this.anchorFrames=[],this.defaultTestMessageContent="<p><em>This is a test message</em></p>",this.surveyLinkHash="#surveyLink",this.czInClassName="cz-in",this.onCustomSurveyClick=function(e){if(!e.target||e.target.hash!==h.surveyLinkHash)return!0;try{var t=e.target,n=a.CoreUtils.closest(t,".cz-announcement"),o=n.getAttribute("data-nps-url"),i="true"===(n.getAttribute("data-show-new-window")||"").toLowerCase(),s="true"===(n.getAttribute("data-nps-wide")||"").toLowerCase(),c=h.messageSvc.GetAnnouncementFromAnnouncementHtml(n);h.closeSlider(),h.showSurveyPopup(o,i,!1,s,c)}catch(e){r.default.report("Herald.npsClickEvent",e)}},this.onStandardSurveyClick=function(e){var t=e.target,n=t.classList.contains("cz-nps-click");if(n||(n=void 0!==(t=a.CoreUtils.closest(t,".cz-nps-click"))),n)try{var o=t.getAttribute("data-nps-url"),i="true"===(t.getAttribute("data-nps-wide")||"").toLowerCase(),s="true"===(t.getAttribute("data-show-new-window")||"").toLowerCase(),c="true"===(a.CoreUtils.closest(t,".cz-announcement").getAttribute("data-info-message")||"true").toLowerCase(),l=h.messageSvc.GetAnnouncementFromAnnouncementHtml(t);h.closeSlider(),h.showSurveyPopup(o,s,c,i,l)}catch(e){r.default.report("Herald.npsClickEvent",e)}},this.onStartWalkthrough=this.onStartWalkthrough.bind(this),this.TestAnnouncement=this.TestAnnouncement.bind(this),this.UpdateAnnouncement=this.UpdateAnnouncement.bind(this),this.HideAnyAnnouncement=this.HideAnyAnnouncement.bind(this),this.AnnouncementLinkClickHandler=this.AnnouncementLinkClickHandler.bind(this),this.CloseSliderClickHandler=this.CloseSliderClickHandler.bind(this),this.ShowNPSClickHandler=this.ShowNPSClickHandler.bind(this),this.CompletelyAbandonAnyCurrentWalkthrough=this.CompletelyAbandonAnyCurrentWalkthrough.bind(this),this.setupWalkthroughAnchor=this.setupWalkthroughAnchor.bind(this),this.onWindowResizeForAnchors=this.onWindowResizeForAnchors.bind(this),this.frameBuilder=new l.FrameBuilder(s,n,t),this.onInit()}return Object.defineProperty(e.prototype,"popupDiv",{get:function(){return this.windowSvc.document.getElementById("cz_popover")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"popupContainer",{get:function(){return this.windowSvc.document.getElementById("cz_popover_content")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"popupBackground",{get:function(){return this.windowSvc.document.getElementById("cz_transBG")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sliderContainer",{get:function(){return this.windowSvc.czq(".cz-slide-announcement")},enumerable:!1,configurable:!0}),e.prototype.onInit=function(){var e=this;this.sessionSvc.IsSilent||(this.addPopOverDiv(),this.checkForLastAdvancedDisplayAnnouncement(),this.subIds.digestId=this.appSvc.pubsub.subscribe(a.ChurnZeroAppEvents.DIGEST,(function(){return e.onDigest()})),this.subIds.haltId=this.appSvc.pubsub.subscribe(a.ChurnZeroAppEvents.HALT,(function(){return e.onHalt()})),this.subIds.walkthroughId=this.appSvc.pubsub.subscribe(a.ChurnZeroAppEvents.WalkthroughStart,(function(t){return e.onStartWalkthrough(t.info)})),this.subIds.announcementListenerId=this.commSvc.registerListener(s.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_ANNOUNCEMENT,(function(t){e.createNewAnnouncement(t.info)})),this.subIds.expireListenerId=this.commSvc.registerListener(s.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_EXPIRE_MESSAGE,(function(t){e.expireAnnouncement(t.info),e.appSvc.pubsub.publish(a.ChurnZeroAppEvents.ExpireAnnouncement,t.info)})),this.windowSvc.elementCache.body.on(this.windowSvc.namespaceEvent("click"),".cz-close-popover-trigger",(function(t){try{var n=e.windowSvc.czq(t.currentTarget).closest(".cz-popover"),o=n.find(".cz-announcement");0===o.length&&(o=n.find("#cz_nps_frame"));var i="true"===(o.attr("data-info-message")||"true").toLowerCase(),s=e.messageSvc.GetAnnouncementFromAnnouncementHtml(o.get(0));e.closePopUpAnnouncement(!1,!1),i&&e.announceClosure(e.sessionSvc.CurrentAccountContent.clickToSeeMoreText,s),e.onAdvancedDisplayClose()}catch(e){r.default.report("Herald.closePopoverEvent",e)}})),this.windowSvc.elementCache.body.on(this.windowSvc.namespaceEvent("click"),".cz-close-announcement",this.CloseSliderClickHandler),this.windowSvc.elementCache.body.on(this.windowSvc.namespaceEvent("click"),".cz-nps-click",this.ShowNPSClickHandler),this.windowSvc.elementCache.body.on(this.windowSvc.namespaceEvent("click"),".cz-click-audit a",this.AnnouncementLinkClickHandler),this.boundClickAuditHandler=a.iFrameUtils.attachTransportMessageListener(this.windowSvc.window,"*",(function(t){var n=t.code,o=t.data;switch(n){case a.TransportCodes.AnnouncementFrameComm:if(!o)return;e.messageClicked(o.id);break;case a.TransportCodes.WalkthroughClickAudit:e.walkthroughMessageClicked(o);break;case a.TransportCodes.InterfaceComm:switch(o.code){case a.InterfaceCommCodes.NpsAnnouncementLinkClicked:e.ShowNPSFrameCommHandler(o);break;case a.InterfaceCommCodes.AnnouncementClickAudit:e.messageClicked(null==o?void 0:o.id)}}}),null,(function(e,t){r.default.report("iFrameUtils.attachTransportMessageListener at Herald.ts",e,(t.data||"e.data is falsy").toString())})),this.windowSvc.elementCache.body.on(this.windowSvc.namespaceEvent("mouseenter"),".cz-click-audit .fr-video iframe",(function(t){var n=e.windowSvc.czq(t.currentTarget).closest(".cz-click-audit");if(n&&0!==n.length){var o=n.attr("data-message-id");o&&(e.overAnnouncementiFrame=o),e.currentWalkthroughStep&&!e.currentWalkthroughStep.testing&&(e.overWalkthroughiFrame={wId:e.currentWalkthroughStep.walkthroughId,sId:e.currentWalkthroughStep.id})}})).on(this.windowSvc.namespaceEvent("mouseleave"),".cz-click-audit .fr-video iframe",(function(){e.overAnnouncementiFrame=-1,e.overWalkthroughiFrame=-1})),this.windowSvc.elementCache.window.on(this.windowSvc.namespaceEvent("blur"),(function(){if(-1!==e.overAnnouncementiFrame&&e.messageClicked(e.overAnnouncementiFrame),-1!==e.overWalkthroughiFrame&&e.walkthroughMessageClicked(e.overWalkthroughiFrame),e.currentWalkthroughStep||e.announcementVisible){for(var t=e.popupContainer.querySelectorAll("iframe"),n=t.length,o=0;o<n;o++){t[o].contentWindow.postMessage("czCodeBlur","*")}e.sliderContainer.find("iframe").each((function(e,t){t.contentWindow.postMessage("czCodeBlur","*")})),e.windowSvc.elementCache.body.find(".cz-walk-tooltip-container iframe").each((function(e,t){t.contentWindow.postMessage("czCodeBlur","*")}))}})),this.windowSvc.window.addEventListener("resize",this.onWindowResizeForAnchors),this.windowSvc.elementCache.window.on(this.windowSvc.namespaceEvent("beforeunload"),(function(){e.currentWalkthroughStep&&e.endWalkthroughStep(!1,"Abandoned"),e.currentWalkthrough&&e.endWalkthrough(!0)})))},e.prototype.onDigest=function(){this.tenantSvc.FeatureEnabled(c.FeatureFlags.Walkthroughs)&&this.CheckForWalkthroughAnchors()},e.prototype.onHalt=function(){a.PubSuber.removeAll(this.subIds),this.windowSvc.window.removeEventListener("message",this.boundClickAuditHandler),this.windowSvc.window.removeEventListener("resize",this.onWindowResizeForAnchors),this.CompletelyAbandonAnyCurrentWalkthrough(),this.windowSvc.elementCache.body.find(".cz-tooltip-container").remove(),this.windowSvc.elementCache.body.find("#cz_transBG").remove(),this.clearAllAnchors()},e.prototype.onStartWalkthrough=function(e,t){var n=e.testing;if((n||!e.disabled)&&(n||e.recurrence||!e.id||-1===this.seenWalkthroughIds.indexOf(e.id)))if(n||!this.currentWalkthrough)if(!0!==this.announcementVisible)if(this.currentWalkthrough=e,(null==t?void 0:t.cssText)&&(this.currentWalkthroughCssText=t.cssText),!n&&this.currentWalkthrough.id&&this.seenWalkthroughIds.push(this.currentWalkthrough.id),this.appSvc.debug("[Devless Walkthrough Started]",this.currentWalkthrough),this.currentWalkthrough&&!n&&this.currentWalkthrough.id&&this.walkthroughSvc.SendActionMessage(s.Enums.WalkthroughActionType.WalkthroughStarted,this.currentWalkthrough.id),this.currentWalkthrough.steps&&0!==this.currentWalkthrough.steps.length){var o=this.currentWalkthrough.steps[0];this.doWalkthroughStep(o)}else this.endWalkthrough(!1);else this.appSvc.debug("[Devless Walkthrough Prevented (In-App Announcement Visible)]",e);else this.appSvc.debug("[Devless Walkthrough Prevented (Another In Progress)]",e)},e.prototype.ReplayAnnouncement=function(e,t){var o=this.messageSvc.Announcements.filter((function(t){return t.id===e}));if(0!==o.length){var i=n(n({},o[0]),{isReplay:!0});t&&(i.announcementPositionId=t),i&&this.messageSvc.isAdvancedDisplayAnnouncement(i)&&this.addAdvancedDisplayAnnouncement(i)}},e.prototype.TestAnnouncement=function(e,t,n,o,i,r,a){this.HideAnyAnnouncement();var c={messageKey:-1*this.windowSvc.Date.now(),isRead:!1,deliveryDate:this.windowSvc.Date.now(),announcementIncludeInPanel:!0===n,announcementIncludeInPanelString:(!0===n).toString(),id:-1,announcementPositionId:s.Enums.AnnouncementPosition.PopUp,messageContent:"".concat(t||this.defaultTestMessageContent)};switch("<"!==c.messageContent.charAt(0)&&(c.messageContent="<p>".concat(c.messageContent,"</p>")),null!==t&&"object"==typeof t&&(c.messageData=t,delete c.messageContent),o&&(o.testing=!0),e){case s.Enums.AnnouncementPosition.PopUp:o?this.showWalkthroughPopup(c.messageContent,o,void 0,i,r,a):this.createNewAnnouncement(c);break;case s.Enums.AnnouncementPosition.SlideBottomRight:case s.Enums.AnnouncementPosition.SlideBottomCenter:case s.Enums.AnnouncementPosition.SlideBottomLeft:case s.Enums.AnnouncementPosition.SlideLeftBottom:case s.Enums.AnnouncementPosition.SlideLeftCenter:case s.Enums.AnnouncementPosition.SlideLeftTop:case s.Enums.AnnouncementPosition.SlideTopLeft:case s.Enums.AnnouncementPosition.SlideTopCenter:case s.Enums.AnnouncementPosition.SlideTopRight:case s.Enums.AnnouncementPosition.SlideRightTop:case s.Enums.AnnouncementPosition.SlideRightCenter:case s.Enums.AnnouncementPosition.SlideRightBottom:o?this.showWalkthroughSlider(c.messageContent,o,void 0,i,r,a):(c.announcementPositionId=e,this.createNewAnnouncement(c));break;case s.Enums.AnnouncementPosition.PanelOnly:c.announcementIncludeInPanel=!0,c.announcementIncludeInPanelString="true",c.announcementPositionId=s.Enums.AnnouncementPosition.PanelOnly,this.createNewAnnouncement(c);break;case s.Enums.AnnouncementPosition.Tooltip:this.showTooltip(t||this.defaultTestMessageContent,o,void 0,1,i,r,a)}},e.prototype.UpdateAnnouncement=function(e,t,n,o,i,r,a){switch(e){case s.Enums.AnnouncementPosition.PopUp:this.popupContainer&&(this.popupContainer.innerHTML=t);break;case s.Enums.AnnouncementPosition.SlideBottomRight:case s.Enums.AnnouncementPosition.SlideBottomCenter:case s.Enums.AnnouncementPosition.SlideBottomLeft:case s.Enums.AnnouncementPosition.SlideLeftBottom:case s.Enums.AnnouncementPosition.SlideLeftCenter:case s.Enums.AnnouncementPosition.SlideLeftTop:case s.Enums.AnnouncementPosition.SlideTopLeft:case s.Enums.AnnouncementPosition.SlideTopCenter:case s.Enums.AnnouncementPosition.SlideTopRight:case s.Enums.AnnouncementPosition.SlideRightTop:case s.Enums.AnnouncementPosition.SlideRightCenter:case s.Enums.AnnouncementPosition.SlideRightBottom:this.closeSlider(),this.showWalkthroughSlider(t||this.defaultTestMessageContent,o,void 0,i,r,a);break;case s.Enums.AnnouncementPosition.PanelOnly:break;case s.Enums.AnnouncementPosition.Tooltip:this.closeTooltips(!1,!1),this.showTooltip(t||this.defaultTestMessageContent,o,void 0,void 0,i,r,a)}},e.prototype.HideAnyAnnouncement=function(){this.frameBuilder.removeWalkthroughStyleElements(),this.closePopUpAnnouncement(!1,!1),this.closeSlider(),this.closeTooltips(!1,!1)},e.prototype.TestWalkthrough=function(e,t){if((e=a.Walkthrough.fromObject(e)).testing=!0,this.HideAnyAnnouncement(),e.triggerType===a.WalkthroughTriggerType.Anchor){var n=this.generateWalkthroughAnchorId(e),o=this.windowSvc.document.getElementById(n);o&&this.removeAnchorFrame(o),this.setupWalkthroughAnchor(e,t)}else this.onStartWalkthrough(e,t)},e.prototype.TestClearAll=function(){this.HideAnyAnnouncement(),this.currentWalkthrough&&this.currentWalkthrough.testing&&this.CompletelyAbandonAnyCurrentWalkthrough();for(var e=0;e<this.anchorFrames.length;e++)if(this.anchorFrames[e]){var t=this.anchorFrames[e],n=t.anchorFrame,o=t.anchorFrameConfig;t.target;if(o.testing)n.parentElement.removeChild(n),this.anchorFrames[e]=null}this.anchorFrames=this.anchorFrames.filter((function(e){return e}))},e.prototype.removeAnchorFrame=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e),this.anchorFrames=this.anchorFrames.filter((function(t){return!!t&&t.anchorFrame.getAttribute("id")!==e.getAttribute("id")}))}},e.prototype.CompletelyAbandonAnyCurrentWalkthrough=function(){this.HideAnyAnnouncement(),this.currentWalkthroughStep&&this.endWalkthroughStep(!1,"Abandoned"),this.currentWalkthrough&&this.endWalkthrough(!0)},e.prototype.AnnouncementLinkClickHandler=function(e){try{var t=this.windowSvc.czq(e.currentTarget).closest(".cz-click-audit");if(!t||0===t.length)return;var n=t.attr("data-message-id");this.messageClicked(n)}catch(e){r.default.report("Herald.auditClick",e)}},e.prototype.CloseSliderClickHandler=function(e){try{var t=this.windowSvc.czq(e.currentTarget).closest(".cz-slide-announcement"),n=t.find(".cz-announcement");0===n.length&&(n=t.find("#cz_nps_frame"));var o="true"===(n.attr("data-info-message")||"true").toLowerCase(),i=this.messageSvc.GetAnnouncementFromAnnouncementHtml(n.get(0));this.closeSlider(),o&&this.announceClosure(this.sessionSvc.CurrentAccountContent.clickToSeeMoreText,i),this.onAdvancedDisplayClose()}catch(e){r.default.report("Herald.closeAnnouncementEvent",e)}},e.prototype.ShowNPSClickHandler=function(e){try{var t=e.currentTarget,n=t.getAttribute("data-nps-url"),o="true"===(t.getAttribute("data-nps-wide")||"").toLowerCase(),i="true"===(t.getAttribute("data-show-new-window")||"").toLowerCase(),s=a.CoreUtils.closest(t,".cz-announcement"),c="true"===(s.getAttribute("data-info-message")||"true").toLowerCase(),l=this.messageSvc.GetAnnouncementFromAnnouncementHtml(s);this.closeSlider(),this.showSurveyPopup(n,i,c,o,l)}catch(e){r.default.report("Herald.ShowNPSClickHandler",e)}},e.prototype.ShowNPSFrameCommHandler=function(e){try{var t,n=e.url,o=e.wide,i=e.showMessageBubble,s=e.showNewWindow,a=e.id;this.messageSvc.Announcements.filter((function(e){e.id.toString()===a.toString()&&(t=e)})),this.closeSlider(),this.showSurveyPopup(n,s,i,o,t),this.appSvc.debug("[Show NPS Popup]")}catch(e){r.default.report("Herald.ShowNPSFrameCommHandler",e)}},e.prototype.createNewAnnouncement=function(e){this.messageSvc.AddNewAnnouncement(e)&&(this.messageSvc.isAdvancedDisplayAnnouncement(e)&&this.addAdvancedDisplayAnnouncement(e),this.appSvc.pubsub.publish(a.ChurnZeroAppEvents.NewAnnouncement,e))},e.prototype.announceClosure=function(e,t){this.appSvc.pubsub.publish(a.ChurnZeroAppEvents.AnnouncementClosed,{infoMessage:e,announcement:t})},e.prototype.messageClicked=function(e){var t=parseInt(e,10);isNaN(t)||(this.appSvc.debug("[Click Audit ".concat(t,"]")),this.messageSvc.SendReadReceipt(t),this.messageSvc.SendClickAudit(t))},e.prototype.walkthroughMessageClicked=function(e){if(this.appSvc.debug("[Devless Walkthrough Click Audit]"),e){var t=s.Enums.WalkthroughActionType.StepClicked;this.walkthroughSvc.SendActionMessage(t,e.wId,e.sId)}},e.prototype.expireAnnouncement=function(e){this.messageSvc.ExpireAnnouncement(e)},e.prototype.validateAdvancedAnnouncementDisplay=function(e){return!(!e.announcementPositionId||e.announcementPositionId<s.Enums.AnnouncementPosition.PopUp)&&(!0!==this.announcementVisible&&(!0===e.isReplay||!(this.lastShownAnnouncementDate&&e.deliveryDate.getTime()<this.lastShownAnnouncementDate.getTime())&&!0!==e.isRead))},e.prototype.addAdvancedDisplayAnnouncement=function(e){if(this.validateAdvancedAnnouncementDisplay(e)){switch(this.messageSvc.getAnnouncementType(e)){case a.AnnouncementType.Basic:e.announcementPositionId===s.Enums.AnnouncementPosition.PopUp?this.showInAppPopup(e):e.announcementPositionId>s.Enums.AnnouncementPosition.PopUp&&this.showInAppSlider(e);break;case a.AnnouncementType.Nps:this.messageSvc.normalizeMessageData(e),e.announcementPositionId===s.Enums.AnnouncementPosition.PopUp?this.showSurveyPopup(e.messageData.responseUrl,e.messageData.showNewWindow,e.showInfoMessageString,e.messageData.wide,e):e.announcementPositionId>s.Enums.AnnouncementPosition.PopUp&&this.showStandardSurveySlider(e);break;case a.AnnouncementType.CustomSurvey:this.messageSvc.normalizeMessageData(e),e.announcementPositionId>s.Enums.AnnouncementPosition.PopUp&&this.showCustomSurveySlider(e);break;default:return}this.lastShownAnnouncementDate=e.deliveryDate,this.messageSvc.SendReadReceipt(e.id)}},e.prototype.showInAppSlider=function(t){var o,i=this,r=this.sessionSvc.CurrentAccountContent.announcementStyles,a=e.getAnnouncementPositionClassFromId(t.announcementPositionId),c=this.windowSvc.createElement("div");c.classList.add("cz-slide-announcement"),c.classList.add("cz-in-app-slider"),c.classList.add(a),c.style.setProperty("visibility","hidden","important");var l=null==r?void 0:r.sliderWidth,u=(null===(o=t.messageData)||void 0===o?void 0:o.styleConfig)||{},h={content:t.messageContent,clickAuditData:t,styleConfig:n(n({},r),u),width:l,type:s.Enums.AnnouncementElementType.Slider,position:t.announcementPositionId,onCloseCallback:function(){i.closeWalkthroughSlider(!1),t.announcementIncludeInPanel&&i.announceClosure(i.sessionSvc.CurrentAccountContent.clickToSeeMoreText,t)},onShownCallback:function(){c.style.removeProperty("visibility")},onResizeCallback:null};l&&c.style.setProperty("width","".concat(l,"px"),"important");var d=this.frameBuilder.buildInAppContentFrame(h);c.appendChild(d),this.showSlider(c)},e.prototype.showSurveySlider=function(t,o,i){var r,a=this,c=this.sessionSvc.CurrentAccountContent.announcementStyles,l=this.windowSvc.createElement("div");l.classList.add("cz-slide-announcement"),l.classList.add("cz-in-app-slider"),l.classList.add("cz-nps-announcement"),l.style.setProperty("visibility","hidden","important");var h=(null===(r=t.messageData)||void 0===r?void 0:r.styleConfig)||{},d={content:o,clickAuditData:t,styleConfig:n(n({},c),h),width:717,type:s.Enums.AnnouncementElementType.Slider,position:t.announcementPositionId,onCloseCallback:function(){a.closeSlider(),t.announcementIncludeInPanel&&a.announceClosure(a.sessionSvc.CurrentAccountContent.clickToSeeMoreText,t)},onLoadCallback:function(e){var t=a.appSvc.addCdn("css/csm_panel_styles.css"),n=e.document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=t;var o=e.document.getElementsByTagName("head")[0];o.insertBefore(n,o.childNodes[0])},onShownCallback:function(){l.style.removeProperty("visibility")},onClickCallback:i,onResizeCallback:null},p=u.SURVEY_CONTENT_CONTAINER_STYLES;d.styleConfig.fontFamily&&(p+=".cz-announcement .cz-nps-container .questiontextcontainer .questiontext, .cz-announcement .cz-nps-container .labels table td.left, .cz-announcement .cz-nps-container .labels table td.right{",p+="font-family:".concat(this.tenantSvc.getUIFontFamilyMappingDisplayValue(d.styleConfig.fontFamily)," !important;"),p+="}"),d.customCss=p;var f=e.getAnnouncementPositionClassFromId(t.announcementPositionId);l.classList.add(f),l.style.setProperty("width","".concat(717,"px"),"important");var m=this.frameBuilder.buildInAppContentFrame(d);l.appendChild(m),this.showSlider(l)},e.prototype.showCustomSurveySlider=function(e){var t=n(n({},e),{NpsUrl:e.messageData.responseUrl,Content:this.appSvc.templater.populateTemplate(e.messageData.content,{SurveyLink:this.surveyLinkHash}),wide:e.messageData.wide,showNewWindow:e.messageData.showNewWindow}),o=this.appSvc.templater.populateTemplate(this.templateCache.announcementSurveyCustomTemplate,t);this.showSurveySlider(t,o,this.onCustomSurveyClick)},e.prototype.showStandardSurveySlider=function(e){var t=n(n({},e),{NpsQuestion:e.messageData.question,NpsUrl:e.messageData.responseUrl,NpsLogoUrl:e.messageData.logoUrl,NpsLogoStyle:e.messageData.logoUrl?"":"display: none",NpsLowScoreText:e.messageData.lowScoreText||"Not at all likely",NpsHighScoreText:e.messageData.highScoreText||"Extremely likely",AdditionalScoresClass:e.messageData.wide?"scores-wide":"",LabelsContainerClass:"",Buttons:this.generateSurveyButtons(e.messageData)||this.generateDefaultNpsButtons(e.messageData)});t.LabelsContainerClass=(t.NpsLowScoreText||"").trim()||(t.NpsHighScoreText||"").trim()?"":"scores-labels-hidden";var o=this.appSvc.templater.populateTemplate(this.templateCache.announcementNpsTemplate,t);this.showSurveySlider(t,o,this.onStandardSurveyClick)},e.prototype.showWalkthroughSlider=function(t,n,o,i,s,r){var c=this,l=e.getAnnouncementPositionClassFromId(n.position),u=this.windowSvc.createElement("div");u.classList.add(this.walkthroughSliderContainerClass);var h=this.windowSvc.createElement("div");h.classList.add(this.walkthroughSliderContentClass),r.onCloseCallback=function(e){return c.closeWalkthroughSlider(e)};var d=this.windowSvc.createElement("div");d.classList.add("cz-slide-announcement"),d.style.setProperty("background-color","transparent","important"),d.classList.add(l),d.classList.add(this.walkthroughSliderClass),d.style.setProperty("visibility","hidden","important");var p={stepType:a.WalkthroughStepType.Slider,content:t,config:n,clickAuditData:o,onShownCallback:function(){d.style.removeProperty("visibility")},onResizeCallback:void 0,styleConfig:i,sequence:s,metaData:r},f=this.frameBuilder.buildWalkthroughContentFrame(p);h.appendChild(f),u.appendChild(h),(null==i?void 0:i.sliderWidth)&&d.style.setProperty("width","".concat(i.sliderWidth,"px"),"important"),d.appendChild(u),this.showSlider(d)},e.prototype.showSlider=function(e){a.CoreUtils.isString(e)?this.windowSvc.elementCache.body.append(e):this.windowSvc.elementCache.body.get(0).appendChild(e),this.announcementVisible=!0},e.prototype.closeSlider=function(){this.sliderContainer.remove(),this.announcementVisible=!1},e.prototype.closeWalkthroughSlider=function(e){e=!0===e,this.closeSlider(),void 0!==this.currentWalkthroughStep?this.endWalkthroughStep(e,e?"CTA Clicked":"Close Handle Clicked"):this.appSvc.pubsub.publish(a.DevlessEvents.WalkthroughStepPreviewClose)},e.prototype.showInAppPopup=function(e){var t,o=this,i=this.sessionSvc.CurrentAccountContent.announcementStyles,r=null==i?void 0:i.popupWidth,a=(null===(t=e.messageData)||void 0===t?void 0:t.styleConfig)||{},c={content:e.messageContent,clickAuditData:e,styleConfig:n(n({},i),a),width:r,type:s.Enums.AnnouncementElementType.Popup,onCloseCallback:function(){o.closePopUpAnnouncement(!1,!1),e.announcementIncludeInPanel&&o.announceClosure(o.sessionSvc.CurrentAccountContent.clickToSeeMoreText,e)},onShownCallback:function(){var e,t;null===(t=null===(e=o.popupBackground)||void 0===e?void 0:e.classList)||void 0===t||t.add(o.czInClassName)},onResizeCallback:null,position:void 0},l=this.frameBuilder.buildInAppContentFrame(c);l.style.width="100%";var u=r?"".concat(r,"px"):void 0;this.showPopUpAnnouncement(l,u),this.popupDiv&&this.popupDiv.classList.add(this.inAppPopupClass)},e.prototype.showSurveyPopup=function(e,t,o,i,c){var l=this,h="true"===(null==o?"true":o).toString().toLowerCase();if(t){this.windowSvc.openWindow(this.windowSvc.clientSideUrls.baseApiUrl+e).onunload=function(){h&&l.announceClosure(l.sessionSvc.CurrentAccountContent.clickToSeeMoreText,c)}}else{var d=this.frameBuilder.buildSurveyContentFrame(e,o.toString()),p=this.sessionSvc.CurrentAccountContent.announcementStyles,f={content:d,styleConfig:n(n({},p),{}),width:717,type:s.Enums.AnnouncementElementType.Popup,resizeObserverBehavior:a.FrameResizeObserverBehavior.HeightMatch,onCloseCallback:function(){l.closePopUpAnnouncement(!1,!1),h&&l.announceClosure(l.sessionSvc.CurrentAccountContent.clickToSeeMoreText,c)},onLoadCallback:function(e){var t=e.document.querySelector("#cz_nps_frame"),n=function(){var e=parseInt(t.getAttribute("data-content-size")),n=.75*(l.windowSvc.window.innerHeight||l.windowSvc.document.documentElement.clientHeight||l.windowSvc.document.body.clientHeight)-45,o=e+1;e>n&&(o=n),t.style.height=o+"px"};if(!a.CoreUtils.isNullOrUndefined(t)){e.addEventListener("message",(function(e){try{if(a.CoreUtils.hasOwnProp(e,"data")||!e.data.height)return;var o=parseInt(e.data.height);t.setAttribute("data-content-size",o.toString()),n()}catch(e){r.default.report("Herald.npsResizeMessage",e)}}));var o=function(){try{n()}catch(e){r.default.report("Herald.npsResizePopUpEvent",e)}},i=a.CoreUtils.debounce(o,200);e.addEventListener("resize",o),l.windowSvc.window.addEventListener("resize",i),e.addEventListener("unload",(function(){l.appSvc.debug("showSurveyPopup cz_nps_frame unloaded..."),l.windowSvc.window.removeEventListener("resize",i)}))}},onShownCallback:function(){var e,t;null===(t=null===(e=l.popupBackground)||void 0===e?void 0:e.classList)||void 0===t||t.add(l.czInClassName)},onResizeCallback:null},m=u.SURVEY_CONTENT_CONTAINER_STYLES;f.styleConfig.fontFamily&&(m+=".cz-announcement .cz-nps-container .questiontextcontainer .questiontext, .cz-announcement .cz-nps-container .labels table td.left, .cz-announcement .cz-nps-container .labels table td.right{",m+="font-family:".concat(this.tenantSvc.getUIFontFamilyMappingDisplayValue(f.styleConfig.fontFamily)," !important;"),m+="}"),f.customCss=m;var g=this.frameBuilder.buildInAppContentFrame(f);g.style.width="100%",this.showPopUpAnnouncement(g,i?"800px":"640px"),this.popupDiv&&(this.popupDiv.classList.add(this.inAppPopupClass),this.popupDiv.classList.add("nps"))}},e.prototype.showWalkthroughPopup=function(e,t,n,o,i,s){var r=this,c=this.windowSvc.createElement("div");c.classList.add(this.walkthroughPopupClass);var u=this.windowSvc.createElement("div");u.classList.add(this.walkthroughPopupContentClass),s.onCloseCallback=function(e){return r.closePopUpAnnouncement(!0,e)};var h={stepType:a.WalkthroughStepType.PopUp,content:e,config:t,clickAuditData:n,onResizeCallback:void 0,onShownCallback:function(){var e,t;null===(t=null===(e=r.popupBackground)||void 0===e?void 0:e.classList)||void 0===t||t.add(r.czInClassName)},styleConfig:o,sequence:i,metaData:s},d=this.frameBuilder.buildWalkthroughContentFrame(h);d.style.width="100%",u.appendChild(d),c.appendChild(u);var p=(null==o?void 0:o.popupWidth)?"".concat(o.popupWidth,"px"):t.width;if(this.showPopUpAnnouncement(c,p),this.popupDiv.classList.add("walk"),!this.windowSvc.document.getElementById(l.FRAME_BUILDER_STYLE_ELEMENT_ID_MAPPING.styleOverrides)){var f=this.windowSvc.createElement("style");f.id=l.FRAME_BUILDER_STYLE_ELEMENT_ID_MAPPING.styleOverrides,f.setAttribute("type","text/css"),f.innerHTML=".cz-popover{background-color:transparent!important;}",this.windowSvc.document.getElementsByTagName("head")[0].appendChild(f)}},e.prototype.showPopUpAnnouncement=function(e,t){this.popupContainer&&(a.CoreUtils.isString(e)?this.popupContainer.innerHTML=e:this.popupContainer.appendChild(e),this.popupContainer.classList.remove("nps")),void 0===t&&(t="340px"),this.popupDiv||this.addPopOverDiv(),this.popupDiv.style.width=t,this.popupDiv.classList.remove("walk",this.inAppPopupClass),this.clearStyles(this.popupDiv,["border-radius","background-color"]),this.windowSvc.czq("#cz_popover .cz-popover-close img").attr("style",""),this.popupDiv.classList.remove("hidden"),this.popupDiv.classList.add("shown"),this.announcementVisible=!0},e.prototype.closePopUpAnnouncement=function(e,t){var n,o,i,s,r,c,l,u,h,d;null===(o=null===(n=this.popupBackground)||void 0===n?void 0:n.classList)||void 0===o||o.remove(this.czInClassName),null===(s=null===(i=this.popupDiv)||void 0===i?void 0:i.classList)||void 0===s||s.remove("shown"),null===(c=null===(r=this.popupDiv)||void 0===r?void 0:r.classList)||void 0===c||c.remove("walk"),null===(u=null===(l=this.popupDiv)||void 0===l?void 0:l.classList)||void 0===u||u.remove("nps"),null===(d=null===(h=this.popupDiv)||void 0===h?void 0:h.classList)||void 0===d||d.remove(this.inAppPopupClass),this.clearStyles(this.popupDiv,["border-radius","background-color"]);var p=this.popupContainer;p&&(p.innerHTML=""),this.windowSvc.elementCache.window.off(this.windowSvc.namespaceEvent("resize.popup")),this.announcementVisible=!1,e&&(void 0!==this.currentWalkthroughStep?this.endWalkthroughStep(t,t?"CTA Clicked":"Close Handle Clicked"):this.appSvc.pubsub.publish(a.DevlessEvents.WalkthroughStepPreviewClose))},e.prototype.showTooltip=function(e,t,n,o,i,s,r){var c=this,l=this.windowSvc.findElement(t.selector),u=a.CoreUtils.clone(t);if(!l||0===l.length)return this.closeTooltips(!1,!1),null==o&&(o=1),o<=10?(this.appSvc.debug("[Devless Walkthrough Step Target Not Found. Attempt "+o+"/10]"),void setTimeout((function(){c.showTooltip(e,t,n,++o,i,s,r)}),250)):void this.endWalkthroughStep(!1,"Target Not Found");l.each((function(o,l){var h=c.windowSvc.createElement("div");u.wasScrolled=!1,h.classList.add(c.tooltipClass),h.classList.add("cz-click-audit"),h.style.setProperty("visibility","hidden","important");var d=c.windowSvc.createElement("div"),p=function(){c.calcTooltipPosition(u,l,h,0===o,i)};d.classList.add(c.tooltipContentClass),r.onCloseCallback=function(e){return c.closeTooltips(!0,e)};var f={stepType:a.WalkthroughStepType.Tooltip,content:e,config:t,clickAuditData:n,onResizeCallback:p,onShownCallback:function(){var e,t;h.style.removeProperty("visibility"),null===(t=null===(e=h.querySelector(".".concat(c.tooltipTriangleClass)))||void 0===e?void 0:e.classList)||void 0===t||t.add(c.czInClassName)},styleConfig:i,sequence:s,metaData:r},m=c.frameBuilder.buildWalkthroughContentFrame(f);d.appendChild(m),(null==i?void 0:i.tooltipWidth)&&d.style.setProperty("width","".concat(i.tooltipWidth,"px"),"important"),h.appendChild(d),h.style.setProperty("position","fixed","important"),h.style.opacity="0",h.style.top="0",h.style.left="0",(u.container===a.ContainerType.Parent?l.parentElement:c.windowSvc.elementCache.body.get(0)).appendChild(h),p()}))},e.prototype.clearStyles=function(e,t){if(e)for(var n=0;n<t.length;n++)e.style.removeProperty(t[n])},e.prototype.calcTooltipPosition=function(e,t,n,o,i){var s,r,c=i||{},l=c.borderWidth,u=c.borderColor,h=c.backgroundColor,d=c.ctaBackgroundColor,p=(l||0)>0&&"string"==typeof u,f=p?u:h||e.backgroundColor,m=d||e.ctaBackgroundColor,g=25,v=t.getBoundingClientRect(),y=n.getBoundingClientRect(),S=n.querySelector("."+this.tooltipContentClass),C=S.getBoundingClientRect();switch(e.container){case a.ContainerType.Parent:s=t.offsetTop,r=t.offsetLeft;break;case a.ContainerType.Body:default:s=v.top+this.windowSvc.elementCache.window.scrollTop(),r=v.left+this.windowSvc.elementCache.window.scrollLeft()}function b(e){var t,n;switch(e){case a.TooltipPosition.Top:t=s-(g+y.height),n=r+v.width/2-y.width/2;break;case a.TooltipPosition.Bottom:t=s+(g+v.height),n=r+v.width/2-y.width/2;break;case a.TooltipPosition.Left:n=r-(y.width+g),t=s+v.height/2-C.height/2;break;case a.TooltipPosition.Right:default:n=r+(v.width+g),t=s+v.height/2-C.height/2}return{top:t,left:n}}var w=b(e.position),E=document.documentElement.scrollWidth-(y.width+g),T=document.documentElement.scrollHeight-(y.height+g),A=e.position;w.left<10&&e.position===a.TooltipPosition.Left&&(A=a.TooltipPosition.Right,w.left=b(A).left,w.left>E&&(w=b(A=a.TooltipPosition.Top)).top<10&&(w=b(A=a.TooltipPosition.Bottom))),w.left>E&&e.position===a.TooltipPosition.Right&&(A=a.TooltipPosition.Left,w.left=b(A).left,w.left<10&&(w=b(A=a.TooltipPosition.Top)).top<10&&(w=b(A=a.TooltipPosition.Bottom))),e.container!==a.ContainerType.Body||e.position!==a.TooltipPosition.Right&&e.position!==a.TooltipPosition.Left||(w.top>T&&(w.top=T),w.top<10&&(w.top=10)),w.top<10&&e.position===a.TooltipPosition.Top&&(A=a.TooltipPosition.Bottom,w.top=b(A).top,w.top>T&&(w=b(A=a.TooltipPosition.Left)).left>E&&(w=b(A=a.TooltipPosition.Right))),w.top>T&&e.position===a.TooltipPosition.Bottom&&(A=a.TooltipPosition.Bottom,w.top=b(A).top,w.top<10&&(w=b(A=a.TooltipPosition.Left)).left>E&&(w=b(A=a.TooltipPosition.Right))),e.container!==a.ContainerType.Body||e.position!==a.TooltipPosition.Top&&e.position!==a.TooltipPosition.Bottom||(w.left>E&&(w.left=E),w.left<10&&(w.left=10)),n.style.setProperty("position","absolute","important"),n.style.opacity="1",n.style.top=w.top+"px",n.style.left=w.left+"px";var P="rgba(0,0,0,0.25)";C=S.getBoundingClientRect();var k=v.top-C.top+v.height/2-15,_=C.width/2-15,I=n.querySelector(".".concat(this.tooltipTriangleClass)),L=n.querySelector(".".concat(this.tooltipTriangleInnerClass));I||((I=this.windowSvc.createElement("div")).classList.add(this.tooltipTriangleClass),I.style.setProperty("border-width","15px","important"),(L=this.windowSvc.createElement("div")).classList.add(this.tooltipTriangleInnerClass),L.style.setProperty("border-width","14px","important"),I.appendChild(L),n.appendChild(I));var x=-30;switch(A){case a.TooltipPosition.Top:this.clearStyles(I,["top","right","border-bottom-color"]),I.style.setProperty("border-top-color",P,"important"),I.style.setProperty("bottom","".concat(x,"px"),"important"),I.style.setProperty("left",_+"px","important");var O=p?f:m;this.clearStyles(L,["top","right","border-bottom-color"]),L.style.setProperty("border-top-color",O,"important"),L.style.setProperty("bottom","-13px","important"),L.style.setProperty("left","-14px","important");break;case a.TooltipPosition.Right:this.clearStyles(I,["bottom","right","border-left-color"]),I.style.setProperty("border-right-color",P,"important"),I.style.setProperty("left","".concat(x,"px"),"important"),I.style.setProperty("top",k+"px","important"),this.clearStyles(L,["bottom","right","border-left-color"]),L.style.setProperty("border-right-color",f,"important"),L.style.setProperty("left","-13px","important"),L.style.setProperty("top","-14px","important");break;case a.TooltipPosition.Bottom:this.clearStyles(I,["bottom","right","border-top-color"]),I.style.setProperty("border-bottom-color",P,"important"),I.style.setProperty("top","".concat(x,"px"),"important"),I.style.setProperty("left",_+"px","important"),this.clearStyles(L,["bottom","right","border-top-color"]),L.style.setProperty("border-bottom-color",f,"important"),L.style.setProperty("top","-13px","important"),L.style.setProperty("left","-14px","important");break;case a.TooltipPosition.Left:this.clearStyles(I,["bottom","left","border-right-color"]),I.style.setProperty("border-left-color",P,"important"),I.style.setProperty("right","".concat(x,"px"),"important"),I.style.setProperty("top",k+"px","important"),this.clearStyles(L,["bottom","left","border-right-color"]),L.style.setProperty("border-left-color",f,"important"),L.style.setProperty("right","-13px","important"),L.style.setProperty("top","-14px","important")}!o||e.wasScrolled||a.StyleUtils.isInViewport(n)||(n.scrollIntoView(),e.wasScrolled=!0)},e.prototype.closeTooltips=function(e,t){this.windowSvc.elementCache.body.find(".".concat(this.tooltipClass)).remove(),e&&(void 0!==this.currentWalkthroughStep?this.endWalkthroughStep(t,t?"CTA Clicked":"Close Handle Clicked"):this.appSvc.pubsub.publish(a.DevlessEvents.WalkthroughStepPreviewClose))},e.prototype.doWalkthroughStep=function(e){this.appSvc.debug("[Devless Walkthrough Starting Step ".concat(e.sequence,"]"),e),this.currentWalkthroughStep=e;var t={wId:e.walkthroughId,sId:e.id};if(this.currentWalkthrough&&!this.currentWalkthrough.testing&&this.currentWalkthrough.id&&this.currentWalkthroughStep.id){var n=s.Enums.WalkthroughActionType.StepStarted;this.walkthroughSvc.SendActionMessage(n,this.currentWalkthrough.id,this.currentWalkthroughStep.id)}var o=e.styleConfig,i=e.sequence,r=this.currentWalkthrough?{totalSteps:this.currentWalkthrough.steps.length}:{};switch(this.currentWalkthroughCssText&&(r.cssText=this.currentWalkthroughCssText),e.stepTypeId){case a.WalkthroughStepType.PopUp:this.showWalkthroughPopup(e.content||"",e.stepConfig,t,o,i,r);break;case a.WalkthroughStepType.Slider:this.showWalkthroughSlider(e.content||"",e.stepConfig,t,o,i,r);break;case a.WalkthroughStepType.Tooltip:this.showTooltip(e.content||"",e.stepConfig,t,void 0,o,i,r)}},e.prototype.endWalkthroughStep=function(e,t){if(void 0===e&&(e=!0),t=t?" : ".concat(t):"",this.appSvc.debug("[Devless Walkthrough Ended Step ".concat(this.currentWalkthroughStep.sequence,"]").concat(t),this.currentWalkthroughStep),this.currentWalkthrough&&!this.currentWalkthrough.testing&&this.currentWalkthrough.id&&this.currentWalkthroughStep.id){var n=e?s.Enums.WalkthroughActionType.StepCompleted:s.Enums.WalkthroughActionType.StepAbandonded;this.walkthroughSvc.SendActionMessage(n,this.currentWalkthrough.id,this.currentWalkthroughStep.id)}var o=this.currentWalkthroughStep.sequence+1,i=o<this.currentWalkthrough.steps.length;this.currentWalkthroughStep=void 0,i&&e?this.doWalkthroughStep(this.currentWalkthrough.steps[o]):this.endWalkthrough(!e)},e.prototype.endWalkthrough=function(e){if(void 0===e&&(e=!1),this.appSvc.debug("[Devless Walkthrough ".concat(e?"Abandoned":"Completed","]"),this.currentWalkthrough),this.currentWalkthrough&&!this.currentWalkthrough.testing&&this.currentWalkthrough.id){var t=e?s.Enums.WalkthroughActionType.WalkthroughAbandoned:s.Enums.WalkthroughActionType.WalkthroughCompleted;this.walkthroughSvc.SendActionMessage(t,this.currentWalkthrough.id)}this.currentWalkthrough=void 0,this.currentWalkthroughCssText=void 0,this.frameBuilder.removeWalkthroughStyleElements()},e.prototype.onAdvancedDisplayClose=function(){},e.prototype.addPopOverDiv=function(){if(!!a.CoreUtils.isNullOrUndefined(this.popupDiv)){var e=this.windowSvc.getBodyElement(),t=this.windowSvc.getDocument(),n=this.appSvc.templater.populateTemplate(this.templateCache.popoverContainerTemplate,{});e.appendChild(a.CoreUtils.createElementFromHTML(t,n))}},e.prototype.checkForLastAdvancedDisplayAnnouncement=function(){for(var e=null,t=this.messageSvc.Announcements.length-1;t>=0;t--){var n=this.messageSvc.Announcements[t];this.messageSvc.isAdvancedDisplayAnnouncement(n)&&(e=null,!1===n.isRead&&(e=n))}e&&this.addAdvancedDisplayAnnouncement(e)},e.getAnnouncementPositionClassFromId=function(e){switch(e){case s.Enums.AnnouncementPosition.SlideBottomCenter:return"bottom-center";case s.Enums.AnnouncementPosition.SlideLeftBottom:return"left-bottom";case s.Enums.AnnouncementPosition.SlideTopLeft:return"top-left";case s.Enums.AnnouncementPosition.SlideTopCenter:return"top-center";case s.Enums.AnnouncementPosition.SlideTopRight:return"top-right";case s.Enums.AnnouncementPosition.SlideBottomLeft:return"bottom-left";case s.Enums.AnnouncementPosition.SlideBottomRight:return"bottom-right";case s.Enums.AnnouncementPosition.SlideLeftTop:return"left-top";case s.Enums.AnnouncementPosition.SlideLeftCenter:return"left-center";case s.Enums.AnnouncementPosition.SlideRightTop:return"right-top";case s.Enums.AnnouncementPosition.SlideRightCenter:return"right-center";case s.Enums.AnnouncementPosition.SlideRightBottom:return"right-bottom";default:return"bottom-center"}},e.prototype.generateSurveyButtons=function(e){var t=this;if(e&&e.buttons){var n=-1===e.responseUrl.indexOf("?")?"?value=":"&value=";return e.buttons.map((function(o){var i="";return o.color&&(i+="background-color: ".concat(o.color,"!important;")),e.wide&&(i+="min-width: 100% !important;"),t.appSvc.templater.populateTemplate(t.templateCache.announcementSurveyButtonTemplate,{Style:i,TextStyle:o.color?"color: #fff!important":"",Url:e.responseUrl+n+o.score,Label:t.formatSurveyButtonLabel(o.label),Wide:e.wide})})).join(e.wide?"":this.templateCache.announcementSurveyButtonSpacerTemplate)}},e.prototype.formatSurveyButtonLabel=function(e){return e.replace(/cz-survey-face far fa-/g,"cz-survey-face-")},e.prototype.generateDefaultNpsButtons=function(e){var t=this,n=-1===e.responseUrl.indexOf("?")?"?value=":"&value=";return o([],Array(11),!0).map((function(o,i){return t.appSvc.templater.populateTemplate(t.templateCache.announcementSurveyButtonTemplate,{Style:"",TextStyle:"",Url:e.responseUrl+n+i,Label:t.formatSurveyButtonLabel(i.toString()),Wide:e.wide})})).join(this.templateCache.announcementSurveyButtonSpacerTemplate)},e.prototype.CheckForWalkthroughAnchors=function(){if(!this.sessionSvc.DevlessPanelEnabled){var e=this.walkthroughSvc.GetAnchorWalkthroughs();e&&e.length&&e.forEach(this.setupWalkthroughAnchor)}},e.prototype.setupWalkthroughAnchor=function(e,t){var o=this,i=this.generateWalkthroughAnchorId(e),s=e.triggerConfig,r=this.windowSvc.document.getElementById(i),c=a.CoreUtils.Urls.checkUrlAgainstPageTag(this.windowSvc.href(),e.pageTag);if(c&&!r){if(!e.recurrence&&e.id&&-1!==this.seenWalkthroughIds.indexOf(e.id))return;var l=this.windowSvc.document.querySelector(s.targetSelector);if(!l)return void this.appSvc.debug("[Devless Walkthrough Anchor target not found - bailing on walkthrough setup]",s.targetSelector);try{if(!(S=l.getBoundingClientRect())||!S.height||!S.width)return void this.appSvc.debug("[Devless Walkthrough Anchor target not visible - bailing on walkthrough setup]",s.targetSelector)}catch(e){return}var u=l.parentElement,h={triggerConfig:s,walkthroughStyleConfig:a.ModelUtils.create(new a.WalkthroughStyleConfig,n(n({},this.walkthroughSvc.walkthroughStyleConfig),e.styleConfig)),onClickCallback:function(n){o.appSvc.debug("[Devless Walkthrough Anchor clicked]",i),o.onStartWalkthrough(e,t),e.recurrence||(o.appSvc.debug("[Devless Walkthrough Anchor onetime use - removing]",i),o.removeAnchorFrame(r))},onLoadCallback:function(e){var t=o.calcAnchorPosition(s,l);r.style.top=t.top,r.style.left=t.left},onResizeCallback:function(){},cssLinks:[this.appSvc.addCdn("css/in_frame_anchor.css")],customCss:this.sessionSvc.CurrentAccountContent.css};h.testing=e.testing,(r=this.frameBuilder.buildWalkthroughAnchorFrame(h)).id=i,this.anchorFrames.push({anchorFrame:r,anchorFrameConfig:h,target:l});var d,p,f,m,g,v=void 0,y=void 0;if(s.iconStyleConfig.displayTypeId===a.AnchorDisplayType.OnlyOnHover&&u)r.style.display="none",v=function(e){r&&(r.style.display="inline-block",g&&(o.windowSvc.window.clearTimeout(g),g=void 0),p&&r.removeEventListener("mouseenter",p),p=function(e){d=r,m&&(o.windowSvc.window.clearTimeout(m),m=void 0),f&&r.removeEventListener("mouseleave",f),f=function(e){d=void 0,r.removeEventListener("mouseleave",f),g=o.windowSvc.window.setTimeout((function(){r.style.display="none",r.removeEventListener("mouseenter",p)}),250)},r.addEventListener("mouseleave",f)},r.addEventListener("mouseenter",p))},y=function(e){m=o.windowSvc.window.setTimeout((function(){if(r){if(d==r)return;r.style.display="none",r.removeEventListener("mouseenter",p)}}),100)},u.addEventListener("mouseenter",v),u.addEventListener("mouseleave",y);(s.containerType===a.ContainerType.Parent&&u?u:this.windowSvc.elementCache.body.get(0)).appendChild(r),this.appSvc.debug("[Devless Walkthrough Anchor - adding to the page]",i)}else if(c&&r){var S,C=this.windowSvc.document.querySelector(s.targetSelector);if(!C)return this.removeAnchorFrame(r),void this.appSvc.debug("[Devless Walkthrough Anchor no longer applicable (no target) - removing]",i);(!(S=C.getBoundingClientRect())||!S.height||!S.width)&&(this.removeAnchorFrame(r),this.appSvc.debug("[Devless Walkthrough Anchor no longer applicable (target has no size) - removing]",i))}else!c&&r&&(this.removeAnchorFrame(r),this.appSvc.debug("[Devless Walkthrough Anchor no longer applicable (incorrect pagetag) - removing]",i))},e.prototype.generateWalkthroughAnchorId=function(e){return"cz-wa-".concat(e.id)},e.prototype.calcAnchorPosition=function(e,t){var n,o,i,s,r,c,l=t.getBoundingClientRect(),u=1.5*e.iconStyleConfig.size,h=this.windowSvc.elementCache.window.scrollTop(),d=this.windowSvc.elementCache.window.scrollLeft();switch(e.containerType===a.ContainerType.Parent?(o=(n=t.offsetTop)+l.height,s=(i=t.offsetLeft)+l.width):(n=l.top+h,o=l.bottom+h,i=l.left+d,s=l.right+d),e.iconStyleConfig.positionTypeId){case a.AnchorPositionType.Top:r=n-u,c=i+l.width/2-u/2;break;case a.AnchorPositionType.TopRight:r=n-u,c=s;break;case a.AnchorPositionType.Right:r=n+l.height/2-u/2,c=s;break;case a.AnchorPositionType.BottomRight:r=o,c=s;break;case a.AnchorPositionType.Bottom:r=o,c=i+l.width/2-u/2;break;case a.AnchorPositionType.BottomLeft:r=o,c=i-u;break;case a.AnchorPositionType.Left:r=n+l.height/2-u/2,c=i-u;break;case a.AnchorPositionType.TopLeft:r=n-u,c=i-u}var p=e.iconStyleConfig.offset||{top:0,left:0};return p.top&&(r+=-1*parseInt(p.top.toString())),p.left&&(c+=parseInt(p.left.toString())),{top:r+"px",left:c+"px"}},e.prototype.onWindowResizeForAnchors=function(){for(var e=0;e<this.anchorFrames.length;e++)if(this.anchorFrames[e]){var t=this.anchorFrames[e],n=t.anchorFrame,o=t.anchorFrameConfig,i=t.target,s=this.calcAnchorPosition(o.triggerConfig,i);n.style.top=s.top,n.style.left=s.left}},e.prototype.clearAllAnchors=function(){for(var e,t,n=this.windowSvc.getBodyElement().querySelectorAll(".cz-walk-anchor-frame"),o=0;o<n.length;o++)null===(t=null===(e=n[o])||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(n[o]);this.anchorFrames=[]},e}();exports.default=h},9639:function(e,exports,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndependentLauncher=void 0;var s=t(5288),r=i(t(7795)),a=function(e){function t(t,n,o,i,s,r,a,c){var l=e.call(this,n,o,i,s,r,a,c)||this;return l.parentDocument=t,l.widgets=[],l.haltOnError=!1,l.errorMessagePrefix="Independent Launcher Handle Error",l}return o(t,e),t.prototype.setLauncherBoundingRectangle=function(){this.panelLauncher&&(this.launcherBoundingRect=this.panelLauncher.getBoundingClientRect())},t.prototype.handleError=function(e,t){this.haltOnError&&this.onHalt();var n=this.errorMessagePrefix;t&&(n+=": ".concat(t)),r.default.report(n,e)},t}(s.BasePanelDisplay);exports.IndependentLauncher=a},5288:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BasePanelDisplay=void 0;var n=t(1667),o=function(){function e(e,t,n,o,i,s,r){this.appSvc=e,this.tenantSvc=t,this.windowSvc=n,this.storageSvc=o,this.sessionSvc=i,this.messageSvc=s,this.templateCache=r,this.tabbedAvatarPosition="bottom",this.panelOpenStatusKey="PANEL_OPEN_STATUS",this.panelWidgets=[]}return Object.defineProperty(e.prototype,"basePanelVisible",{get:function(){return void 0===this._basePanelVisible&&(this._basePanelVisible=this.storageSvc.get(this.panelOpenStatusKey,this._basePanelVisible)),this._basePanelVisible},set:function(e){this._basePanelVisible=e,this.storageSvc.set(this.panelOpenStatusKey,this._basePanelVisible)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"basePanel",{get:function(){return this.windowSvc.czq("#cz-csm-panel")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"panelToggle",{get:function(){return this.windowSvc.czq("#czChatButtonWrapper")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"panelToggleContent",{get:function(){return this.panelToggle.find(".cz-chat-button-2")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alertMessageBody",{get:function(){return this.windowSvc.czq(".cz-alert-message-body")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unreadBadge",{get:function(){return this.windowSvc.czq(".cz-unread-badge")},enumerable:!1,configurable:!0}),e.prototype.getLauncherBoundingRectangle=function(e){return(null===this.launcherBoundingRect||e)&&this.setLauncherBoundingRectangle(),this.launcherBoundingRect},e.prototype.removeAllInjectedHtml=function(){this.windowSvc.czq("link#cz-styles, div#cz-panel-container").remove()},e.prototype.loadCZStyles=function(){this.baseStylesLoaded||(this.baseStylesLoaded=!0)},e.prototype.openBasePanel=function(e,t){this.basePanelVisible&&!e||(this.hidePanelToggle(),this.basePanel.removeClass("hidden").removeClass("panel-".concat(this.sessionSvc.PanelPosition,"-collapsed")).addClass("panel-".concat(this.sessionSvc.PanelPosition)).one(n.StyleUtils.whichTransitionEvent(),(function(){"function"==typeof t&&t()})),this.alertMessageBody.attr("style",n.StyleUtils.replaceStyleValue("block","none")),this.basePanelVisible=!0,this.appSvc.pubsub.publish(n.ChurnZeroAppEvents.PanelShow))},e.prototype.closeBasePanel=function(e){this.basePanelVisible&&(this.showPanelToggle(),this.basePanel.removeClass("panel-".concat(this.sessionSvc.PanelPosition)).addClass("panel-".concat(this.sessionSvc.PanelPosition,"-collapsed")).one(n.StyleUtils.whichTransitionEvent(),(function(){"function"==typeof e&&e()})),this.basePanelVisible=!1,this.appSvc.pubsub.publish(n.ChurnZeroAppEvents.PanelHide))},e.prototype.setupBasePanelFunctionality=function(){var e=this;if(this.setupBaseToggleFunctionality(),this.basePanel.addClass("panel-".concat(this.sessionSvc.PanelPosition,"-collapsed")),this.sessionSvc.PanelEnabled){var t=this.alertMessageBody;t.addClass("alert-message-"+this.sessionSvc.PanelPosition),t.addClass("alert-message-"+this.sessionSvc.AvatarType),t.on(this.windowSvc.namespaceEvent("mousedown"),(function(){return e.show()}))}},e.prototype.setupBaseToggleFunctionality=function(){var e=this,t=this.panelToggle.get(0);"tabbed"===this.sessionSvc.AvatarType?(t.className+=" tabbed-avatar",t.className+=" "+this.tabbedAvatarPosition+"-tab",t.className+=" "+this.sessionSvc.PanelPosition+"-tab"):t.className+=" floating-avatar-"+this.sessionSvc.PanelPosition,this.panelToggleContent.on(this.windowSvc.namespaceEvent("click"),(function(){return e.show()}))},e.prototype.hasConfigOffsets=function(e,t){return n.CoreUtils.Numbers.isNumeric(e)||n.CoreUtils.Numbers.isNumeric(t)},e.prototype.addConfigOffsetsToElement=function(e,t,n){var o=this.windowSvc.offset(e);o.top,o.left},e.prototype.getPositionalClassFromConfig=function(e){switch(e){case n.LaunchIconPosition.TopCenter:return"pos-top-center";case n.LaunchIconPosition.TopRight:return"pos-top-right";case n.LaunchIconPosition.LeftCenter:return"pos-left-center";case n.LaunchIconPosition.RightCenter:return"pos-right-center";case n.LaunchIconPosition.BottomLeft:return"pos-bottom-left";case n.LaunchIconPosition.BottomCenter:return"pos-bottom-center";case n.LaunchIconPosition.BottomRight:return"pos-bottom-right";default:return"pos-top-left"}},e}();exports.BasePanelDisplay=o},7871:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(1667),o=function(){function e(e,t,n){this.storageSvc=e,this.windowSvc=t,this.key=n;try{var o=this._getQueue();this.storageSvc.remove(this.key),this.key=this.storageSvc.encode(this.key),o.length&&this._setQueue(o)}catch(e){}}return e.prototype._getQueue=function(){var e=this.storageSvc.get(this.key,[]);if(n.CoreUtils.isString(e))try{e=this.windowSvc.JSON.parse(e)}catch(t){e=[]}return e},e.prototype._setQueue=function(e){var t=e;0===e.length?this.storageSvc.remove(this.key):this.storageSvc.set(this.key,t)},e.prototype.push=function(e){try{var t=this._getQueue();t.push(e),this._setQueue(t)}catch(e){return!1}return!0},Object.defineProperty(e.prototype,"length",{get:function(){try{return this._getQueue().length}catch(e){return-1}},enumerable:!1,configurable:!0}),e.prototype.remove=function(e,t){void 0===t&&(t=null);var n=this._getQueue();n=n.filter((function(n){return"function"==typeof t?t(n,e):n!==e})),this._setQueue(n)},e.prototype.removeAll=function(e,t){void 0===t&&(t=null);var n=this._getQueue();n=n.filter((function(n){return"function"==typeof t?t(n):-1!==e.indexOf(n)})),this._setQueue(n)},e.prototype.shift=function(){var e=null;try{var t=this._getQueue();e=t.shift(),this._setQueue(t)}catch(t){return e}return e},e.prototype.unshift=function(e){var t=-1;try{var n=this._getQueue();t=n.unshift(e),this._setQueue(n)}catch(e){return t}return t},e.prototype.unshiftAll=function(e){try{var t=this._getQueue();this._setQueue(e.concat(t))}catch(e){}},e.prototype.empty=function(){try{this._setQueue([])}catch(e){}},e.prototype.getAllItems=function(){return this._getQueue()},e}();exports.default=o},2409:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){};exports.default=t},2231:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function e(e){this.czq=e,this.globals={}}return e.prototype.compile_template=function(e,t,n){var o=this;this.czq.get(e,(function(e){var i=o.populateTemplate(e,t);n(i,t)}))},e.prototype.populateTemplate=function(e,t,n){if(e){for(var o in this.globals)t[o]||(t[o]=this.globals[o]);for(var o in t)e=e.split("{{"+o+"}}").join(t[o]||"");return!0===n&&(e=this.purge(e)),e}},e.prototype.addGlobal=function(e,t){this.globals[e]=t},e.prototype.purge=function(t){return t?t.replace(e.PlaceHolderRegex,""):t},e.PlaceHolderRegex=/{{[^}]*}}/g,e}();exports.default=t},3473:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function e(e,t,n){void 0===n&&(n=100);var o=this;this.oldLocation=window.location.toString(),this.onChangeEvent=e,this.stopOnChange=t,this.Check=window.setInterval((function(){try{o.detect()}catch(e){}}),n)}return e.prototype.detect=function(){this.oldLocation!==window.location.toString()&&(this.onChangeEvent(),this.stopOnChange&&this.Stop(),this.oldLocation=window.location.toString())},e.prototype.Stop=function(){this.Check&&(window.clearInterval(this.Check),this.Check=null)},e}();exports.default=t},9418:function(e,exports,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=t(721),a=s(t(5084)),c=s(t(2409)),l=t(1667),u=s(t(2837)),h=t(5409),d=t(1667),p=s(t(7795)),f=i(t(3024)),m=s(t(6695)),g=s(t(3473)),v=s(t(263)),y=s(t(6001)),S=s(t(6085)),C=s(t(8376)),b=s(t(9729)),w=s(t(3861)),E=s(t(1138)),T=s(t(9417)),A=s(t(6329)),P=s(t(6176)),k=s(t(8521)),_=s(t(8998)),I=s(t(5704)),L=s(t(3484)),x=t(1667),O=t(3091),F=t(9299),M="cz-external-announcement-styles",D=function(){function e(){this.name="ChurnZeroApp",this.version="s1.03.5767.003",this.isRunning=!1,this.isRegistered=!1,this.sfSubIds={},this.activityMonitorMapping={},this.eventHandlers={connected:[]},this.lastReconnectPing=null,this.reconnectAttemptInterval=3e5,this.subIds={},this.bootRetryMaxAttempts=5,this.bootRetryCount=5,this.reregisterRetryCount=10,this.doAnyActiveActivityMonitorsExist=this.doAnyActiveActivityMonitorsExist.bind(this),this.templateCache=new c.default,this.loadTemplates(),this.appQueue=[],this.isMainFrame=!0,this.booted=!1,this.isConnecting=!1,this.isUpdating=!1}return Object.defineProperty(e.prototype,"lastPageTag",{get:function(){return this.storageSvc.get("CZ_PageTag",null)},set:function(e){e?this.storageSvc.set("CZ_PageTag",e):this.storageSvc.remove("CZ_PageTag")},enumerable:!1,configurable:!0}),e.prototype.boot=function(e){var t,n=this;if(!this.booted){this.bootRetryCount,this.bootRetryMaxAttempts,this.isIniFrame=d.CoreUtils.FeatureDetection.inIframe();try{this.isIniFrame&&!0!==window.czDontClimb&&(this.isMainFrame=!1)}catch(e){}try{this.windowSvc=new v.default(window),this.httpSvc=new y.default(this.windowSvc.coder(),this.windowSvc.XMLHttpRequestReference),this.storageSvc=new S.default(new C.default(this.windowSvc.coder())),this.applicationSvc=new b.default(this.storageSvc,this.windowSvc),this.applicationSvc.isMain=this.isMainFrame,this.tenantSvc=new f.default(this.storageSvc)}catch(t){return void(this.bootRetryCount--?window.setTimeout((function(){n.booted||n.boot(e)}),1e3):p.default.report("ChurnZeroApp.boot.registryInit",t))}if(this.tenantSvc&&this.windowSvc.isSupportedBrowser()){if(!0===this.windowSvc.window._czDebugging&&(this.applicationSvc.isDebugging=!0),this.applicationSvc.debug("Boot - Begin"),e){this.applicationSvc.debug("Loading previous application state",e);var o=Array.isArray(e),i=!o&&e.name===this.name;if(o)for(var s=0;s<e.length;s++){var r=e[s],a=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0,c=a?r[0]:"",l=void 0;try{l=c.toLowerCase()}catch(e){l=""}switch(l){case"origins":a>1&&((r[1]||"").toString().split(",").forEach((function(e){n.windowSvc.addOrigin(e)})),this.applicationSvc.debug("SubFrame Allowed Origins Expanded to:",this.windowSvc.origins));break;case"setdomain":if(a>1){var u=(r[1]||"").toString();this.setConnectionDomain(u),this.wasDomainSet=!0}break;default:this.appQueue.push(r)}}else if(i){var h=e.getQueue();for(s=0;s<h.length;s++)this.appQueue.push(h[s])}}this.applicationSvc.setupClientSideUrls(),this.windowSvc.addOrigin(this.windowSvc.clientSideUrls.baseApiUrl.slice(0,-1)),this.applicationSvc.removeFrameComListener&&this.applicationSvc.removeFrameComListener(),this.applicationSvc.addFrameComListener(),this.isMainFrame?(this.bootMainFrame(),this.booted=!0,this.applicationSvc.debug("**Boot Finished - Main Frame")):this.bootSubFrame()}}},e.prototype.push=function(e){this.appQueue.push(e),this.booted&&this.processQueue()},e.prototype.halt=function(){var e;this.applicationSvc.debug("Halting"),this.checkPageTagExitModule(),this.digestIntervalTimer&&(this.windowSvc.window.clearInterval(this.digestIntervalTimer),this.digestIntervalTimer=null),this.applicationSvc.messageSubFrames({code:r.Enums.FrameCommCodes.MainFramePassdown,data:{code:l.ChurnZeroAppEvents.HALT}}),this.applicationSvc.pubsub.publish(l.ChurnZeroAppEvents.HALT),null===(e=this._activityMonitor)||void 0===e||e.Stop(),this.windowSvc.removeNamespacedEvents(),this.hashHandler&&(this.hashHandler.Stop(),this.hashHandler=null),this.pageMonitorUrlChangeHandler&&(this.pageMonitorUrlChangeHandler.Stop(),this.pageMonitorUrlChangeHandler=null),this.unloadEventSpider(),this.unloadHerald(),this.unloadApplicationMarshal(),this.commSvc.disconnect(),this.isConnecting=!1,this.removeSubById("initialConnectionSubId"),this.isRunning=!1},e.prototype.verify=function(){var e={AppHost:{value:this.commSvc.appHost},AppKey:{value:this.commSvc.appKey},AccountId:{value:null},ContactId:{value:null},IsConnected:{value:this.commSvc.isConnected()},"Active Devless Session":{value:this.sessionSvc.DevlessPanelEnabled},Module:{value:this.sessionSvc.CurrentModule||"Unknown"},SilentMode:{value:!0},State:{value:"Main Frame"}},t=this.commSvc.splitContactKey(this.commSvc.contactKey);if(e.AccountId.value=t.accountExternalId,e.ContactId.value=t.contactExternalId,this.sessionSvc.IsSilent||delete e.SilentMode,this.isMainFrame){var n=Object.keys(this.applicationSvc.registeredSubFrames||{}).length;e.State.value+=" w/ ".concat(n," sub-frame").concat(n>1?"s":"")}else e.State.value="Sub-frame",e.IsConnected.value="".concat(e.IsConnected.value," via Main Frame");var o=window.console.table;o||(o=window.console.info),o(e)},e.prototype.debug=function(){this.applicationSvc.isDebugging=!this.applicationSvc.isDebugging,this.applicationSvc.isDebugging?(this.windowSvc.window.console.info("ChurnZero debugging is now on. Any subsequent requests will be logged out to the console until ChurnZero.debug() is called again."),this.verify()):this.windowSvc.window.console.info("ChurnZero debugging is now off.")},e.prototype.getQueue=function(){return this.appQueue},e.prototype.bootMainFrame=function(){var e=this;if(this.sfSubIds)for(var t in this.sfSubIds)d.CoreUtils.hasOwnProp(this.sfSubIds,t)&&this.sfSubIds[t].remove();var n=new w.default(this.storageSvc,this.httpSvc,this.windowSvc);this.commSvc=new E.default(n),this.setupInstanceServices(),this.applicationSvc.debug("**Version - ".concat(this.commSvc.appVersion)),this.processQueue(),this.subIds.subframeRegisteredSubId=this.applicationSvc.pubsub.subscribe(l.ChurnZeroAppEvents.SubframeRegistered,(function(t){var n={eventMaps:e.eventSvc.eventMaps,eventMapVersion:e.eventSvc.eventMapVersion},o={source:null,vcode:t.info.vcode,isRunning:e.isRunning,tenantId:e.tenantSvc.currentTenantId(),contact:e.tenantSvc.contact,featureFlags:e.tenantSvc.getFeatureFlags(),eventMapConfig:n};e.applicationSvc.sendFrameCom(e.applicationSvc.getRegisteredSubFrameById(t.info.source),{code:r.Enums.FrameCommCodes.SubframeBootResponse,data:o})})),this.commSvc.registerMirror((function(t){var n=x.iFrameUtils.buildTransportMessage(x.TransportCodes.PubSubMirror,t);e.applicationSvc.messageSubFrames({code:r.Enums.FrameCommCodes.MainFrameComRePublish,data:n})})),this.subIds.subframePassbackSubId=this.applicationSvc.pubsub.subscribe(r.Enums.FrameCommCodes.SubFramePassback,(function(t){switch(t.info.type){case"send":e.commSvc.send(t.info.data.socketMessageTypeId,t.info.data.messageContent,t.info.data.forcePoll);break;case"push":e.push(t.info.data)}})),this.initConnection()},e.prototype.bootSubFrame=function(){var e=this,t=d.DataTypeUtils.newGuid();this.sfSubIds.subframeBootResponseSubId||(this.sfSubIds.subframeBootResponseSubId=this.applicationSvc.pubsub.subscribe(r.Enums.FrameCommCodes.SubframeBootResponse,(function(n){try{var o=n.info;if(o.vcode!==t)return;if(!o.source)return void window.console.warn("Can only boot ChurnZero sub-frames if top has ChurnZero");e.applicationSvc.debug("Main Frame Found. Sub Frame initializing"),e.mainFrameResponded=!0;var i=new L.default(e.windowSvc,e.applicationSvc,o.source);e.commSvc=new E.default(i),e.setupInstanceServices(),e.applicationSvc.debug("Version - ".concat(e.commSvc.appVersion)),e.sfSubIds.mainFrameComRepublishSubId=e.applicationSvc.pubsub.subscribe(r.Enums.FrameCommCodes.MainFrameComRePublish,(function(t){t.info.code===r.Enums.TransportCodes.PubSubMirror&&e.commSvc.publishMirrored(t.info.data)})),e.sfSubIds.MainFramePassdownSubId=e.applicationSvc.pubsub.subscribe(r.Enums.FrameCommCodes.MainFramePassdown,(function(t){switch(t.info.code){case l.ChurnZeroAppEvents.HALT:e.halt();break;case l.ChurnZeroAppEvents.START:e.preStartLoad(t.info.data),e.processQueue(),e.startKernel()}}));var s={tenantId:o.tenantId,contact:o.contact,featureFlags:o.featureFlags,eventMapConfig:o.eventMapConfig};e.preStartLoad(s),e.processQueue(),o.isRunning&&e.startKernel(),e.isRegistered=!0,e.booted=!0,e.applicationSvc.debug("**Boot Finished - Sub Frame")}catch(t){if(e.reregisterRetryCount--)window.setTimeout((function(){e.isRegistered||e.bootSubFrame()}),1e3);else{if(t&&t.message&&-1!==t.message.indexOf("registerSubFrame"))return;var a={retriesRemaining:e.reregisterRetryCount};p.default.report("ChurnZeroApp.bootsubFrame",t,a)}}}))),this.applicationSvc.debug("Doing boot announcement to top"),this.applicationSvc.sendFrameCom({window:this.windowSvc.window.top,origin:"*"},{code:r.Enums.FrameCommCodes.SubframeBoot,data:t}),this.subframeParentTimeout&&(this.windowSvc.window.clearTimeout(this.subframeParentTimeout),this.subframeParentTimeout=null),this.subframeParentTimeout=this.windowSvc.window.setTimeout((function(){e.isMainFrame||e.mainFrameResponded||(e.applicationSvc.debug("Doing boot announcement to parent"),e.applicationSvc.sendFrameCom({window:e.windowSvc.window.parent,origin:"*"},{code:r.Enums.FrameCommCodes.SubframeBoot,data:t}),e.windowSvc.window.setTimeout((function(){e.isMainFrame||e.mainFrameResponded||(e.applicationSvc.debug("Main frame not present above. Booting as Main"),e.isMainFrame=!0,e.applicationSvc.isMain=!0,e.bootMainFrame(),e.booted=!0,e.applicationSvc.debug("**Boot Finished - Main Frame"))}),1050))}),1050)},e.prototype.processQueue=function(){for(;this.appQueue.length>0;){var e=this.appQueue.shift(),t=void 0,n=[];Array.isArray(e)?(t=e.shift(),n=e):t=e;var o=void 0;try{o=(t||"").toLowerCase()}catch(e){o=""}switch(o){case"trackevent":t="trackEvent";break;case"setattribute":t="setAttribute";break;case"incrementattribute":t="incrementAttribute";break;case"setappkey":t="setAppKey";break;case"setcontact":t="setContact";break;case"setmodule":t="setModule";break;case"silent":t="setSilent";break;case"setcontactfromcache":t="setContactFromCache";break;case"stop":t="stop";break;case"urltracking":t="setUrlTracking";break;case"testannouncement":t="testAnnouncement";break;case"replayannouncement":t="replayAnnouncement";break;case"updateannouncement":t="updateAnnouncement";break;case"hideannouncement":t="hideAnnouncement";break;case"testwalkthrough":t="testWalkthrough";break;case"testclearall":t="testClearAll";break;case"open":t="openPanel";break;case"close":t="closePanel";break;case"churnzeroevent:on":t="registerChurnZeroEventCallback";break;case"churnzeroevent:off":t="deregisterChurnZeroEventCallback";break;case"triggerwalkthrough":t="triggerWalkthrough"}try{this.applicationSvc.debug("Received ".concat(t,": "),n),this[t].apply(this,n)}catch(e){}}},e.prototype.setAppKey=function(e){var t=this.commSvc.appKey;t&&this.commSvc.isConnected()&&e===t||(t&&t!==e&&this.halt(),this.isMainFrame?(this.commSvc.appKey=e,this.booted&&this.initConnection()):this.pushToMain(["setAppKey",e]))},e.prototype.setContactFromCache=function(){var e=this.commSvc.getContactKeyFromCache();this._setContactKey(e)},e.prototype.setContact=function(e,t,n,o){if(t&&0===t.toString().trim().length)window.console.warn("Contact ExternalId can not be empty.");else{var i=null;if(e&&t){if(e&&e.length>100)return void window.console.warn("Account ExternalId can not be more than 100 characters.");if(t&&t.length>100)return void window.console.warn("Contact ExternalId can not be more than 100 characters.");i=this.commSvc.generateContactKey(e,t)}else this.commSvc.isContactKeyValid(e)&&(i=e);this._setContactKey(i,n,o)}},e.prototype._setContactKey=function(e,t,n){var o=this.commSvc.contactKey;if(o&&o!==e&&this.stop(),!this.isMainFrame){var i=this.commSvc.splitContactKey(e),s=["setContact",i.accountExternalId,i.contactExternalId];return(t||n)&&(s=s.concat([t,n])),void this.pushToMain(s)}e&&e===o||(this.commSvc.contactKey=e,this.commSvc.accountHash=t,this.commSvc.contactHash=n),this.commSvc.isConnected()&&e===o||this.booted&&this.initConnection()},e.prototype.pushToMain=function(e){try{this.applicationSvc.debug("Pushing to Main:",e),this.applicationSvc.messageMain({code:r.Enums.FrameCommCodes.SubFramePassback,data:{type:"push",data:e}})}catch(e){}},e.prototype.stop=function(){this.commSvc.flush(),this.tenantSvc.resetContact(),this.commSvc.contactKey=null,this.commSvc.accountHash=null,this.commSvc.contactHash=null,this.halt()},e.prototype.trackEvent=function(e,t,n,o){this.eventSvc.TrackEvent(e,t,n,o)},e.prototype.setAttribute=function(e,t,n){this.attributeSvc.SetAttribute(e,t,n)},e.prototype.incrementAttribute=function(e,t,n){this.attributeSvc.IncrementAttribute(e,t,n)},e.prototype.setModule=function(e){this.isMainFrame?(this.wasModuleSet=!0,this.sessionSvc.SetModule(e)):this.pushToMain(["setModule",e])},e.prototype.setSilent=function(e){this.sessionSvc.SetSilent(e),this._appMarshal.setSilent(e),e?this.unloadHerald():this._herald||this.loadHerald()},e.prototype.setUrlTracking=function(e){this.commSvc.urlTracking=e},e.prototype.setConnectionDomain=function(e){d.CoreUtils.Strings.isNullOrEmpty(e)?this.applicationSvc.debug("Could not set connection domain to empty string"):(this.applicationSvc.debug("Setting connection domain to ",e),this.windowSvc.czHost=e,this.applicationSvc.setupClientSideUrls(),this.windowSvc.addOrigin(this.windowSvc.clientSideUrls.baseApiUrl.slice(0,-1)))},e.prototype.openPanel=function(){this.isMainFrame&&this._appMarshal.openSuccessPanel()},e.prototype.closePanel=function(){this.isMainFrame&&this._appMarshal.closeSuccessPanel()},e.prototype.triggerWalkthrough=function(e){if(this.tenantSvc.FeatureEnabled(f.FeatureFlags.Walkthroughs)&&e&&!this.sessionSvc.ShouldPreventUsageSends){for(var t=void 0,n=0;n<this.walkthroughSvc.walkthroughs.length;n++){var o=this.walkthroughSvc.walkthroughs[n];if(o&&o.id===e){t=o;break}}void 0!==t&&this.applicationSvc.pubsub.publish(l.ChurnZeroAppEvents.WalkthroughStart,t)}},e.prototype.registerChurnZeroEventCallback=function(e,t){e&&"string"==typeof e&&t&&"function"==typeof t&&(e=e.toLowerCase(),this.eventHandlers&&d.CoreUtils.hasOwnProp(this.eventHandlers,e)&&(this.eventHandlers[e].push(t),"connected"===e&&this.isRunning&&t(this.getEventHandlerData(e))))},e.prototype.deregisterChurnZeroEventCallback=function(e,t){if(e&&"string"==typeof e&&(e=e.toLowerCase(),this.eventHandlers&&d.CoreUtils.hasOwnProp(this.eventHandlers,e)&&!this.eventHandlers[e].length))if(d.CoreUtils.isNullOrUndefined(t))this.eventHandlers[e].splice(0);else{var n=this.eventHandlers[e].indexOf(t);n>=0&&this.eventHandlers[e].splice(n,1)}},e.prototype.testAnnouncement=function(e,t,n,o,i,s,r){this._herald&&this._herald.TestAnnouncement(e,t,n,o,i,s,r)},e.prototype.updateAnnouncement=function(e,t,n,o,i,s,r){this._herald&&this._herald.UpdateAnnouncement(e,t,n,o,i,s,r)},e.prototype.hideAnnouncement=function(){this._herald&&this._herald.HideAnyAnnouncement()},e.prototype.replayAnnouncement=function(e,t){this._herald&&this._herald.ReplayAnnouncement(e,t)},e.prototype.testWalkthrough=function(e,t){this._herald&&this._herald.TestWalkthrough(e,t)},e.prototype.testClearAll=function(){this._herald&&this._herald.TestClearAll()},e.prototype.preStartLoad=function(e){var t;this.tenantSvc.setFeatureFlags(e.featureFlags),this.tenantSvc.setTenantId(e.tenantId);var n=this.tenantSvc.contact;n.id=e.contact.id,this.tenantSvc.SetContact(n),this.tenantSvc.SetUIFontFamilyMapping(e.uiFontFamilyMapping),this.eventSvc.LoadEventMapConfig(e.eventMapConfig),this.pagetagSvc.LoadPageTagConfig(e.pageTagConfig),this.walkthroughSvc.LoadWalkthroughConfig(e.walkthroughConfig),this.tenantSvc.FeatureEnabled(f.ReleaseGates.JourneyChecklistReleased)&&e.journeyChecklistConfig&&this.checklistSvc.SeedData(e.journeyChecklistConfig),this.tenantSvc.FeatureEnabled(f.ReleaseGates.SuccessCentersReleased)&&(null===(t=this.sessionSvc.SuccessCenterConfig)||void 0===t?void 0:t.clickToSeeMoreText)&&(this.sessionSvc.CurrentAccountContent.clickToSeeMoreText=this.sessionSvc.SuccessCenterConfig.clickToSeeMoreText)},e.prototype.startKernel=function(){var e,t=this;if(this.isRunning)this.applicationSvc.debug("Attempted to start but was already running.");else{try{this.digestIntervalTimer&&(this.windowSvc.window.clearInterval(this.digestIntervalTimer),this.digestIntervalTimer=null)}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.clearDigestInterval",e)}this.applicationSvc.debug("Kernel Started");try{this.dbDisconnected=!1;var n=this.tenantSvc.contact;n&&d.CoreUtils.hasOwnProp(n,"id")&&null!==n.id&&(this.dbDisconnected="0"===n.id.toString(),this.dbMigrating="-1"===n.id.toString()),this.lastReconnectPing=this.windowSvc.Date.now()}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.checkDBState",e)}try{this.loadEventSpider()}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.loadEventSpider",e)}try{this.loadPageMonitor()}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.loadPageMonitor",e)}if(this.isMainFrame){if(!this.dbDisconnected&&!this.dbMigrating)try{this.loadApplicationMarshal()}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.loadApplicationMarshal",e)}try{this.loadActivityMonitor()}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.loadActivityMonitor",e)}try{this.loadHerald()}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.loadHerald",e)}}try{this.applicationSvc.pubsub.publish(l.ChurnZeroAppEvents.START),null===(e=this._activityMonitor)||void 0===e||e.Start()}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.publishStart",e)}try{this.sessionSvc.triggerHeartbeat(this.isMainFrame)}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.triggerHeartbeat",e)}try{this.digestIntervalTimer=setInterval((function(){try{t.digestInterval()}catch(e){}}),2e3)}catch(e){p.default.report("_ChurnZeroApp.startKernel.digestInterval",e)}this.isRunning=!0}},e.prototype.digestInterval=function(){this.windowSvc.wasDisposed()?this.halt():this.windowSvc.isAcceptableLocation()?(this.isMainFrame&&(this.dbDisconnected||this.dbMigrating)&&+this.windowSvc.Date.now()-+this.lastReconnectPing>this.reconnectAttemptInterval&&(this.lastReconnectPing=this.windowSvc.Date.now(),this.initConnection()),this.isMainFrame&&this.sessionSvc.triggerHeartbeat(this.isMainFrame),this.sessionSvc.SetLastDigestTimestamp(),this.applicationSvc.pubsub.publish(l.ChurnZeroAppEvents.DIGEST)):this.halt()},e.prototype.initConnection=function(){var e=this;if(!this.isConnecting&&this.isMainFrame){this.subIds.initialConnectionSubId||(this.subIds.initialConnectionSubId=this.commSvc.registerListener(r.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_INITIAL_CONNECTION,(function(t){try{e.onInitialConnectionHandler(t.info)}catch(e){p.default.report("ChurnZeroApp.initConnection.initialConnectionSub",e)}}))),this.hashHandler&&(this.hashHandler.Stop(),this.hashHandler=null);var t=this.windowSvc.isAcceptableLocation(),n=this.commSvc.isContactKeyValid(this.commSvc.contactKey),o=this.commSvc.isAppKeyValid(this.commSvc.appKey);if(t&&n&&o){this.commSvc.disconnect(),this.isConnecting=!0,this.applicationSvc.debug("Connecting - from: ".concat(this.windowSvc.href()," to: ").concat(this.windowSvc.clientSideUrls.baseApiUrl));try{this.commSvc.connect(this.windowSvc.socketServerApiUrl,(function(t){var n;if(e.applicationSvc.debug("Connection Success"),e.isConnecting=!1,!e.wasDomainSet&&t.connectionDomain&&t.connectionDomain!==e.windowSvc.clientSideUrls.baseApiUrl){e.setConnectionDomain(t.connectionDomain);var o=((null!==(n=t.contact)&&void 0!==n?n:{id:""}).id||"").toString();return"-3"===o?(e.initConnection(),!1):"-4"===o?(e.isConnecting=!1,window.console.error("Please Use The Domain '".concat(t.connectionDomain,"' For Loading The ChurnZero JS")),!1):e.windowSvc.socketServerApiUrl}}),(function(t){var n;if(e.applicationSvc.debug("Connect Status Check"),!e.wasDomainSet&&t.connectionDomain&&t.connectionDomain!==e.windowSvc.clientSideUrls.baseApiUrl){e.setConnectionDomain(t.connectionDomain);var o=((null!==(n=t.contact)&&void 0!==n?n:{id:""}).id||"").toString();return"-3"===o?(e.isConnecting=!1,e.initConnection(),!1):"-4"===o?(e.isConnecting=!1,window.console.error("Please Use The Domain '".concat(t.connectionDomain,"' For Loading The ChurnZero JS")),!1):e.windowSvc.socketServerApiUrl}}),(function(){e.applicationSvc.debug("Error Connecting"),e.isConnecting=!1}))}catch(e){this.isConnecting=!1}}else t||(this.hashHandler=new a.default(this.initConnection.bind(this),!0))}},e.prototype.onInitialConnectionHandler=function(e){var t=this;this.removeSubById("initialConnectionSubId"),this.sessionSvc.SetFunctionality(e.functionality),this.sessionSvc.SetSuccessCenterConfig(e.successCenterConfig),this.sessionSvc.SuccessCenterConfig&&(this.sessionSvc.SuccessCenterConfig.unreadCounts.announcements=e.announcements.filter((function(e){return!e.isRead&&!t.messageSvc.isSurveyAnnouncement(e)})).length||0,this.sessionSvc.SuccessCenterConfig.unreadCounts.surveys=e.announcements.filter((function(e){return!e.isRead&&t.messageSvc.isSurveyAnnouncement(e)})).length||0),this.applicationSvc.WebAppDomain=e.webAppDomain||this.windowSvc.clientSideUrls.baseApiUrl,this.applicationSvc.WebAppDomain&&(this.windowSvc.addOrigin(this.applicationSvc.WebAppDomain.slice(0,-1)),this.applicationSvc.removeFrameComListener&&this.applicationSvc.removeFrameComListener(),this.applicationSvc.addFrameComListener()),this.sessionSvc.SetAccountContent(e.functionality),this.sessionSvc.HasAccountOwner&&this.tenantSvc.setAccountOwner(e.contact.userAccount),this.messageSvc.SeedAnnouncements(e.announcements);var n={tenantId:e.tenantId.toString(),contact:e.contact,featureFlags:e.featureFlags,eventMapConfig:e.eventMapConfig,pageTagConfig:e.pageTagConfig,walkthroughConfig:e.walkthroughConfig,uiFontFamilyMapping:e.uiFontFamilyMapping,journeyChecklistConfig:e.journeyChecklistConfig};this.applicationSvc.messageSubFrames({code:r.Enums.FrameCommCodes.MainFramePassdown,data:{code:l.ChurnZeroAppEvents.START,data:n}}),this.preStartLoad(n);try{this.startKernel()}catch(e){p.default.report("_ChurnZeroApp.startKernel",e)}this.triggerEventHandlers("connected")},e.prototype.loadEventSpider=function(){this.unloadEventSpider(),this._eventSpider=new u.default(this.applicationSvc,this.tenantSvc,this.eventSvc,this.walkthroughSvc,this.windowSvc,this.commSvc,this.sessionSvc)},e.prototype.unloadEventSpider=function(){this._eventSpider&&(this._eventSpider.Stop(),this._eventSpider=null)},e.prototype.loadPageMonitor=function(){var e=this,t=this.windowSvc.href().toString(),n=function(){try{var n=(e.windowSvc.href()||"").toString();if(t===n)return;t=n,e.checkUrlAgainstPageTags(t),e._herald&&(e._herald.CheckForWalkthroughAnchors(),e._herald.CompletelyAbandonAnyCurrentWalkthrough()),e.checkUrlAgainstWalkthroughs(t),e.isMainFrame&&e._appMarshal&&e._appMarshal.DevlessPanel&&e.applicationSvc.pubsub.publish(r.Enums.DevlessEvents.DevlessCurrentHref)}catch(e){p.default.report("ChurnZeroApp.loadPageMonitor",e)}};this.pageMonitorUrlChangeHandler=new g.default(n,!1,500),this.windowSvc.window.addEventListener("popstate",n,!0),this.checkUrlAgainstPageTags(this.windowSvc.href()),this.applicationSvc.pubsub.subscribe(l.ChurnZeroAppEvents.PanelReady,(function(){e.checkUrlAgainstWalkthroughs(e.windowSvc.href())})),this.applicationSvc.pubsub.subscribe(l.ChurnZeroAppEvents.DIGEST,(function(){e.pagetagSvc.RefreshPageTagConfig()})),this.commSvc.registerListener(r.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_RefreshPageTagConfig,(function(t){e.applicationSvc.debug("Updated PageTag Config Received",t.info),e.pagetagSvc.LoadPageTagConfig(t.info)}))},e.prototype.loadHerald=function(){var e=this;if(!this.sessionSvc.IsSilent){this._herald=new m.default(this.applicationSvc,this.tenantSvc,this.sessionSvc,this.messageSvc,this.walkthroughSvc,this.windowSvc,this.commSvc,this.templateCache);var t=this.applicationSvc.addCdn("css/announcements.css"),n=this.windowSvc.createElement("link");n.id=M,n.rel="stylesheet",n.type="text/css",n.href=t,n.onload=function(){setTimeout((function(){e.checkUrlAgainstWalkthroughs(e.windowSvc.href())}),500)},this.windowSvc.document.getElementsByTagName("head")[0].appendChild(n)}},e.prototype.unloadHerald=function(){var e=this.windowSvc.document.getElementById(M);e&&e.parentNode&&e.parentNode.removeChild(e),this._herald&&(this._herald.onHalt(),this._herald=null)},e.prototype.loadApplicationMarshal=function(){this._appMarshal=new h.ApplicationMarshal(this.windowSvc,this.applicationSvc,this.commSvc,this.sessionSvc,this.storageSvc,this.tenantSvc,this.messageSvc,this.eventSvc,this.walkthroughSvc,this.checklistSvc,this.templateCache)},e.prototype.unloadApplicationMarshal=function(){this._appMarshal&&(this._appMarshal.stop(),this._appMarshal=null)},e.prototype.checkUrlAgainstPageTags=function(e){if(this.tenantSvc.FeatureEnabled(f.FeatureFlags.PageTags)&&!d.CoreUtils.Strings.isNullOrEmpty(e)&&(this.checkPageTagExitModule(),this.pagetagSvc.pageTags))for(var t=0;t<this.pagetagSvc.pageTags.length;t++){var n=this.pagetagSvc.pageTags[t];n.disabled||d.CoreUtils.Urls.checkUrlAgainstPageTag(e,n)&&(this.applicationSvc.debug("[Devless Page Tagging]","Page Tag Active:",n.pageName),n.shouldFireEvent&&(this.applicationSvc.debug("[Devless Page Tagging]","Track Event:",n.eventName),this.trackEvent(n.eventName)),n.shouldSetModule&&(this.applicationSvc.debug("[Devless Page Tagging]","Set Module:",n.moduleName),this.setModule(n.moduleName)),this.lastPageTag=n)}},e.prototype.checkPageTagExitModule=function(){this.lastPageTag&&this.lastPageTag.shouldSetModule&&this.lastPageTag.shouldSetExitModule&&(this.applicationSvc.debug("[Devless Page Tagging]","Set Exit Module:",this.lastPageTag.exitModuleName),this.setModule(this.lastPageTag.exitModuleName),this.lastPageTag=null)},e.prototype.checkUrlAgainstWalkthroughs=function(e){if(this.tenantSvc.FeatureEnabled(f.FeatureFlags.Walkthroughs)&&!this.sessionSvc.ShouldPreventUsageSends)for(var t=this.walkthroughSvc.GetPageVisitWalkthroughs(),n=0;n<t.length;n++){var o=t[n],i=o.pageTag,s=void 0;if(!i.disabled){if(null!==i.locationOptionsJson&&void 0!==i.locationOptionsJson&&i.isCustomLocation)s=d.LocationOptions.fromJson(i.locationOptionsJson,this.windowSvc.JSON);else if(s=new d.LocationOptions(d.CoreUtils.Urls.parseUrlToLocationParts(i.location)),!i.isCustomLocation&&null!==i.locationOptionsJson&&void 0!==i.locationOptionsJson){var r=d.LocationOptions.fromJson(i.locationOptionsJson);s.allowChildPaths=r.allowChildPaths,s.allowChildStates=r.allowChildStates,s.excludeSearchParts=r.excludeSearchParts}var a=d.CoreUtils.Urls.buildRegexFromLocationParts(i.location,s),c=new RegExp(a);e.match(c)&&this.applicationSvc.pubsub.publish(l.ChurnZeroAppEvents.WalkthroughStart,o)}}},e.prototype.loadActivityMonitor=function(){var e=this;if(this.isMainFrame){this.unloadActivityMonitor();var t=void 0;try{if(this.applicationSvc.isDebugging){var n=sessionStorage.getItem("czActivityMonitorTimeoutMS");n&&(t=parseInt(n,10))}}catch(e){}this._activityMonitor=new l.ActivityMonitor(this.windowSvc.window,p.default,t);var o=function(){e.sessionSvc.SetModuleActivityInactive(),e.sessionSvc.triggerHeartbeat(e.isMainFrame),e.commSvc.setPollInterval(F.INACTIVE_POLL_INTERVAL),e.applicationSvc.debug("%cCZE Frame ActivityMonitor is idle...","color: orange")},i=function(){e.sessionSvc.SetModuleActivityActive(),e.sessionSvc.triggerHeartbeat(e.isMainFrame),e.commSvc.resetPollIntervalToDefault(),e.applicationSvc.debug("%cCZE Frame ActivityMonitor is active...","color: green")},s=function(){e._activityMonitor.isActive()||e.doAnyActiveActivityMonitorsExist()||o()};this._activityMonitor.addActiveCallback(i),this._activityMonitor.addIdleCallback(o),this._activityMonitor.addIdlePrecheck(this.doAnyActiveActivityMonitorsExist),this.subIds.activityMonitorActiveSubId=this.applicationSvc.pubsub.subscribe(l.ChurnZeroAppEvents.ActivityMonitorActive,(function(t){var n,o=null===(n=null==t?void 0:t.info)||void 0===n?void 0:n.id;o&&(e.activityMonitorMapping[o]=!0,e._activityMonitor.isActive()||i())})),this.subIds.activityMonitorIdleSubId=this.applicationSvc.pubsub.subscribe(l.ChurnZeroAppEvents.ActivityMonitorIdle,(function(t){var n,o=null===(n=null==t?void 0:t.info)||void 0===n?void 0:n.id;o&&(e.activityMonitorMapping[o]=!1,s())})),this.subIds.activityMonitorHaltSubId=this.applicationSvc.pubsub.subscribe(l.ChurnZeroAppEvents.ActivityMonitorHalt,(function(t){var n,o=null===(n=null==t?void 0:t.info)||void 0===n?void 0:n.id;delete e.activityMonitorMapping[o],s()})),this.wasModuleSet||this.sessionSvc.SetModule("Default")}},e.prototype.doAnyActiveActivityMonitorsExist=function(){for(var e in this.activityMonitorMapping)if(d.CoreUtils.hasOwnProp(this.activityMonitorMapping,e)&&!0===this.activityMonitorMapping[e])return!0;return!1},e.prototype.unloadActivityMonitor=function(){this._activityMonitor&&(this._activityMonitor.Stop(),this._activityMonitor=null)},e.prototype.loadTemplates=function(){this.templateCache.announcementNpsTemplate=t(127),this.templateCache.announcementNpsTemplatePanel=t(6863),this.templateCache.announcementSurveyButtonTemplate=t(155),this.templateCache.announcementSurveyButtonSpacerTemplate=t(6674),this.templateCache.announcementSurveyCustomTemplate=t(4502),this.templateCache.announcementSliderTemplate=t(4374),this.templateCache.announcementTemplate=t(7641),this.templateCache.avatarImageTemplate=t(1687),this.templateCache.avatarInitialsTemplate=t(4941),this.templateCache.messageBubbleTemplate=t(846),this.templateCache.popoverContainerTemplate=t(321)},e.prototype.setupInstanceServices=function(){this.sessionSvc=new T.default(this.storageSvc,this.commSvc,this.applicationSvc,this.tenantSvc,this.windowSvc),this.messageSvc=new A.default(this.commSvc,this.windowSvc,this.storageSvc),this.eventSvc=new P.default(this.commSvc,this.windowSvc,this.applicationSvc,this.sessionSvc),this.pagetagSvc=new k.default(this.commSvc,this.windowSvc,this.applicationSvc,this.sessionSvc),this.walkthroughSvc=new _.default(this.commSvc,this.windowSvc,this.applicationSvc,this.sessionSvc),this.attributeSvc=new I.default(this.commSvc,this.sessionSvc),this.checklistSvc=new O.ChecklistService(this.windowSvc,this.commSvc)},e.prototype.removeSubById=function(e){this.subIds[e]&&(this.subIds[e].remove(),this.subIds[e]=void 0)},e.prototype.triggerEventHandlers=function(e){try{if(!this.eventHandlers[e])return;for(var t=0;t<this.eventHandlers[e].length;t++){var n=this.eventHandlers[e][t];if("function"==typeof n)try{n(this.getEventHandlerData(e))}catch(e){}}}catch(e){p.default.report("_ChurnZeroApp.eventHandlersTrigger",e)}},e.prototype.getEventHandlerData=function(e){var t=void 0;if("connected"===e)t={hasPanel:this.sessionSvc.PanelEnabled,hasCenter:this.sessionSvc.SuccessCenterEnabled};return t},e}();exports.default=D},7795:function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(1667),i=n(t(6001)),s=function(){function e(e,t,n){if(this.reportUrl=e,this.coder=t,this.dateConstructor=n,this.throttleSet=null,this.throttleTime=3e4,this._appVersion="s1.03.5767.003",!this.reportUrl){var s=o.CoreUtils.Urls.getChurnZeroScriptSrc(document);this.reportUrl=s?o.CoreUtils.Urls.buildClientSideUrls(s).sockets:""}this.dateConstructor||(this.dateConstructor=Date),this.coder||(this.coder={encode:JSON.stringify,decode:JSON.parse}),this.httpService=new i.default(this.coder)}return e.initLogger=function(t,n){void 0===n&&(n=!1),!n&&window.__tracerCZ||(window.__tracerCZ=new e(t))},e.report=function(t,n,o){if(e.initLogger("https://analytics.churnzero.net/"),!e.isFreedScriptError(n)&&!e.isDeadObjectError(n)){if(e.isJSONRefError(n)){(o=o||{}).JSONRefInfo=!0;try{o.docType=window.document.doctype.systemId}catch(e){}try{o.cleanRoomExists=null!==window.document.getElementById("cz-clean-room")}catch(e){}}window.__tracerCZ.log(t,n,o)}},e.isDeadObjectError=function(e){if(e){try{if((e.toString()||"").indexOf("can't access dead object")>-1)return!0}catch(e){}return!1}},e.isFreedScriptError=function(e){return!(!e||!e.number||"-2146823277"!==e.number.toString())},e.isJSONRefError=function(e){if(!e)return!1;try{var t=e.toString()||"";if(t.indexOf("'JSON'")>-1||t.indexOf("getOriginalJson")>-1)return!0}catch(e){}return!1},e.prototype.log=function(e,t,n){if(this.reportUrl){var o=this.dateConstructor.now();(null===this.throttleSet||o-this.throttleSet>this.throttleTime)&&(this.doLog(e,t,n),this.throttleSet=o)}},e.prototype.doLog=function(e,t,n){var i={t:this.dateConstructor.now(),v:this.appVersion},s={code:e,message:"",stack:"",extraInfo:void 0},r=this.reportUrl,a=o.CoreUtils.Urls.buildQueryStringString(i),c="".concat(r,"error");s.message=(t||"Logged null or undefined exception").toString(),s.stack=t.stack||t.backtrace||t.stacktrace;try{s.stack||(s.stack=this.generateStackTrace())}catch(e){s.stack="Generating Stack Trace caused error."}s.stack=this.coder.encode(s.stack),n&&(s.extraInfo=this.coder.encode(n)),this.httpService.Post(c+a,s,!1,o.CoreUtils.noop,o.CoreUtils.noop)},e.prototype.generateStackTrace=function(){var e,t="[anonymous]",n=/function\s*([\w\-$]+)?\s*\(/i;try{throw Error("")}catch(t){e=t.stack||t.backtrace||t.stacktrace}if(!e){e=[];try{for(var o=arguments.callee.caller.caller;o&&e.length<10;){var i=n.test(o.toString())&&RegExp.$1||t;e.push(i),o=o.caller}}catch(e){}try{e="Manually Rebuilt\n"+e.join("\n")}catch(t){e="Could not manually rebuild stack trace."}}return e},Object.defineProperty(e.prototype,"appVersion",{get:function(){return this._appVersion},enumerable:!1,configurable:!0}),e}();exports.default=s},5488:function(e,exports,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var s=t(721),r=i(t(7795)),a=t(1667),c=function(e){function t(t,n,o,i,s,r,a,c,l){var u=e.call(this,o.document,t,n,o,i,s,r,a)||this;return u.commSvc=c,u.openOnStart=l,u.fileNames={CSMPanelTemplate:"template/csmPanel.html"},u.subIds={},u.onInit(),u}return o(t,e),Object.defineProperty(t.prototype,"topWindow",{get:function(){var e;return(null===(e=this.parentDocument)||void 0===e?void 0:e.defaultView)||null},enumerable:!1,configurable:!0}),t.prototype.onInit=function(){var e=this;try{if(!this.buildContainer())return;this.addLauncherFrame((function(){e.container.classList.remove("cz-hidden"),e.panelLauncher.classList.remove("cz-hidden")}),(function(t){e.handleError(t,"addLauncherFrame")}))}catch(e){this.handleError(e,"DevlessPanelLauncher.onInit")}this.subIds.haltSubId=this.appSvc.pubsub.subscribe(a.ChurnZeroAppEvents.HALT,(function(){return e.onHalt()})),this.subIds.DevlessHideSubId=this.appSvc.pubsub.subscribe(s.Enums.DevlessEvents.DevlessHide,(function(t){e.hide()}))},t.prototype.show=function(e){try{this.hidePanelToggle(),this.showDevlessPanel()}catch(e){r.default.report("DevlessPanelLauncher.show",e)}},t.prototype.hide=function(){try{this.showPanelToggle()}catch(e){r.default.report("DevlessPanelLauncher.hide",e)}},t.prototype.showPanelToggle=function(){var e,t;null===(t=null===(e=this.panelLauncher)||void 0===e?void 0:e.classList)||void 0===t||t.remove("hidden")},t.prototype.hidePanelToggle=function(){var e,t;null===(t=null===(e=this.panelLauncher)||void 0===e?void 0:e.classList)||void 0===t||t.add("hidden")},t.prototype.onDigest=function(){},t.prototype.buildContainer=function(){this.container=this.windowSvc.createElement("div"),this.container.id="cz_devless_container",this.container.classList.add("cz-hidden"),this.container.classList.add("cz-independent-frame-container"),this.container.classList.add("sc-container"),this.container.classList.add("no-transforms"),this.container.classList.add("pos-bottom-right"),this.container.classList.add("float"),this.container.classList.add("in");var e=this.parentDocument.querySelector("body");return e?this.topWindow?(e.appendChild(this.container),!0):(this.appSvc.debug("No top window found when adding success center. Exiting early."),!1):(this.appSvc.debug("No body element found to add success panel. Exiting early."),!1)},t.prototype.addLauncherFrame=function(e,t){var n=this,o='\n        <section id="cz-devless-launch-wrapper">\n            <div class="cz-success-center-launch-avatar-img img-circle"\n                style="background-image: url(\''.concat(this.appSvc.addCdn("img/ch0-icon-light-32x32.png"),"');\"></div>\n        </section>");this.panelLauncher=this.windowSvc.createElement("iframe"),this.panelLauncher.id="cz_devless_launcher_frame",this.panelLauncher.classList.add("cz-hidden"),this.panelLauncher.classList.add("cz-independent-frame"),this.panelLauncher.classList.add("launcher"),this.panelLauncher.classList.add("pos-bottom-right"),this.panelLauncher.classList.add("float"),this.panelLauncher.addEventListener("load",(function(i){try{var s=i.target.contentWindow.document,r=s.body,a=s.createElement("link");a.id="cz-launcher-styles",a.type="text/css",a.rel="stylesheet",a.href=n.appSvc.addCdn("css/in_frame_success_center_launcher.css"),s.head.appendChild(a),r.className="cz-launch-panel-body",r.innerHTML=o,s.addEventListener("click",(function(){n.show()}))}catch(e){t(e)}e()}),{once:!0}),this.container.appendChild(this.panelLauncher)},t.prototype.addPanelFrame=function(e,t){e()},t.prototype.getId=function(){},t.prototype.onHalt=function(){this.hide(),this.removeAllInjectedHtml(),a.PubSuber.removeAll(this.subIds)},t.prototype.positionLauncher=function(e){for(var t in e)this.container.style.setProperty(t,e[t].toString(),"important")},t.prototype.showDevlessPanel=function(){try{this.appSvc.pubsub.publish(s.Enums.DevlessEvents.DevlessShow,!0)}catch(e){r.default.report("DevlessPanelLauncher.showDevlessPanelEvent",e)}},t}(t(9639).IndependentLauncher);exports.default=c},1574:function(e,exports,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JourneyChecklistLauncher=void 0;var s=t(9639),r=t(1667),a=t(1913),c=t(3833),l={},u=function(e){function t(t,n,o,i,s,r,a,c,l,u,h,d){var p=e.call(this,r.document,i,s,r,a,c,l,u)||this;return p.data=t,p.settingsConfig=n,p.container=o,p.checklistSvc=h,p.metaData=d,p.initialFrameHeightSet=!1,p.areFramePositionsCalculating=!1,p.onShowListeners=[],p.haltOnError=!0,p.errorMessagePrefix="Checklist launcher error",p.show=p.show.bind(p),p.hide=p.hide.bind(p),p.handleWidgetUpdate=p.handleWidgetUpdate.bind(p),p.calculateFramePositions=p.calculateFramePositions.bind(p),p.settingsConfig.fontFamilyId?(p.fontFamilyUrl=p.tenantSvc.buildUIFontFamilyCssRequestUrlFromConfig(p.settingsConfig),p.fontFamilyRule=p.tenantSvc.getUIFontFamilyMappingDisplayValue(p.settingsConfig.fontFamilyId),p):p}return o(t,e),t.prototype.onInit=function(){var e,t=this;if(null===(e=this.data)||void 0===e?void 0:e.id)try{this.addLauncherFrame((function(){t.addPanelFrame((function(){var e=t.metaData||l,n=e.domOrder,o=e.isLastChild;"number"==typeof n&&t.panelLauncher.style.setProperty("order",n.toString(),"important"),!0===o&&t.panelLauncher.classList.add("last"),t.panelLauncher.classList.remove("cz-invisible"),t.panelFrame.classList.remove("cz-invisible"),t.windowSvc.window.setTimeout(t.calculateFramePositions,500)}),(function(e){t.handleError(e,"addPanelFrame")}))}),(function(e){t.handleError(e,"addLauncherFrame")}))}catch(e){this.handleError(e,"JourneyChecklistLauncher.onInit")}},t.prototype.addLauncherFrame=function(e,t){var n=this;this.panelLauncher=this.windowSvc.createElement("iframe"),this.panelLauncher.id="cl-launcher-launch-frame-".concat(this.data.id),this.panelLauncher.className="cz-invisible cz-independent-frame launcher",this.panelLauncher.classList.add(this.getPositionalClassFromConfig(this.settingsConfig.launchIconPosition));var o=this.settingsConfig.launchIconType===r.LaunchIconType.Float,i=o?"float":"tabbed";this.panelLauncher.classList.add(i),this.panelLauncher.addEventListener("load",(function(i){try{var s=i.target.contentWindow.document,r=s.body;n.progressGauge=new c.ProgressGauge(n.parentDocument,n.windowSvc,50,50,20,"Click to interact with Checklist"),r.appendChild(n.progressGauge.getContainer());var a=function(){n.show()};s.addEventListener("click",a),s.defaultView.addEventListener("unload",(function(){s.removeEventListener("click",a)}));var l=s.createElement("link");l.type="text/css",l.rel="stylesheet",l.href="https://fonts.googleapis.com/css?family=Open+Sans",s.head.appendChild(l),s.head.appendChild(n.getFrameStyleLink("css/in_frame_independent_launcher.css",(function(){if(n.fontFamilyUrl){var t=s.createElement("link");t.type="text/css",t.href=n.fontFamilyUrl,t.rel="stylesheet",s.head.appendChild(t)}var i="",r="";if(n.fontFamilyRule&&(r+="font-family:".concat(n.fontFamilyRule,";")),!o&&n.settingsConfig.launcherBackgroundColor&&(r+="background-color:".concat(n.settingsConfig.launcherBackgroundColor,";")),r&&(i+="body{".concat(r,"}")),i+=n.getProgressGaugeStyles(),n.settingsConfig.customCss&&(i+=n.settingsConfig.customCss),i){var a=s.createElement("style");a.setAttribute("type","text/css"),a.textContent=i,s.head.appendChild(a)}e()}),t))}catch(e){t(e)}}),{once:!0}),this.container.appendChild(this.panelLauncher)},t.prototype.addPanelFrame=function(e,t){var n=this;this.panelFrame=this.windowSvc.createElement("iframe"),this.panelFrame.id="cl-launcher-content-frame-".concat(this.data.id),this.panelFrame.className="cz-invisible cz-independent-frame checklist-panel",this.panelFrame.classList.add(this.getPositionalClassFromConfig(this.settingsConfig.launchIconPosition)),this.panelFrame.addEventListener("load",(function(o){var i;try{var s=o.target.contentWindow.document,c=s.body;c.classList.add("checklist");var l=new a.JourneyChecklistWidget(s,n.windowSvc,n.appSvc,n.checklistSvc,n.handleWidgetUpdate);l.setData(n.data),l.build(),n.widgets=[l],n.contentContainer=s.createElement("section");var u=s.createElement("p"),h=s.createElement("i"),d=n.settingsConfig.launchIconPosition;n.contentContainer.classList.add("content-container"),d===r.LaunchIconPosition.TopLeft||d===r.LaunchIconPosition.TopRight||d===r.LaunchIconPosition.TopCenter?n.contentContainer.style.marginBottom="auto":n.contentContainer.style.marginTop="auto",u.classList.add("close-btn-container"),u.appendChild(h),h.classList.add("close-btn"),h.title="Click to hide the Checklist.",h.innerHTML="&times",h.addEventListener("click",n.hide),n.contentContainer.appendChild(u),n.contentContainer.appendChild(l.getContainer());var p="http://www.w3.org/2000/svg",f=s.createElementNS(p,"svg"),m=s.createElementNS(p,"polyline"),g=n.getSvgAttributesFromConfigPosition();if(f.setAttributeNS(null,"class","arrow ".concat(g.className)),f.setAttributeNS(null,"width",g.width),f.setAttributeNS(null,"height",g.height),m.setAttributeNS(null,"points",g.points),m.setAttributeNS(null,"style","fill:#fff;stroke:gray;stroke-width:1"),(null===(i=n.settingsConfig)||void 0===i?void 0:i.backgroundColor)&&(m.style.fill=n.settingsConfig.backgroundColor,n.contentContainer.style.backgroundColor=n.settingsConfig.backgroundColor),f.appendChild(m),g.appendFirst?(c.appendChild(f),c.appendChild(n.contentContainer)):(c.appendChild(n.contentContainer),c.appendChild(f)),n.svgArrow=f,g.isParentFlexColumn&&c.classList.add("flex-column"),n.progressGauge){var v=l.getItemCounts(),y=v.total,S=v.completed,C=y>0?Math.floor(S/y*100):0;n.progressGauge.update(C)}n.panelFrameBody=c;var b=s.createElement("link");if(b.type="text/css",b.rel="stylesheet",b.href="https://fonts.googleapis.com/css?family=Open+Sans",s.head.appendChild(b),s.head.appendChild(n.getFrameStyleLink("css/in_frame_checklist_panel.css",e,t)),n.fontFamilyUrl){var w=s.createElement("link");w.type="text/css",w.href=n.fontFamilyUrl,w.rel="stylesheet",s.head.appendChild(w)}var E="";n.fontFamilyRule&&(E+="body{font-family:".concat(n.fontFamilyRule,";}"));var T=n.checklistSvc.mapChecklistBrandingToProperFormat(n.settingsConfig);if(E+=n.checklistSvc.buildStyleRulesFromCheckListStyleBranding(T),E+=n.getProgressGaugeStyles(),n.settingsConfig.customCss&&(E+=n.settingsConfig.customCss),E.length){var A=s.createElement("style");A.setAttribute("type","text/css"),A.textContent=E,s.head.appendChild(A)}}catch(e){t(e)}}),{once:!0}),this.container.appendChild(this.panelFrame)},t.prototype.show=function(){if(this.panelFrame){this.panelFrame.addEventListener("transitionend",(function(){}),{once:!0}),this.panelFrame.classList.add("in");for(var e=this.onShowListeners.length,t=0;t<e;t++)this.onShowListeners[t](this.getId())}},t.prototype.hide=function(){this.panelFrame.classList.remove("in")},t.prototype.showPanelToggle=function(){},t.prototype.hidePanelToggle=function(){},t.prototype.onDigest=function(){},t.prototype.onHalt=function(){for(var e,t,n,o,i,s=(null===(e=this.widgets)||void 0===e?void 0:e.length)||0,r=0;r<s;r++)this.widgets[r].onHalt();null===(n=null===(t=this.panelLauncher)||void 0===t?void 0:t.parentElement)||void 0===n||n.removeChild(this.panelLauncher),null===(i=null===(o=this.panelFrame)||void 0===o?void 0:o.parentElement)||void 0===i||i.removeChild(this.panelFrame),this.panelLauncher=null,this.panelFrameBody=null,this.panelFrame=null,this.contentContainer=null,this.svgArrow=null,this.onShowListeners=[]},t.prototype.getId=function(){var e;return(null===(e=this.data)||void 0===e?void 0:e.id)||0},t.prototype.calculateFramePositions=function(){var e=this;this.areFramePositionsCalculating||(this.areFramePositionsCalculating=!0,this.setLauncherBoundingRectangle(),this.updatePanelFrameHeight(),this.setPanelBoundingRect(),this.setPanelFramePosition(),this.windowSvc.window.setTimeout((function(){e.areFramePositionsCalculating=!1}),400))},t.prototype.registerShowListener=function(e){this.onShowListeners.push(e)},t.prototype.updateMetaData=function(e){if(this.metaData=i({},e),this.panelLauncher){var t=this.metaData||l,n=t.domOrder,o=t.isLastChild;"number"==typeof n&&this.panelLauncher.style.setProperty("order",n.toString(),"important"),!0===o?this.panelLauncher.classList.add("last"):this.panelLauncher.classList.remove("last"),this.windowSvc.window.setTimeout(this.calculateFramePositions,0)}},t.prototype.getSvgAttributesFromConfigPosition=function(){switch(this.settingsConfig.launchIconPosition){case r.LaunchIconPosition.TopCenter:return{isParentFlexColumn:!0,appendFirst:!0,width:"30",height:"15",points:"0 15, 15 0, 30 15",className:"arrow-top-center"};case r.LaunchIconPosition.BottomCenter:return{isParentFlexColumn:!0,width:"30",height:"15",points:"0 0, 15 15, 30 0",className:"arrow-bottom-center"};case r.LaunchIconPosition.TopLeft:return{appendFirst:!0,width:"15",height:"30",points:"15 0, 0 15, 15 30",className:"arrow-top-left"};case r.LaunchIconPosition.LeftCenter:return{appendFirst:!0,width:"15",height:"30",points:"15 0, 0 15, 15 30",className:"arrow-left-center"};case r.LaunchIconPosition.BottomLeft:return{appendFirst:!0,width:"15",height:"30",points:"15 0, 0 15, 15 30",className:"arrow-bottom-left"};case r.LaunchIconPosition.TopRight:return{width:"15",height:"30",points:"0 0, 15 15, 0 30",className:"arrow-top-right"};case r.LaunchIconPosition.RightCenter:return{width:"15",height:"30",points:"0 0, 15 15, 0 30",className:"arrow-right-center"};case r.LaunchIconPosition.BottomRight:return{width:"15",height:"30",points:"0 0, 15 15, 0 30",className:"arrow-bottom-right"}}},t.prototype.getFrameStyleLink=function(e,t,n){var o=this.windowSvc.createElement("link");return o.onload=function(){t()},o.onerror=function(e){n(e)},o.type="text/css",o.rel="stylesheet",o.href=this.appSvc.addCdn(e),o},t.prototype.getProgressGaugeStyles=function(){var e="",t=this.settingsConfig,n=t.progressBackgroundColor,o=t.progressRemainingColor,i=t.progressCompleteColor,s=t.progressTextColor,r="";return n&&(r+="fill:".concat(n,";")),o&&(r+="stroke:".concat(o,";")),r&&(e+=".cz-progress-gauge .gauge-base{".concat(r,"}")),i&&(e+=".cz-progress-gauge .gauge-progress{stroke:".concat(i,";}")),s&&(e+=".cz-progress-gauge .gauge-text{stroke:".concat(s,";}")),e},t.prototype.updatePanelFrameHeight=function(){var e,t;if(this.panelFrame&&this.panelFrameBody&&0!==this.widgets.length){var n=this.panelFrameBody.offsetHeight,o=this.widgets[0],i=parseInt(this.panelFrame.style.height);this.initialFrameHeightSet||(o.isCompleteBannerVisible()||(n+=55),null===(t=null===(e=this.panelFrame.contentDocument.querySelector("html"))||void 0===e?void 0:e.classList)||void 0===t||t.add("full-height"),this.initialFrameHeightSet=!0),this.panelFrame.style.height=Math.max(i||0,n)+"px"}},t.prototype.setPanelBoundingRect=function(){this.panelFrame&&(this.panelBoundingRect=this.panelFrame.getBoundingClientRect())},t.prototype.setPanelFramePosition=function(){if(this.panelFrame&&this.panelBoundingRect){var e=0,t=0,n=0,o=0;switch(this.svgArrow&&(this.svgComputedStyle||(this.svgComputedStyle=this.windowSvc.window.getComputedStyle(this.svgArrow)),e=parseInt(this.svgComputedStyle.height),t=parseInt(this.svgComputedStyle.marginTop)+parseInt(this.svgComputedStyle.marginBottom)),this.settingsConfig.launchIconPosition){case r.LaunchIconPosition.TopLeft:n=this.launcherBoundingRect.top+this.launcherBoundingRect.height/2-e/2-t,o=this.launcherBoundingRect.left+this.launcherBoundingRect.width;break;case r.LaunchIconPosition.LeftCenter:n=this.launcherBoundingRect.top+this.launcherBoundingRect.height/2-this.panelBoundingRect.height/2,o=this.launcherBoundingRect.left+this.launcherBoundingRect.width;break;case r.LaunchIconPosition.BottomLeft:n=this.launcherBoundingRect.top-this.panelBoundingRect.height+this.launcherBoundingRect.height/2+e/2+t,o=this.launcherBoundingRect.left+this.launcherBoundingRect.width;break;case r.LaunchIconPosition.TopRight:n=this.launcherBoundingRect.top+this.launcherBoundingRect.height/2-e/2-t,o=this.launcherBoundingRect.left-this.panelBoundingRect.width;break;case r.LaunchIconPosition.RightCenter:n=this.launcherBoundingRect.top+this.launcherBoundingRect.height/2-this.panelBoundingRect.height/2,o=this.launcherBoundingRect.left-this.panelBoundingRect.width;break;case r.LaunchIconPosition.BottomRight:n=this.launcherBoundingRect.top-this.panelBoundingRect.height+this.launcherBoundingRect.height/2+e/2+t,o=this.launcherBoundingRect.left-this.panelBoundingRect.width;break;case r.LaunchIconPosition.BottomCenter:n=this.launcherBoundingRect.top-this.panelBoundingRect.height,o=this.launcherBoundingRect.left+this.launcherBoundingRect.width/2-this.panelBoundingRect.width/2;break;case r.LaunchIconPosition.TopCenter:n=this.launcherBoundingRect.top+this.launcherBoundingRect.height,o=this.launcherBoundingRect.left+this.launcherBoundingRect.width/2-this.panelBoundingRect.width/2}this.panelFrame.style.top="".concat(n,"px"),this.panelFrame.style.left="".concat(o,"px")}},t.prototype.handleWidgetUpdate=function(e){var t;if(this.progressGauge){var n=e.percentComplete,o=e.title;(null===(t=this.data)||void 0===t?void 0:t.title)&&(o="".concat(this.data.title,": ").concat(o)),this.progressGauge.update(n,o),this.calculateFramePositions()}},t}(s.IndependentLauncher);exports.JourneyChecklistLauncher=u},325:function(e,exports,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SuccessCenterLauncher=void 0;var s,r=t(9639),a=t(1667),c=i(t(7795)),l=t(704),u=i(t(9322));!function(e){e[e.Closed=0]="Closed",e[e.Open=1]="Open"}(s||(s={}));var h=function(e){function t(t,n,o,i,r,c,h,d,p){var f=e.call(this,r.document,o,i,r,c,h,d,p)||this;f.successCenterConfig=t,f.commSvc=n,f.subIds={},f.subs=[],f.successCenterReadyEventReceived=!1,f.openOnStart=!1,f.centerUrl="",f.panelOpenState=s.Closed,f.scSessionActionSvc=new u.default(f.commSvc,f.sessionSvc,f.windowSvc),f.handleTransitionEnd=f.handleTransitionEnd.bind(f),f.show=f.show.bind(f),f.hide=f.hide.bind(f),f.onDigest=f.onDigest.bind(f),f.onHalt=f.onHalt.bind(f),f.postMirroredMessage=f.postMirroredMessage.bind(f),f.handleChecklistConfigRefresh=f.handleChecklistConfigRefresh.bind(f),f.removeInjectedHtml=f.removeInjectedHtml.bind(f);var m=t.width,g=(t.widthUnit||a.SUCCESS_CENTER_DEFAULT_WIDTH_UNIT)===l.WidthUnitType.Percentage?"%":"px";return f.successCenterWidth="".concat(m||a.SUCCESS_CENTER_DEFAULT_WIDTH).concat(g),f.onInit(),f}return o(t,e),t.prototype.onInit=function(){var e=this;try{if(!this.successCenterConfig||!this.successCenterConfig.successCenterId)return;this.addPubSubSubscriptions(),this.buildSuccessCenter((function(){var t,n,o,i,s,r,u,h,d,p,f,m,g,v,y,S,C,b,w,E,T,A,P=e.getPositionalClassFromConfig(e.successCenterConfig.launchIconPositionId);null===(n=null===(t=e.successCenterContainer)||void 0===t?void 0:t.classList)||void 0===n||n.add(P),null===(i=null===(o=e.panelLauncher)||void 0===o?void 0:o.classList)||void 0===i||i.add(P),null===(r=null===(s=e.launcherUnreadBadge)||void 0===s?void 0:s.classList)||void 0===r||r.add(P),null===(h=null===(u=e.alertFlyoutFrame)||void 0===u?void 0:u.classList)||void 0===h||h.add(P),null===(p=null===(d=e.seeMoreMessage)||void 0===d?void 0:d.classList)||void 0===p||p.add(P);var k=e.successCenterConfig.launchIconTypeId===a.LaunchIconType.Float?"float":"tabbed";if(null===(m=null===(f=e.successCenterContainer)||void 0===f?void 0:f.classList)||void 0===m||m.add(k),null===(v=null===(g=e.panelLauncher)||void 0===g?void 0:g.classList)||void 0===v||v.add(k),null===(S=null===(y=e.alertFlyoutFrame)||void 0===y?void 0:y.classList)||void 0===S||S.add(k),null===(b=null===(C=e.successCenterContainer)||void 0===C?void 0:C.classList)||void 0===b||b.remove("cz-invisible"),null===(E=null===(w=e.successCenterContainer)||void 0===w?void 0:w.classList)||void 0===E||E.add("in"),null===(A=null===(T=e.panelLauncher)||void 0===T?void 0:T.classList)||void 0===A||A.remove("cz-invisible"),e.successCenterConfig.displayUnreadBadge&&e.successCenterConfig.launchTriggerId!==l.LaunchTrigger.JavascriptEvent){var _=e.getTotalUnreadCount(e.successCenterConfig.unreadCounts)||0;e.updateUnreadBadge(_)}e.subIds.digestSubId=e.appSvc.pubsub.subscribe(a.ChurnZeroAppEvents.DIGEST,e.onDigest),e.subIds.haltSubId=e.appSvc.pubsub.subscribe(a.ChurnZeroAppEvents.HALT,e.onHalt),e.windowSvc.window.setTimeout((function(){try{(e.basePanelVisible||e.openOnStart)&&e.show(!0),a.CoreUtils.isNullOrUndefined(e.launcherBoundingRect)&&(e.setLauncherBoundingRectangle(),e.appSvc.pubsub.publish(a.ChurnZeroAppEvents.PanelLauncherReady)),e.appSvc.pubsub.publish(a.ChurnZeroAppEvents.PanelReady)}catch(e){c.default.report("SuccessCenter.onAfterSuccessCenterFrameLoad timeout fn",e)}}),500)}))}catch(e){this.handleError(e,"SuccessCenterLauncher.onInit")}},t.prototype.onDigest=function(){},t.prototype.onHalt=function(){a.PubSuber.removeAll(this.subIds),this.subs.forEach((function(e){return e.remove()})),this.subs=[],this.centerWindow=void 0,this.successCenterReadyEventReceived=!1,this.centerWindowInterval&&(this.windowSvc.window.clearInterval(this.centerWindowInterval),this.centerWindowInterval=void 0),this.removeInjectedHtml()},t.prototype.getId=function(){},t.prototype.hide=function(){var e,t;try{if(this.successCenterConfig.locationTypeId===a.SuccessCenterLocation.InAppOverlay){this.closeBasePanel(),this.panelOpenState=s.Closed;var n=this.getCollapsedStyleData();null===(t=null===(e=this.panelFrameContainer)||void 0===e?void 0:e.style)||void 0===t||t.setProperty(n.property,n.value,"important"),this.trackSuccessCenterClose()}}catch(e){c.default.report("SuccessCenter.hide",e)}},t.prototype.show=function(e){var t=this;try{switch(this.hideMessageBubble(),this.successCenterConfig.launchTriggerId===l.LaunchTrigger.JavascriptEvent&&this.trackSuccessCenterOpen(),this.successCenterConfig.locationTypeId){case a.SuccessCenterLocation.NewTab:this.centerWindow=this.windowSvc.window.open(this.centerUrl,"_blank "),this.centerWindowInterval=this.windowSvc.window.setInterval((function(){var e;(null===(e=t.centerWindow)||void 0===e?void 0:e.closed)&&(t.centerWindow=void 0,t.successCenterReadyEventReceived=!1,t.windowSvc.window.clearInterval(t.centerWindowInterval),t.centerWindowInterval=void 0,t.trackSuccessCenterClose())}),1e3);break;case a.SuccessCenterLocation.InAppOverlay:var n=this.getCollapsedStyleData(),o=function(){t.openBasePanel(e),t.panelOpenState=s.Open,t.windowSvc.window.setTimeout((function(){t.panelFrameContainer.style.removeProperty(n.property)}),150)},i=function(){t.panelFrame=t.buildPanelIframe(),t.panelFrameContainer=t.buildPanelIframeContainer(),t.panelFrameContainer.style.setProperty(n.property,n.value,"important"),t.panelFrameContainer.appendChild(t.panelFrame),t.successCenterContainer.appendChild(t.panelFrameContainer)};if(!this.tenantSvc.FeatureEnabled("successCenterJWT")){this.panelFrame||i(),o();break}if(this.panelFrame)o();else{var r=this.centerUrl;r.indexOf("?")>0?r+="&authload":r+="?authload";var u=this.appSvc.pubsub.subscribe(a.ChurnZeroAppEvents.SuccessCenterAuthed,(function(e){null==h||h.close();var n=e.info;n&&(t.centerUrl.indexOf("stoken=")>0?t.centerUrl=t.centerUrl.replace(/stoken=[^&]+/,"stoken="+encodeURIComponent(n)):t.centerUrl.indexOf("?")>0?t.centerUrl+="&stoken="+encodeURIComponent(n):t.centerUrl+="?stoken="+encodeURIComponent(n)),i(),o(),u.remove()})),h=this.windowSvc.window.open(r,"_blank ","width=350,height=30")}}}catch(e){c.default.report("SuccessCenter.show",e)}},t.prototype.hidePanelToggle=function(){var e,t;null===(t=null===(e=this.panelLauncher)||void 0===e?void 0:e.classList)||void 0===t||t.add("cz-invisible")},t.prototype.showPanelToggle=function(){var e,t;null===(t=null===(e=this.panelLauncher)||void 0===e?void 0:e.classList)||void 0===t||t.remove("cz-invisible")},t.prototype.showMessageBubble=function(e,t){var n,o,i,s;if(!this.basePanelVisible&&(this.successCenterConfig.hasSurveysWidget||!this.messageSvc.isSurveyAnnouncement(t))&&this.successCenterConfig.hasAnnouncementsWidget){var r=this.appSvc.templater.populateTemplate(this.templateCache.messageBubbleTemplate,{},!0),c=a.CoreUtils.createElementFromHTML(this.windowSvc.document,r);c.textContent=e,this.seeMoreMessage&&(this.seeMoreMessage.innerHTML="",this.seeMoreMessage.appendChild(c)),null===(o=null===(n=this.alertFlyoutFrame)||void 0===n?void 0:n.classList)||void 0===o||o.remove("cz-invisible"),null===(s=null===(i=this.seeMoreMessage)||void 0===i?void 0:i.style)||void 0===s||s.removeProperty("animation")}},t.prototype.hideMessageBubble=function(){var e,t;null===(t=null===(e=this.alertFlyoutFrame)||void 0===e?void 0:e.classList)||void 0===t||t.add("cz-invisible"),this.seeMoreMessage&&(this.seeMoreMessage.style.animation="none")},t.prototype.buildSuccessCenter=function(e){var t=this;try{var n=this.parentDocument.querySelector("body");if(!n)return void this.appSvc.debug("No body element found to add success panel. Exiting early.");this.successCenterContainer=this.windowSvc.createElement("div"),this.successCenterContainer.id="cz_success_center_container",this.successCenterContainer.className="cz-invisible cz-independent-frame-container sc-container no-transforms",n.appendChild(this.successCenterContainer),this.loadTopStyles((function(){t.addLauncherFrame((function(){t.addPanelFrame((function(){t.addSuccessCenterAlertFlyoutFrame((function(){e()}))}),(function(e){t.handleError(e,"addPanelFrame")}))}),(function(e){t.handleError(e,"addLauncherFrame")}))}),(function(e){t.handleError(e)}))}catch(e){this.handleError(e,"buildSuccessCenter catch")}},t.prototype.loadTopStyles=function(e,t){var n=this.appSvc.addCdn("css/independent_frames.css");if(this.parentDocument.head.querySelector("[href='".concat(n,"']")))e();else{var o=this.windowSvc.createElement("link");o.addEventListener("load",(function(){e()})),o.addEventListener("error",(function(e){var n="";if(e){if(a.CoreUtils.hasOwnProp(e,"error")&&e.error)return void t(e.error);"string"==typeof e?n=e:a.CoreUtils.hasOwnProp(e,"message")&&(n=e.message)}t(new Error(n||"independent_frames.css failed to load."))})),o.id="cz-success-frames-styles",o.type="text/css",o.rel="stylesheet",o.href=n,this.parentDocument.head.appendChild(o)}},t.prototype.addLauncherFrame=function(e,t){var n=this,o=this.successCenterConfig,i=o.launchTriggerId,s=o.launchAvatarBackgroundColor,r=o.launchAvatarGlowColor,c=o.launchAvatarColor,u=o.launchIconTypeId;if(i!==l.LaunchTrigger.JavascriptEvent){this.panelLauncher=this.windowSvc.createElement("iframe"),this.panelLauncher.id="cz_success_center_launcher_frame",this.panelLauncher.className="cz-invisible cz-independent-frame launcher last";this.panelLauncher.addEventListener("load",(function(o){try{var i=o.target.contentWindow.document,l=i.body,h=i.createElement("link");h.id="cz-launcher-styles",h.type="text/css",h.rel="stylesheet",h.href=n.appSvc.addCdn("css/in_frame_success_center_launcher.css"),i.head.appendChild(h),l.className="cz-launch-panel-body",l.innerHTML='\n        <section id="cz-success-center-launch-wrapper" class="cz-success-center-v3">\n            <div class="cz-unread-badge" style="display:none;"></div>\n            <div class="cz-see-more-info" style="display:none;"></div>\n        </section>',s&&u===a.LaunchIconType.Tabbed&&(l.style.backgroundColor=s);var d=i.querySelector("#cz-success-center-launch-wrapper");if(n.successCenterConfig.launchAvatarTypeId===a.LaunchAvatarType.Custom){(f=i.createElement("div")).classList.add("cz-success-center-launch-avatar-img"),f.classList.add("img-circle"),f.style.backgroundImage="url('".concat(n.successCenterConfig.launchAvatarUrl,"')"),r&&(f.classList.add("avatar-glow"),f.style.color=r),s&&(f.style.backgroundColor=s),d.appendChild(f)}else{var p=i.createElement("span"),f=i.createElement("i");p.classList.add("cz-success-center-avatar-wrapper"),f.classList.add("czi"),c&&(p.style.borderColor=c,f.style.color=c),r&&(p.classList.add("avatar-glow"),p.style.color=r),s&&(p.style.backgroundColor=s),n.addCziAvatarClassNameToElement(f),p.appendChild(f),d.appendChild(p)}n.launcherUnreadBadge=i.querySelector(".cz-unread-badge"),n.applyLauncherOffsets();var m=function(){n.trackSuccessCenterOpen(),n.show()};i.addEventListener("click",m),i.defaultView.addEventListener("unload",(function(){i.removeEventListener("click",m)}))}catch(e){return void t(e)}e()}),{once:!0}),this.successCenterContainer.appendChild(this.panelLauncher)}else e()},t.prototype.addPanelFrame=function(e,t){try{this.centerUrl="".concat(this.appSvc.WebAppDomain).concat(this.successCenterConfig.url,"/"),e()}catch(e){t(e)}},t.prototype.addSuccessCenterAlertFlyoutFrame=function(e){var t=this;if(this.successCenterConfig.launchTriggerId!==l.LaunchTrigger.JavascriptEvent){var n='\n        <div class="cz-alert-message-body cz-invisible" style="animation: none;">\n            <p class="cz-alert-message-text">'.concat(this.successCenterConfig.clickToSeeMoreText||"Click here to see that info again!","</p>\n        </div>"),o=this.successCenterConfig,i=o.alertFlyoutBackgroundColor,s=o.alertFlyoutTextColor;this.alertFlyoutFrame=this.windowSvc.createElement("iframe"),this.alertFlyoutFrame.id="cz_success_center_alert_flyout_frame",this.alertFlyoutFrame.classList.add("cz-invisible"),this.alertFlyoutFrame.addEventListener("load",(function(o){var r;try{var a=o.target.contentWindow.document,c=a.body,l=a.createElement("link"),u=a.createElement("link");l.rel="stylesheet",l.type="text/css",l.href=t.appSvc.addCdn("css/in_frame_success_center_alert_flyout.css"),u.type="text/css",u.rel="stylesheet",u.href="https://fonts.googleapis.com/css?family=Open+Sans",a.head.appendChild(l),a.head.appendChild(u),t.addCustomCssToFrame(a,"flyout"),c.innerHTML=n,t.seeMoreMessage=a.querySelector(".cz-alert-message-body"),i&&(t.seeMoreMessage.style.backgroundColor=i,t.seeMoreMessage.style.borderColor=i),s&&(t.seeMoreMessage.style.color=s),t.seeMoreMessage.addEventListener("click",(function(){return t.show()}))}catch(e){r=e}e(r)}),{once:!0}),this.successCenterContainer.appendChild(this.alertFlyoutFrame)}else e()},t.prototype.handleTransitionEnd=function(){var e=this;this.panelOpenState!==s.Closed&&0===(this.panelFrame.src||"").length&&(this.panelFrame.addEventListener("load",(function(){var t,n;null===(n=null===(t=e.panelFrameContainer)||void 0===t?void 0:t.classList)||void 0===n||n.add("ready")}),{once:!0}),this.panelFrame.src=this.centerUrl)},t.prototype.addPubSubSubscriptions=function(){var e=this;this.appSvc.pubsub.addMirror(this.postMirroredMessage),this.appSvc.addChildFrameListener();var t=this.appSvc.pubsub.subscribe(a.ChurnZeroAppEvents.SuccessCenterReady,(function(){var t,n,o,i;e.successCenterReadyEventReceived=!0,e.appSvc.pubsub.publish(l.InterfaceCommCodes.SuccessCenterSetSocketContext,{hasDevless:e.sessionSvc.DevlessPanelEnabled}),null===(t=e.panelFrameContainer)||void 0===t||t.removeEventListener("transitionend",e.handleTransitionEnd),null===(n=e.preloadCloseIcon)||void 0===n||n.removeEventListener("click",e.hide),null===(i=null===(o=e.preloadCloseIcon)||void 0===o?void 0:o.parentElement)||void 0===i||i.removeChild(e.preloadCloseIcon),e.preloadCloseIcon=void 0}));this.subs.push(t);var n=this.appSvc.pubsub.subscribe(l.InterfaceCommCodes.SuccessCenterSetStyles,(function(t){var n,o,i,s=["width"];for(var r in t.info)if(!(s.indexOf(r.toLowerCase())>-1)){var a=null===(n=t.info)||void 0===n?void 0:n[r];a&&(null===(i=null===(o=e.panelFrame)||void 0===o?void 0:o.style)||void 0===i||i.setProperty(r,a,"important"))}}));this.subs.push(n);var o=this.appSvc.pubsub.subscribe(a.ChurnZeroAppEvents.AnnouncementClosed,(function(t){e.showMessageBubble(t.info.infoMessage,t.info.announcement)}));this.subs.push(o);var i=this.appSvc.pubsub.subscribe(l.InterfaceCommCodes.SuccessCenterUpdateUnreadBadge,(function(t){var n=t.info.name;if(n){var o=t.info.count;e.successCenterConfig.unreadCounts[n]=o||0;var i=e.getTotalUnreadCount(e.successCenterConfig.unreadCounts)||0;e.updateUnreadBadge(i)}}));this.subs.push(i);var s=this.appSvc.pubsub.subscribe(a.ChurnZeroAppEvents.NewAnnouncement,(function(t){if(e.successCenterConfig.displayUnreadBadge&&!e.successCenterReadyEventReceived){var n=t.info;if(!n.isRead&&e.messageSvc.isPanelAnnouncement(n)){var o="announcements";e.messageSvc.isSurveyAnnouncement(n)&&(o="surveys"),e.successCenterConfig.unreadCounts[o]=(e.successCenterConfig.unreadCounts[o]||0)+1;var i=e.getTotalUnreadCount(e.successCenterConfig.unreadCounts);e.updateUnreadBadge(i)}}}));this.subs.push(s);var r=this.appSvc.pubsub.subscribe(a.ChurnZeroAppEvents.ExpireAnnouncement,(function(t){if(e.successCenterConfig.displayUnreadBadge&&!e.successCenterReadyEventReceived){var n=t.info;if(!n.isRead&&e.messageSvc.isPanelAnnouncement(n)){var o="announcements";e.messageSvc.isSurveyAnnouncement(n)&&(o="surveys"),e.successCenterConfig.unreadCounts[o]=(e.successCenterConfig.unreadCounts[o]||0)-1;var i=e.getTotalUnreadCount(e.successCenterConfig.unreadCounts);e.updateUnreadBadge(i)}}}));this.subs.push(r);var c=this.appSvc.pubsub.subscribe(l.InterfaceCommCodes.AnnouncementMarkAsRead,(function(t){e.messageSvc.SendReadReceipt(t.info.id)}));this.subs.push(c);var u=this.appSvc.pubsub.subscribe(l.InterfaceCommCodes.AnnouncementClickAudit,(function(t){var n=t.info.id;e.appSvc.debug("[Click Audit ".concat(n,"]")),e.messageSvc.SendClickAudit(n)}));this.subs.push(u);var h=this.commSvc.registerListener(a.SocketMessageTypes.SOCKETMESSAGETYPE_RefreshChecklistConfig,this.handleChecklistConfigRefresh);this.subs.push(h),this.trackSuccessCenterClicks()},t.prototype.handleChecklistConfigRefresh=function(e){this.postMirroredMessage(e)},t.prototype.postMirroredMessage=function(e){if(this.centerWindow){var t=a.iFrameUtils.encrypt(this.windowSvc.JSON.stringify(a.iFrameUtils.buildTransportMessage(a.TransportCodes.PubSubMirror,e)));this.centerWindow.postMessage(t,"*")}},t.prototype.buildPanelIframe=function(){var e=this,t=this.windowSvc.createElement("iframe");return t.title="Success Center Frame",t.id="cz_success_center_frame",t.classList.add("cz-success-center-frame-iframe"),t.addEventListener("load",(function(){e.centerWindow=t.contentWindow})),t},t.prototype.buildPanelIframeContainer=function(){var e=this.windowSvc.createElement("div");e.classList.add("success-center-panel-frame-container"),e.classList.add(this.getInAppOverlayPositionClassFromConfig()),e.style.setProperty("width","".concat(this.successCenterWidth),"important"),e.addEventListener("transitionend",this.handleTransitionEnd);var t=this.windowSvc.createElement("div");t.className="sc-panel-frame-loader-container";var n=this.windowSvc.createElement("div");return n.className="sc-panel-frame-loader",n.innerHTML='<p style="margin:0">Loading. Please wait...</p>',t.appendChild(n),this.preloadCloseIcon=this.windowSvc.createElement("span"),this.preloadCloseIcon.id="cz_success_center_preload_close_icon",this.preloadCloseIcon.innerHTML="&times;",this.preloadCloseIcon.title="Close the Success Center panel",this.preloadCloseIcon.addEventListener("click",this.hide),e.appendChild(this.preloadCloseIcon),e.appendChild(t),e},t.prototype.addCustomCssToFrame=function(e,t){var n;if(null===(n=this.sessionSvc.CurrentAccountContent)||void 0===n?void 0:n.css){var o=e.createElement("style");o.id="".concat("cz-custom-css-styles","-").concat(t),o.textContent=this.sessionSvc.CurrentAccountContent.css,e.head.appendChild(o)}},t.prototype.removeInjectedHtml=function(){var e,t,n;null===(n=null===(t=null===(e=this.successCenterContainer)||void 0===e?void 0:e.parentElement)||void 0===t?void 0:t.removeChild)||void 0===n||n.call(t,this.successCenterContainer),this.panelFrameContainer=null,this.panelFrame=null,this.panelLauncher=null,this.launcherUnreadBadge=null,this.alertFlyoutFrame=null,this.seeMoreMessage=null},t.prototype.updateUnreadBadge=function(e){this.launcherUnreadBadge&&(e>0?(this.launcherUnreadBadge.textContent=e>9?"9+":e.toString(),this.launcherUnreadBadge.style.removeProperty("display")):this.launcherUnreadBadge.style.display="none")},t.prototype.getInAppOverlayPositionClassFromConfig=function(){var e=this.successCenterConfig.inAppOverlayPositionId===a.InAppOverlayPosition.Left?"left":"right";return"pos-".concat(e)},t.prototype.getTotalUnreadCount=function(e){var t=0;return this.successCenterConfig&&this.successCenterConfig.hasAnnouncementsWidget&&(t+=e.announcements||0),this.successCenterConfig&&this.successCenterConfig.hasSurveysWidget&&(t+=e.surveys||0),t},t.prototype.getCollapsedStyleData=function(){return{property:this.successCenterConfig.inAppOverlayPositionId===a.InAppOverlayPosition.Left?"left":"right",value:"-".concat(this.successCenterWidth)}},t.prototype.applyLauncherOffsets=function(){var e=this.successCenterConfig,t=e.launchIconPositionId,n=e.launchIconTypeId,o=e.launchIconOffsetHorizontal,i=e.launchIconOffsetVertical;if(!(a.CoreUtils.isNullOrUndefined(o)&&a.CoreUtils.isNullOrUndefined(i))){var s=function(e,t,n,o){var i=[a.LaunchIconPosition.BottomCenter,a.LaunchIconPosition.TopCenter].indexOf(t)>-1,s=[a.LaunchIconPosition.BottomRight,a.LaunchIconPosition.BottomLeft].indexOf(t)>-1,r=[a.LaunchIconPosition.TopLeft,a.LaunchIconPosition.TopRight].indexOf(t)>-1,c=[a.LaunchIconPosition.BottomRight,a.LaunchIconPosition.RightCenter,a.LaunchIconPosition.TopRight].indexOf(t)>-1,l=[a.LaunchIconPosition.TopLeft,a.LaunchIconPosition.TopCenter,a.LaunchIconPosition.TopRight].indexOf(t)>-1,u=e===a.LaunchIconType.Float;return{hPos:(c?-1*o:o)+(i||!u?0:18),vPos:(l?-1*n:n)+(u&&i?25:s||r?20:0)}}(n,t,i,o),r=s.hPos,c=s.vPos;switch(t){case a.LaunchIconPosition.BottomLeft:this.successCenterContainer.style.setProperty("left","".concat(r,"px"),"important"),this.successCenterContainer.style.setProperty("bottom","".concat(c,"px"),"important");break;case a.LaunchIconPosition.BottomRight:this.successCenterContainer.style.setProperty("right","".concat(r,"px"),"important"),this.successCenterContainer.style.setProperty("bottom","".concat(c,"px"),"important");break;case a.LaunchIconPosition.TopLeft:this.successCenterContainer.style.setProperty("left","".concat(r,"px"),"important"),this.successCenterContainer.style.setProperty("top","".concat(c,"px"),"important");break;case a.LaunchIconPosition.TopCenter:this.successCenterContainer.style.setProperty("left","calc(50% + ".concat(r,"px)"),"important"),this.successCenterContainer.style.setProperty("top","".concat(c,"px"),"important");break;case a.LaunchIconPosition.TopRight:this.successCenterContainer.style.setProperty("right","".concat(r,"px"),"important"),this.successCenterContainer.style.setProperty("top","".concat(c,"px"),"important");break;case a.LaunchIconPosition.RightCenter:this.successCenterContainer.style.setProperty("right","".concat(r,"px"),"important"),this.successCenterContainer.style.setProperty("top","calc(50% + ".concat(c,"px)"),"important");break;case a.LaunchIconPosition.BottomCenter:this.successCenterContainer.style.setProperty("bottom","".concat(c,"px"),"important"),this.successCenterContainer.style.setProperty("left","calc(50% + ".concat(r,"px)"),"important");break;case a.LaunchIconPosition.LeftCenter:this.successCenterContainer.style.setProperty("left","".concat(r,"px"),"important"),this.successCenterContainer.style.setProperty("top","calc(50% + ".concat(c,"px)"),"important")}}},t.prototype.addCziAvatarClassNameToElement=function(e){switch(this.successCenterConfig.launchAvatarTypeId){case a.LaunchAvatarType.Heartbeat:e.classList.add("czi-heartbeat");break;case a.LaunchAvatarType.ConciergeBell:e.classList.add("czi-concierge-bell");break;case a.LaunchAvatarType.LightBulb:e.classList.add("czi-lightbulb");break;case a.LaunchAvatarType.Info:e.classList.add("czi-info-circle");break;case a.LaunchAvatarType.Shield:e.classList.add("czi-shield-alt");break;case a.LaunchAvatarType.Heart:default:e.classList.add("czi-heart")}},t.prototype.trackSuccessCenterOpen=function(){var e=this;if(this.scSessionActionSvc.isActiveAndReleased)if(this.successCenterReadyEventReceived)this.scSessionActionSvc.sendOpenAction();else var t=this.appSvc.pubsub.subscribe(a.ChurnZeroAppEvents.SuccessCenterReady,(function(){e.scSessionActionSvc.sendOpenAction(),e.trackSuccessCenterScroll(),t.remove()}))},t.prototype.trackSuccessCenterClicks=function(){var e=this;if(this.scSessionActionSvc.isActiveAndReleased){var t=this.appSvc.pubsub.subscribe(l.InterfaceCommCodes.SuccessCenterClick,(function(t){return e.scSessionActionSvc.sendClickAction(t)}));this.subs.push(t)}},t.prototype.trackSuccessCenterScroll=function(){var e=this;if(this.scSessionActionSvc.isActiveAndReleased){var t=this.appSvc.pubsub.subscribe(l.InterfaceCommCodes.SuccessCenterScroll,(function(){return e.scSessionActionSvc.sendScrollAction()}));this.subs.push(t)}},t.prototype.trackSuccessCenterClose=function(){this.scSessionActionSvc.isActiveAndReleased&&this.scSessionActionSvc.sendCloseAction()},t}(r.IndependentLauncher);exports.SuccessCenterLauncher=h},8559:function(e,exports,t){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CZ_CUSTOM_CSS_TOP_WINDOW_SUFFIX=exports.CZ_CUSTOM_CSS_STYLE_ID_PREFIX=exports.SuccessPanelLauncher=void 0;var s=t(1667),r=t(5288),a=i(t(7795)),c=t(4098),l=t(4835),u=t(3024),h=t(6215),d="cz-success-frames-styles",p="cz-custom-css-styles",f="cz-branding-styles",m="top-window";exports.CZ_CUSTOM_CSS_STYLE_ID_PREFIX=p,exports.CZ_CUSTOM_CSS_TOP_WINDOW_SUFFIX=m;var g=function(e){function t(t,n,o,i,s,r,a,c,l,h,d){var p=e.call(this,n,o,i,s,r,a,c)||this;return p.parentDocument=t,p.commSvc=l,p.checklistSvc=h,p.openOnStart=d,p.subIds={},p.isHalted=!1,p.isCustomAvatarPositioningEnabled=!1,p.sessionSvc.PanelEnabled?(p.sessionSvc.IsSilent||(p.show=p.show.bind(p),p.hide=p.hide.bind(p),p.onDigest=p.onDigest.bind(p),p.onHalt=p.onHalt.bind(p),p.showDevlessPanel=p.showDevlessPanel.bind(p),p.onAfterSuccessCenterFrameLoad=p.onAfterSuccessCenterFrameLoad.bind(p),p.isCustomAvatarPositioningEnabled=p.tenantSvc.FeatureEnabled(u.FeatureFlags.SuccessPanelAvatarPositionEnabled),p.onInit()),p):p}return o(t,e),Object.defineProperty(t.prototype,"topWindow",{get:function(){var e;return(null===(e=this.parentDocument)||void 0===e?void 0:e.defaultView)||null},enumerable:!1,configurable:!0}),t.prototype.onInit=function(){var e=this,t={};t.avatarUrl=this.sessionSvc.LaunchAvatarUrl;var n=this.tenantSvc.accountOwner;n&&(t.userAccountName="".concat(n.firstName," ").concat(n.lastName),t.userAccountTitle=n.title||"",t.userAccountPhone=n.officePhone||"",t.userAccountEmail=n.email||""),t.headerContent=this.sessionSvc.CurrentAccountContent.header,t.footerContent=this.sessionSvc.CurrentAccountContent.footer,this.loadTopStyles((function(){e.addCustomCssToFrame(e.parentDocument,m);var n=e.appSvc.addCdn("template/successPanelContent.html?ak="+encodeURIComponent(e.commSvc.appKey));e.appSvc.templater.compile_template(n,t,(function(t){e.buildSuccessCenter(t)}))}),(function(t){a.default.report("SuccessPanelLauncher.loadTopStyles",t),e.onHalt()}))},t.prototype.show=function(e){var t=this;try{this.openBasePanel(e,(function(){t.panelBody.scrollTop=0}))}catch(e){a.default.report("SuccessPanelLauncher.show",e)}},t.prototype.hide=function(){try{this.closeBasePanel()}catch(e){a.default.report("SuccessPanelLauncher.hide",e)}},t.prototype.hidePanelToggle=function(){var e,t;null===(t=null===(e=this.launcherFrame)||void 0===e?void 0:e.classList)||void 0===t||t.add("cz-hidden")},t.prototype.showPanelToggle=function(){var e,t;this.sessionSvc.IsDevlessPanelOpen||null===(t=null===(e=this.launcherFrame)||void 0===e?void 0:e.classList)||void 0===t||t.remove("cz-hidden")},t.prototype.setLauncherBoundingRectangle=function(){this.launcherFrame&&(this.launcherBoundingRect=this.launcherFrame.getBoundingClientRect())},t.prototype.loadTopStyles=function(e,t){var n=this.windowSvc.createElement("link");n.addEventListener("load",(function(){e()})),n.addEventListener("error",(function(e){var n="";if(e){if(s.CoreUtils.hasOwnProp(e,"error")&&e.error)return void t(e.error);"string"==typeof e?n=e:s.CoreUtils.hasOwnProp(e,"message")&&(n=e.message)}t(new Error(n||"success_center_frames.css failed to load."))})),n.id=d,n.type="text/css",n.rel="stylesheet",n.href=this.appSvc.addCdn("css/success_center_frames.css"),this.parentDocument.head.appendChild(n)},t.prototype.buildSuccessCenter=function(e){var t=this;try{this.successCenterContainer=this.windowSvc.createElement("div"),this.successCenterContainer.id="cz_success_center_container",this.successCenterContainer.classList.add("cz-hidden");var n=this.parentDocument.querySelector("body");if(!n)return void this.appSvc.debug("No body element found to add success panel. Exiting early.");if(!this.topWindow)return void this.appSvc.debug("No top window found when adding success center. Exiting early.");n.appendChild(this.successCenterContainer),this.addSuccessCenterLauncherFrame((function(n){n?t.handleFrameLoadError(n,"addSuccessCenterLauncherFrame load"):t.addSuccessCenterAlertFlyoutFrame((function(n){n?t.handleFrameLoadError(n,"addSuccessCenterAlertFlyoutFrame load"):t.addSuccessCenterFrame(e,t.onAfterSuccessCenterFrameLoad)}))}))}catch(e){this.handleFrameLoadError(e,"buildSuccessCenter catch")}},t.prototype.addSuccessCenterLauncherFrame=function(e){var t=this,n='\n        <section id="cz-success-center-launch-wrapper">\n            <div class="cz-unread-badge" style="display:none;"></div>\n            <div class="cz-success-center-launch-avatar-img img-circle"\n                style="background-image: url(\''.concat(this.sessionSvc.LaunchAvatarUrl,"');\"></div>\n        </section>");this.launcherFrame=this.windowSvc.createElement("iframe"),this.launcherFrame.id="cz_success_center_launcher_frame",this.launcherFrame.addEventListener("load",(function(o){var i;try{var s=o.target.contentWindow.document,r=s.body,a=s.createElement("link");a.id="cz-launcher-styles",a.type="text/css",a.rel="stylesheet",a.href=t.appSvc.addCdn("css/in_frame_success_center_launcher.css"),s.head.appendChild(a),t.addCustomCssToFrame(s,"launcher"),r.className="cz-launch-panel-body",r.innerHTML=n,t.launcherUnreadBadge=s.querySelector(".cz-unread-badge"),s.addEventListener("click",(function(){t.show()}))}catch(e){i=e}e(i)}),{once:!0}),this.successCenterContainer.appendChild(this.launcherFrame)},t.prototype.addSuccessCenterAlertFlyoutFrame=function(e){var t=this;this.alertFlyoutFrame=this.windowSvc.createElement("iframe"),this.alertFlyoutFrame.id="cz_success_center_alert_flyout_frame",this.alertFlyoutFrame.classList.add("cz-hidden"),this.alertFlyoutFrame.addEventListener("load",(function(n){var o;try{var i=n.target.contentWindow.document,s=i.body,r=i.createElement("link"),a=i.createElement("link");if(r.rel="stylesheet",r.type="text/css",r.href=t.appSvc.addCdn("css/in_frame_success_center_alert_flyout.css"),a.type="text/css",a.rel="stylesheet",a.href="https://fonts.googleapis.com/css?family=Open+Sans",i.head.appendChild(r),i.head.appendChild(a),t.addCustomCssToFrame(i,"flyout"),s.innerHTML='\n        <div class="cz-alert-message-body">\n            <p class="cz-alert-message-text">Click here to see that info again!</p>\n        </div>',t.seeMoreMessage=i.querySelector(".cz-alert-message-body"),t.isCustomAvatarPositioningEnabled){var c=t.getPositionalClassFromConfig(t.sessionSvc.LaunchIconPositionId),l=c.indexOf("top-center")>-1||c.indexOf("bottom-center")>-1?"left":c.indexOf("right")>-1?"right":"left";s.classList.add("pos-".concat(l)),t.seeMoreMessage.classList.add("alert-message-".concat(l)),t.seeMoreMessage.classList.add("alert-message-"+t.sessionSvc.AvatarType)}else s.classList.add("pos-".concat(t.sessionSvc.PanelPosition)),t.seeMoreMessage.classList.add("alert-message-"+t.sessionSvc.PanelPosition),t.seeMoreMessage.classList.add("alert-message-"+t.sessionSvc.AvatarType);t.seeMoreMessage.addEventListener("click",(function(){return t.show()}))}catch(e){o=e}e(o)}),{once:!0}),this.successCenterContainer.appendChild(this.alertFlyoutFrame)},t.prototype.addSuccessCenterFrame=function(e,t){var n=this;this.contentFrame=this.windowSvc.createElement("iframe"),this.contentFrame.id="cz_success_center_frame",this.contentFrame.classList.add("collapsed"),this.contentFrame.addEventListener("load",(function(o){var i;try{var r=o.target.contentWindow.document,a=r.body,c=r.createElement("link"),l=r.createElement("link");c.id="cz-styles",c.type="text/css",c.rel="stylesheet",c.href=n.appSvc.addCdn("css/in_frame_success_center.css"),l.type="text/css",l.rel="stylesheet",l.href="https://fonts.googleapis.com/css?family=Open+Sans",r.head.appendChild(c),r.head.appendChild(l),n.addCustomCssToFrame(r,"sc"),a.innerHTML=e,n.contentFrameCloseButton=r.querySelector(".cz-close"),n.contentFrameCloseButton&&n.contentFrameCloseButton.addEventListener("click",n.hide),n.devlessWrench=r.querySelector(".cz-admin"),n.panelBody=r.querySelector(".cz-sidebar-panel"),n.panelHeader=r.getElementById("cz-success-center-header"),n.panelFooter=r.querySelector(".cz-footer"),n.sessionSvc.DevlessPanelEnabled?(n.devlessWrench.addEventListener("click",n.showDevlessPanel),n.subIds.DevlessHideSubId=n.appSvc.pubsub.subscribe(s.DevlessEvents.DevlessHide,(function(){n.devlessWrench&&n.devlessWrench.classList.remove("hidden")})),n.sessionSvc.IsDevlessPanelOpen||n.devlessWrench&&n.devlessWrench.classList.remove("hidden")):n.sessionSvc.IsDevlessPanelOpen=!1,n.populateWidgets(r);var u=r.getElementById("cz-header"),h=n.sessionSvc,d=h.ShowAccountOwner,p=h.CurrentAccountContent,f=p.header,m=p.footer;u&&!f&&(u.style.display="none");var g=n.windowSvc.createElement("div");if((d||f)&&a.classList.add("has-header-content"),f&&(g.innerHTML=n.sessionSvc.CurrentAccountContent.header),m&&(g.innerHTML+=n.sessionSvc.CurrentAccountContent.footer),g.innerHTML){for(var v=[],y=g.querySelectorAll("[style]"),S=y.length,C=0;C<S;C++){var b=y[C];if(b.style.fontFamily){var w=n.tenantSvc.getUIFontFamilyMappingId(b.style.fontFamily);w&&-1===v.indexOf(w)&&v.push(w)}}var E=n.tenantSvc.buildUIFontFamilyCssRequestUrl(v);if(E){var T=r.createElement("link");T.id="cz-additional-panel-fonts",T.rel="stylesheet",T.href=E,r.head.appendChild(T)}}g=null}catch(e){i=e}t(i)}),{once:!0}),this.successCenterContainer.appendChild(this.contentFrame)},t.prototype.addCustomCssToFrame=function(e,t){var n;if(null===(n=this.sessionSvc.CurrentAccountContent)||void 0===n?void 0:n.css){var o=e.createElement("style");o.id="".concat(p,"-").concat(t),o.textContent=this.sessionSvc.CurrentAccountContent.css,e.head.appendChild(o)}},t.prototype.onAfterSuccessCenterFrameLoad=function(e){var t=this;if(e)this.handleFrameLoadError(e,"addSuccessCenterFrame load");else{this.applyBranding();var n=this.launcherFrame.contentDocument.body,o="pos-".concat(this.sessionSvc.PanelPosition);if(this.isCustomAvatarPositioningEnabled){var i=this.getPositionalClassFromConfig(this.sessionSvc.LaunchIconPositionId);this.launcherFrame.classList.add("cz-independent-frame-container"),this.launcherFrame.classList.add("cz-independent-frame"),this.launcherFrame.classList.add(i),this.launcherFrame.classList.add("launcher"),this.alertFlyoutFrame.classList.add(i),"tabbed"===this.sessionSvc.AvatarType?(this.launcherFrame.classList.add("tabbed"),this.launcherFrame.classList.add("tabbed-avatar"),n.classList.add("tabbed"),this.alertFlyoutFrame.classList.add("tabbed-avatar")):n.classList.add("float")}else this.alertFlyoutFrame.classList.add(o),n.classList.add(o),this.contentFrame.classList.add(o),"tabbed"===this.sessionSvc.AvatarType?(this.launcherFrame.classList.add("tabbed-avatar"),this.launcherFrame.classList.add("".concat(this.tabbedAvatarPosition,"-tab")),this.launcherFrame.classList.add("".concat(this.sessionSvc.PanelPosition,"-tab")),n.classList.add("tabbed"),this.alertFlyoutFrame.classList.add("tabbed")):(this.launcherFrame.classList.add("floating-avatar-".concat(this.sessionSvc.PanelPosition)),n.classList.add("floating"),this.alertFlyoutFrame.classList.add("floating"));this.contentFrame.classList.add(o),this.successCenterContainer.classList.remove("cz-hidden"),this.subIds.digestSubId=this.appSvc.pubsub.subscribe(s.ChurnZeroAppEvents.DIGEST,this.onDigest),this.subIds.haltSubId=this.appSvc.pubsub.subscribe(s.ChurnZeroAppEvents.HALT,this.onHalt),this.windowSvc.window.setTimeout((function(){try{if((t.basePanelVisible||t.openOnStart)&&t.show(!0),t.appSvc.pubsub.publish(s.ChurnZeroAppEvents.PanelReady),t.contentFrame){var e=t.parentDocument.createEvent("Event");e.initEvent("czsuccesscenterloadcomplete",!0,!0),t.contentFrame.dispatchEvent(e)}}catch(e){a.default.report("SuccessPanelLauncher.onAfterSuccessCenterFrameLoad timeout fn",e)}}),500)}},t.prototype.handleFrameLoadError=function(e,t){this.onHalt();var n="Success Center frame load error";t&&(n+=": ".concat(t)),a.default.report(n,e)},t.prototype.populateWidgets=function(e){var t,n,o,i,r,a=this,d=new c.AccountRepWidget(this.sessionSvc,this.tenantSvc,e);this.panelWidgets.push(d);var p=e.getElementById("cz-account-rep-pane");if(p&&(null===(t=p.parentElement)||void 0===t||t.removeChild(p)),null===(n=this.panelHeader)||void 0===n||n.appendChild(d.getContainer()),this.tenantSvc.FeatureEnabled(u.ReleaseGates.JourneyChecklistReleased)){var f=new h.JourneyChecklistCollectionWidget(e,this.sessionSvc,this.checklistSvc,this.windowSvc,this.commSvc,this.appSvc,this.tenantSvc);this.panelWidgets.push(f),null===(o=this.panelBody)||void 0===o||o.insertBefore(f.getContainer(),this.panelBody.firstChild)}var m=new l.AnnouncementsWidget(e,this.messageSvc,this.sessionSvc,this.appSvc,this.windowSvc,this.templateCache);this.panelWidgets.push(m),(p=e.getElementById("cz-announcements"))&&(null===(i=p.parentElement)||void 0===i||i.removeChild(p)),null===(r=this.panelBody)||void 0===r||r.insertBefore(m.getContainer(),this.panelFooter),this.subIds.announcementListenerId=this.appSvc.pubsub.subscribe(s.ChurnZeroAppEvents.AnnouncementClosed,(function(e){a.showMessageBubble(e.info.infoMessage)})),this.subIds.announcementAddedToPanelListenerId=this.appSvc.pubsub.subscribe(l.AnnouncementsWidget.AnnouncementAddedToPanelEvent,(function(){a.panelBody.scrollTop=0})),this.subIds.unreadAnnouncementCountChangeEventListenerId=this.appSvc.pubsub.subscribe(l.AnnouncementsWidget.UnreadAnnouncementCountChangeEvent,(function(e){var t=e.info.count;t>0?(a.launcherUnreadBadge.textContent=t>9?"9+":t.toString(),a.launcherUnreadBadge.style.removeProperty("display")):a.launcherUnreadBadge.style.display="none"}))},t.prototype.applyBranding=function(){var e,t,n=null===(t=null===(e=this.sessionSvc)||void 0===e?void 0:e.CurrentAccountContent)||void 0===t?void 0:t.branding;if(n){var o="",i="",r="",a="",c=n.avatar,l=n.moreInfo,u=n.panel,h=n.checklist,d=function(e,t){return"".concat(e," { ").concat(t.join(" ")," }")},p=["fontFamilyId"],m=function(e,t){return"fontSize"===e?"".concat(t[e],"px"):t[e]},g=function(e){var t=[];for(var n in e)s.CoreUtils.hasOwnProp(e,n)&&(e[n]||"").toString().trim().length>0&&-1===p.indexOf(n)&&t.push(s.StyleUtils.camelCaseToDash(n)+":"+m(n,e)+" !important;");return t},v=function(e,t,n){e&&n&&t&&(e[t]=e[t]||n[t])};if(c){var y=c.glowColor,S=c.tabBackgroundColor;if((y||"").trim().length){var C="@keyframes czGlowCustom { 20% { box-shadow: 0 0 10px ".concat(n.avatar.glowColor," ; }} ");i+=C+=".cz-success-center-launch-avatar-img {animation-name: czGlowCustom !important;}"}if((S||"").trim().length){var b=n.avatar.tabBackgroundColor;o+=d("#cz_success_center_launcher_frame.tabbed-avatar",g({backgroundColor:b,borderColor:b}))}}if(l){var w=n.moreInfo,E=w.backgroundColor,T=w.color;if((E||"").trim().length)r+=d(".cz-alert-message-body",g({backgroundColor:E,borderColor:E}));if((T||"").trim().length)r+=d(".cz-alert-message-body",g({color:T}))}if(u){var A=u.zIndex;E=u.backgroundColor;if(A)o+=d("#cz_success_center_container, #cz_success_center_container #cz_success_center_launcher_frame, #cz_success_center_container #cz_success_center_alert_flyout_frame, #cz_success_center_container #cz_success_center_frame",g({zIndex:A}));E&&(n.header=n.header||{},v(n.header,"backgroundColor",u),n.accountRepPane=n.accountRepPane||{},v(n.accountRepPane,"backgroundColor",u),n.announcements=n.announcements||{},v(n.announcements,"backgroundColor",u),n.footer=n.footer||{},v(n.footer,"backgroundColor",u)),u.fontFamilyId&&(u.fontFamily=this.tenantSvc.getUIFontFamilyMappingDisplayValue(u.fontFamilyId))}if(h){var P=this.checklistSvc.mapChecklistBrandingToProperFormat(h);a+=this.checklistSvc.buildStyleRulesFromCheckListStyleBranding(P)}var k={panel:"div#cz-success-center-panel",closeIcon:"#cz-success-center-panel .cz-widget-controls span",header:"#cz-header",accountRepPane:"#cz-account-rep-pane",accountRepPaneName:"#cz-account-rep-pane .cz-user-account-name",accountRepPaneDetails:"#cz-account-rep-pane .cz-user-account-name small, #cz-account-rep-pane .cz-message-preview",announcements:"#cz-announcements .cz-announcement",announcementLinks:"#cz-announcements .cz-announcement a, #cz_popover_content .cz-announcement a, .cz-slide-announcement .cz-announcement a",announcementLinksHover:"#cz-announcements .cz-announcement a:hover, #cz_popover_content .cz-announcement a:hover, .cz-slide-announcement .cz-announcement a:hover",footer:"#cz-success-center-panel .cz-footer",footerLinks:"#cz-success-center-panel .cz-footer a",footerLinksHover:"#cz-success-center-panel .cz-footer a:hover",moreInfo:"#cz-success-center-launch-wrapper .cz-alert-message-body"};for(var _ in k)if(s.CoreUtils.hasOwnProp(k,_)&&s.CoreUtils.hasOwnProp(n,_)){var I=g(n[_]);a+=d(k[_],I)}var L=this.contentFrame.contentDocument.createElement("style"),x=this.contentFrame.contentDocument.head,O=this.launcherFrame.contentDocument.createElement("style"),F=this.launcherFrame.contentDocument.head,M=this.alertFlyoutFrame.contentDocument.createElement("style"),D=this.alertFlyoutFrame.contentDocument.head;if(L.textContent=a,O.textContent=i,M.textContent=r,a.length&&x.appendChild(L),i.length&&F.appendChild(O),r.length&&D.appendChild(M),o.length){var R=this.windowSvc.createElement("style");R.textContent=o,R.id=f,this.parentDocument.head.appendChild(R)}if(null==n?void 0:n.panel){var N=this.tenantSvc.buildUIFontFamilyCssRequestUrlFromConfig(n.panel);if(!N)return;var U=this.contentFrame.contentDocument.createElement("link");U.id="cz-panel-branding-font-family",U.href=N,U.rel="stylesheet",null==x||x.appendChild(U)}}},t.prototype.showMessageBubble=function(e){if(!this.basePanelVisible){var t=this.appSvc.templater.populateTemplate(this.templateCache.messageBubbleTemplate,{},!0),n=s.CoreUtils.createElementFromHTML(this.windowSvc.document,t);n.textContent=e,this.seeMoreMessage.innerHTML="",this.seeMoreMessage.appendChild(n),this.isCustomAvatarPositioningEnabled&&(this.alertFlyoutFrame.style.visibility="hidden"),this.alertFlyoutFrame.classList.remove("cz-hidden"),this.panelToggleContent.css("display","")}},t.prototype.showDevlessPanel=function(){try{this.appSvc.pubsub.publish(s.DevlessEvents.DevlessShow,!0),this.devlessWrench&&this.devlessWrench.classList.add("hidden")}catch(e){a.default.report("SuccessPanelLauncher.showDevlessPanelEvent",e)}},t.prototype.onBeforeHalt=function(){var e;this.hide();for(var t=null===(e=this.panelWidgets)||void 0===e?void 0:e.length,n=0;n<t;n++)this.panelWidgets[n].onHalt();this.removeAllInjectedHtml()},t.prototype.removeAllInjectedHtml=function(){try{this.launcherUnreadBadge=null,this.launcherFrame=null,this.seeMoreMessage=null,this.alertFlyoutFrame=null,this.contentFrameCloseButton=null,this.devlessWrench=null,this.panelBody=null,this.panelHeader=null,this.panelFooter=null,this.contentFrame=null,this.successCenterContainer&&this.successCenterContainer.parentNode&&this.successCenterContainer.parentNode.removeChild(this.successCenterContainer),this.successCenterContainer=null;var e=this.parentDocument.getElementById(d),t=this.parentDocument.getElementById(f),n=this.parentDocument.getElementById("".concat(p,"-").concat(m));e&&this.parentDocument.head.removeChild(e),t&&this.parentDocument.head.removeChild(t),n&&this.parentDocument.head.removeChild(n)}catch(e){}},t.prototype.openBasePanel=function(e,t){this.basePanelVisible&&!e||(this.hidePanelToggle(),this.contentFrame.addEventListener("transitionend",(function(){"function"==typeof t&&t()}),{once:!0}),this.contentFrame.classList.remove("collapsed"),this.alertFlyoutFrame.classList.add("cz-hidden"),this.basePanelVisible=!0,this.appSvc.pubsub.publish(s.ChurnZeroAppEvents.PanelShow))},t.prototype.closeBasePanel=function(e){this.basePanelVisible&&this.contentFrame&&(this.showPanelToggle(),this.contentFrame.addEventListener("transitionend",(function(){"function"==typeof e&&e()}),{once:!0}),this.contentFrame.classList.add("collapsed"),this.basePanelVisible=!1,this.appSvc.pubsub.publish(s.ChurnZeroAppEvents.PanelHide))},t.prototype.onDigest=function(){for(var e,t=null===(e=this.panelWidgets)||void 0===e?void 0:e.length,n=0;n<t;n++)this.panelWidgets[n].onDigest(this.basePanelVisible);var o=0===this.messageSvc.Announcements.filter(this.messageSvc.isPanelAnnouncement).length;this.launcherFrame&&(s.CoreUtils.isNullOrUndefined(this.launcherBoundingRect)&&(this.setLauncherBoundingRectangle(),this.hasLaunchIconOffsets()&&this.isCustomAvatarPositioningEnabled&&this.addLauncherOffsetsFromConfig(),this.appSvc.pubsub.publish(s.ChurnZeroAppEvents.PanelLauncherReady)),!this.launcherFrame.classList.contains("in")&&this.launcherFrame.classList.add("in"),o&&this.sessionSvc.OnlyShowWhenMessagesExist&&!this.sessionSvc.DevlessPanelEnabled||this.basePanelVisible?this.hidePanelToggle():(this.showPanelToggle(),this.isCustomAvatarPositioningEnabled&&this.alertFlyoutFrame&&"hidden"===this.alertFlyoutFrame.style.getPropertyValue("visibility")&&(this.hasLaunchIconOffsets()?s.CoreUtils.isNullOrUndefined(this.launcherBoundingRect)||(this.addAlertFlyoutOffsets(),this.alertFlyoutFrame.style.visibility="visible"):this.alertFlyoutFrame.style.visibility="visible")))},t.prototype.onHalt=function(){this.isHalted||(this.onBeforeHalt(),s.PubSuber.removeAll(this.subIds),this.launcherBoundingRect=null,this.isHalted=!0)},t.prototype.addLauncherOffsetsFromConfig=function(){var e="float"===this.sessionSvc.AvatarType,t=this.sessionSvc.LaunchIconPositionOffsetVertical,n=this.sessionSvc.LaunchIconPositionOffsetHorizontal,o=18,i=this.launcherBoundingRect,r=(i.left,i.top,-1*t),a=t,c=n,l=-1*n;switch(this.sessionSvc.LaunchIconPositionId){case s.LaunchIconPosition.TopLeft:this.launcherFrame.style.setProperty("top","".concat(r+20,"px"),"important"),this.launcherFrame.style.setProperty("left","".concat(c+(e?o:0),"px"),"important");break;case s.LaunchIconPosition.TopCenter:this.launcherFrame.style.setProperty("top","".concat(r+(e?25:0),"px"),"important"),this.launcherFrame.style.setProperty("left","calc(50% + ".concat(c,"px)"),"important");break;case s.LaunchIconPosition.TopRight:this.launcherFrame.style.setProperty("top","".concat(r+20,"px"),"important"),this.launcherFrame.style.setProperty("right","".concat(l+(e?o:0),"px"),"important");break;case s.LaunchIconPosition.RightCenter:this.launcherFrame.style.setProperty("top","calc(50% + ".concat(r,"px)"),"important"),this.launcherFrame.style.setProperty("right","".concat(l+(e?o:0),"px"),"important");break;case s.LaunchIconPosition.BottomRight:this.launcherFrame.style.setProperty("bottom","".concat(a+20,"px"),"important"),this.launcherFrame.style.setProperty("right","".concat(l+(e?o:0),"px"),"important");break;case s.LaunchIconPosition.BottomCenter:this.launcherFrame.style.setProperty("bottom","".concat(a+(e?25:0),"px"),"important"),this.launcherFrame.style.setProperty("left","calc(50% + ".concat(c,"px)"),"important");break;case s.LaunchIconPosition.BottomLeft:this.launcherFrame.style.setProperty("bottom","".concat(a+20,"px"),"important"),this.launcherFrame.style.setProperty("left","".concat(c+(e?o:0),"px"),"important");break;case s.LaunchIconPosition.LeftCenter:this.launcherFrame.style.setProperty("top","calc(50% + ".concat(r,"px)"),"important"),this.launcherFrame.style.setProperty("left","".concat(c+(e?o:0),"px"),"important")}this.setLauncherBoundingRectangle()},t.prototype.addAlertFlyoutOffsets=function(){var e="float"===this.sessionSvc.AvatarType,t=this.sessionSvc.LaunchIconPositionOffsetVertical,n=this.sessionSvc.LaunchIconPositionOffsetHorizontal,o=this.launcherBoundingRect,i=(o.left,o.top),r=o.right,a=t,c=-1*n;switch(this.sessionSvc.LaunchIconPositionId){case s.LaunchIconPosition.TopLeft:this.alertFlyoutFrame.style.setProperty("top","".concat(i+10,"px"),"important"),this.alertFlyoutFrame.style.setProperty("left","".concat(r+(e?-20:-10),"px"),"important");break;case s.LaunchIconPosition.TopCenter:this.alertFlyoutFrame.style.setProperty("top","".concat(i+(e?10:15),"px"),"important"),this.alertFlyoutFrame.style.setProperty("left","calc(50% + ".concat(n,"px)"),"important");break;case s.LaunchIconPosition.TopRight:this.alertFlyoutFrame.style.setProperty("top","".concat(i+10,"px"),"important"),this.alertFlyoutFrame.style.setProperty("right","".concat(c+40+(e?20:10),"px"),"important");break;case s.LaunchIconPosition.RightCenter:this.alertFlyoutFrame.style.setProperty("top","calc(50% + ".concat(-1*t,"px)"),"important"),this.alertFlyoutFrame.style.setProperty("right","".concat(c+(40+(e?20:10)),"px"),"important");break;case s.LaunchIconPosition.BottomRight:this.alertFlyoutFrame.style.setProperty("bottom","".concat(a+40,"px"),"important"),this.alertFlyoutFrame.style.setProperty("right","".concat(c+(40+(e?20:10)),"px"),"important");break;case s.LaunchIconPosition.BottomCenter:this.alertFlyoutFrame.style.setProperty("bottom","".concat(a+(e?35:10),"px"),"important"),this.alertFlyoutFrame.style.setProperty("left","calc(50% + ".concat(n,"px)"),"important");break;case s.LaunchIconPosition.BottomLeft:this.alertFlyoutFrame.style.setProperty("bottom","".concat(a+40,"px"),"important"),this.alertFlyoutFrame.style.setProperty("left","".concat(r+(e?-20:-10),"px"),"important");break;case s.LaunchIconPosition.LeftCenter:this.alertFlyoutFrame.style.setProperty("top","calc(50% + ".concat(-1*t,"px)"),"important"),this.alertFlyoutFrame.style.setProperty("left","".concat(r+(e?-20:-10),"px"),"important")}},t.prototype.hasLaunchIconOffsets=function(){return this.hasConfigOffsets(this.sessionSvc.LaunchIconPositionOffsetVertical,this.sessionSvc.LaunchIconPositionOffsetHorizontal)},t}(r.BasePanelDisplay);exports.SuccessPanelLauncher=g},4098:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AccountRepWidget=void 0;var t=function(){function e(e,t,n){this.sessionSvc=e,this.tenantSvc=t,this.parentDoc=n,this.setupAccountRep("classic")}return e.prototype.getContainer=function(){return this.accountRepPane},e.prototype.onDigest=function(){},e.prototype.onHalt=function(){},e.prototype.setupAccountRep=function(e){this.accountRepPane=this.buildClassicAccountRepInfoWidget(),this.sessionSvc.ShowAccountOwner?this.accountRepPane.style.removeProperty("display"):this.accountRepPane.style.display="none"},e.prototype.buildClassicAccountRepInfoWidget=function(){var e=this.tenantSvc.accountOwner||{firstName:"",lastName:"",title:"",officePhone:"",email:""},t=this.parentDoc.createElement("div");t.classList.add("cz-header-section"),t.id="cz-account-rep-pane";var n=this.parentDoc.createElement("h5");n.classList.add("cz-user-account-name"),n.innerText=e.firstName+" "+e.lastName;var o=this.parentDoc.createElement("small");o.innerText=e.title,o.style.marginLeft="5px",n.appendChild(o),t.appendChild(n);var i=this.parentDoc.createElement("p");i.classList.add("cz-message-preview"),i.innerHTML="phone: "+e.officePhone,i.innerHTML+="<br />",i.innerHTML+="email: "+e.email,t.appendChild(i);var s=this.parentDoc.createElement("div"),r=this.parentDoc.createElement("span");if(r.classList.add("cz-avatar"),this.sessionSvc.AccountOwnerAvatarUrl){var a=this.parentDoc.createElement("img");a.classList.add("cz-avatar-img"),a.src=this.sessionSvc.AccountOwnerAvatarUrl,r.appendChild(a)}else if(e){var c=this.parentDoc.createElement("span");c.innerText=(e.firstName||" ").substring(0,1)+(e.lastName||" ").substring(0,1),c.classList.add("cz-avatar-name"),r.appendChild(c)}return s.appendChild(r),t.insertBefore(s,t.firstChild),t},e}();exports.AccountRepWidget=t},4835:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnnouncementsWidget=void 0;var n=t(1667),o=t(1032),i=function(){function e(e,t,n,o,i,s){this.parentDoc=e,this.messageSvc=t,this.sessionSvc=n,this.appSvc=o,this.windowSvc=i,this.templateCache=s,this.previousUnreadCount=0,this.isDefaultAnnouncementActive=!1,this.hoveredVideoAnnouncementId=0,this.clickDelegate=this.clickDelegate.bind(this),this.mouseEnterDelegate=this.mouseEnterDelegate.bind(this),this.mouseLeaveDelegate=this.mouseLeaveDelegate.bind(this),this.blurDelegate=this.blurDelegate.bind(this),this.build("classic")}return e.prototype.getContainer=function(){return this.announcementsContainer},e.prototype.onDigest=function(e){this.handleMessageDigest(e)},e.prototype.onHalt=function(){var e=this.parentDoc.body,t=this.parentDoc.defaultView;(e&&(e.removeEventListener("click",this.clickDelegate),e.removeEventListener("mouseenter",this.mouseEnterDelegate,!0),e.removeEventListener("mouseleave",this.mouseLeaveDelegate,!0)),t&&t.removeEventListener("blur",this.blurDelegate),t&&t.parent)&&t.parent.removeEventListener("blur",this.blurDelegate)},e.prototype.build=function(e){this.announcementsContainer=this.buildClassicAnnouncementsWidget(),this.setupAnnouncements({announcements:this.messageSvc.Announcements,showMoreText:this.sessionSvc.CurrentAccountContent.clickToSeeMoreText});var t=this.parentDoc.body,n=this.parentDoc.defaultView,o=n.parent;t.addEventListener("click",this.clickDelegate),t.addEventListener("mouseenter",this.mouseEnterDelegate,!0),t.addEventListener("mouseleave",this.mouseLeaveDelegate,!0),n.addEventListener("blur",this.blurDelegate),o.addEventListener("blur",this.blurDelegate)},e.prototype.setupAnnouncements=function(e){for(var t=e.announcements.length-1;t>=0;t--){var n=e.announcements[t];this.messageSvc.isPanelAnnouncement(n)&&this.addAnnouncementToPanelUi(n)}0===e.announcements.length&&this.displayDefaultAnnouncement()},e.prototype.displayDefaultAnnouncement=function(){if(this.sessionSvc.CurrentAccountContent.defaultAnnouncement){var e={messageContent:this.sessionSvc.CurrentAccountContent.defaultAnnouncement,deliveryDate:new Date,isRead:!0};this.addAnnouncementToPanelUi(e),this.isDefaultAnnouncementActive=!0}},e.prototype.addAnnouncementToPanelUi=function(t){this.isDefaultAnnouncementActive&&(this.announcementsContainer.innerHTML="",this.isDefaultAnnouncementActive=!1);var o=this.templateCache.announcementTemplate;this.messageSvc.normalizeMessageData(t);var i=this.messageSvc.getAnnouncementType(t);i!==n.AnnouncementType.Nps&&i!==n.AnnouncementType.CustomSurvey||(o=this.templateCache.announcementNpsTemplatePanel,t.npsUrl=t.messageData.responseUrl,t.npsQuestion=t.messageData.question,t.wide=t.messageData.wide,t.showNewWindow=t.messageData.showNewWindow);var s=this.appSvc.templater.populateTemplate(o,t);if(s&&"function"==typeof this.parentDoc.createElement){s=this.appSvc.templater.purge(s);var r=this.parentDoc.createElement("section");r.innerHTML=s,this.announcementsContainer.insertBefore(r,this.announcementsContainer.firstChild)}this.appSvc.pubsub.publish(e.AnnouncementAddedToPanelEvent)},e.prototype.handleMessageDigest=function(t){for(var n=0,o=0;o<this.messageSvc.Announcements.length;o++){var i=this.messageSvc.Announcements[o];if(i){var s="#cz-sidebar-note-".concat(i.sequence),r=this.windowSvc.czq(s,this.announcementsContainer);if(i.announcementIncludeInPanel&&(0===r.length&&(this.addAnnouncementToPanelUi(i),r=this.windowSvc.czq(s,this.announcementsContainer)),t?i.isRead||this.windowSvc.isVisible(r,!0)&&this.messageSvc.SendReadReceipt(i.id):i.isRead||n++),i.expiryDate)new this.windowSvc.Date>new this.windowSvc.Date(i.expiryDate)&&(r.remove(),this.messageSvc.Announcements[o]=void 0)}}n!==this.previousUnreadCount&&this.appSvc.pubsub.publish(e.UnreadAnnouncementCountChangeEvent,{count:n}),this.previousUnreadCount=n,this.messageSvc.SanitizeAnnouncements(),0===this.messageSvc.Announcements.filter(this.messageSvc.isPanelAnnouncement).length&&!this.isDefaultAnnouncementActive&&this.displayDefaultAnnouncement()},e.prototype.clickDelegate=function(e){var t=e.target;this.tryHandleNpsClick(t)||this.tryHandleAnchorClick(t)},e.prototype.tryHandleNpsClick=function(e){var t=n.CoreUtils.closest(e,".cz-nps-click");if(!t)return!1;var i=t.getAttribute("data-nps-url"),s="true"===t.getAttribute("data-wide"),r="true"===(t.getAttribute("data-show-new-window")||"").toLowerCase(),a=n.CoreUtils.closest(e,".cz-announcement"),c=a&&"false"!==a.getAttribute("data-info-message"),l=this.messageSvc.GetAnnouncementFromAnnouncementHtml(a),u={code:n.InterfaceCommCodes.NpsAnnouncementLinkClicked,url:i,wide:s,showNewWindow:r,showMessageBubble:c,id:l.id},h=n.iFrameUtils.buildTransportMessage(n.TransportCodes.InterfaceComm,u);return o.FrameCommUtil.postEncryptedMessage(this.parentDoc.defaultView.top,h,"*"),!0},e.prototype.tryHandleAnchorClick=function(e){var t=n.CoreUtils.closest(e,".cz-click-audit a");if(!t)return!1;var i=n.CoreUtils.closest(t,".cz-click-audit");if(!i)return!1;var s=i.getAttribute("data-message-id"),r={code:n.InterfaceCommCodes.AnnouncementClickAudit,id:s},a=n.iFrameUtils.buildTransportMessage(n.TransportCodes.InterfaceComm,r);return o.FrameCommUtil.postEncryptedMessage(this.parentDoc.defaultView.top,a,"*"),!0},e.prototype.mouseEnterDelegate=function(e){var t=e.target;if("iframe"===t.tagName.toLowerCase()&&t.parentElement.classList.contains("fr-video")){var o=n.CoreUtils.closest(t,".cz-click-audit");if(o){var i=parseInt(o.getAttribute("data-message-id"),10);this.hoveredVideoAnnouncementId=i||0}}},e.prototype.mouseLeaveDelegate=function(e){var t=e.target;"iframe"===t.tagName.toLowerCase()&&t.parentElement.classList.contains("fr-video")&&(n.CoreUtils.closest(t,".cz-click-audit")&&(this.hoveredVideoAnnouncementId=0))},e.prototype.blurDelegate=function(e){var t=e.target;if(this.hoveredVideoAnnouncementId&&(t===this.parentDoc.defaultView.top||t===this.parentDoc.defaultView)){var i={code:n.InterfaceCommCodes.AnnouncementClickAudit,id:this.hoveredVideoAnnouncementId},s=n.iFrameUtils.buildTransportMessage(n.TransportCodes.InterfaceComm,i);o.FrameCommUtil.postEncryptedMessage(this.parentDoc.defaultView.top,s,"*")}},e.prototype.buildClassicAnnouncementsWidget=function(){var e=this.parentDoc.createElement("article");return e.id="cz-announcements",e},e.AnnouncementAddedToPanelEvent="cz.announcementswidget.announcementaddedtopanel",e.UnreadAnnouncementCountChangeEvent="cz.announcementswidget.unreadannouncementcountchange",e}();exports.AnnouncementsWidget=i},6215:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.JourneyChecklistCollectionWidget=void 0;var n=t(1667),o=t(1913),i=t(3024),s=[],r=function(){function e(e,t,o,i,s,r,a){this.parentDoc=e,this.sessionSvc=t,this.checklistSvc=o,this.windowSvc=i,this.commSvc=s,this.appSvc=r,this.tenantSvc=a,this.collection=[],this.subIds={},this.build=this.build.bind(this),this.domContainer=this.parentDoc.createElement("section"),this.subIds.checklistRefreshedSub=this.appSvc.pubsub.subscribe(n.ChurnZeroAppEvents.JourneyChecklistRefreshed,this.build),this.build()}return e.prototype.getContainer=function(){return this.domContainer},e.prototype.onDigest=function(){},e.prototype.onHalt=function(){for(var e,t=null===(e=this.collection)||void 0===e?void 0:e.length,n=0;n<t;n++)this.collection[n].onHalt();if(this.domContainer){for(;this.domContainer.firstChild;)this.domContainer.removeChild(this.domContainer.lastChild);this.domContainer.parentElement&&this.domContainer.parentElement.removeChild(this.domContainer),this.domContainer=null}},e.prototype.build=function(){this.tenantSvc.FeatureEnabled(i.ReleaseGates.JourneyChecklistPhaseTwoReleased)?this.buildForPhaseTwo():this.buildForPhaseOne()},e.prototype.buildForPhaseOne=function(){var e,t,n=((null===(e=this.checklistSvc.getChecklistConfig())||void 0===e?void 0:e.items)||s).concat();if(0!==n.length){var i=n[0];if(0===this.collection.length){var r=new o.JourneyChecklistWidget(this.parentDoc,this.windowSvc,this.appSvc,this.checklistSvc);this.collection.push(r),null===(t=this.domContainer)||void 0===t||t.appendChild(this.collection[0].getContainer())}this.collection[0].setData(i),this.collection[0].build()}else{for(var a=this.collection.length,c=0;c<a;c++)this.collection[c].onHalt();this.collection=[]}},e.prototype.buildForPhaseTwo=function(){var e,t,n=this,i=((null===(e=this.checklistSvc.getChecklistConfig())||void 0===e?void 0:e.items)||s).filter((function(e){return n.sessionSvc.PanelEnabled&&1===e.uiPositionId})),r=i.length;if(0!==r){for(var a=i.map((function(e){return e.id})),c=this.collection.length;c--;){var l=this.collection[c];a.indexOf(l.getId())>-1||(l.onHalt(),this.collection.splice(c,1))}var u=this.collection.map((function(e){return e.getId()})),h=[];for(g=0;g<r;g++){var d=i[g],p=void 0,f=u.indexOf(d.id);p=f>-1?this.collection[f]:new o.JourneyChecklistWidget(this.parentDoc,this.windowSvc,this.appSvc,this.checklistSvc),h.push(p),p.setData(d),p.build(),null===(t=this.domContainer)||void 0===t||t.appendChild(p.getContainer())}this.collection=h}else{for(var m=this.collection.length,g=0;g<m;g++)this.collection[g].onHalt();this.collection=[]}},e}();exports.JourneyChecklistCollectionWidget=r},1913:function(e,exports,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JourneyChecklistWidget=void 0;var o,i=t(1667),s=t(3833);!function(e){e.Achievement="achievement",e.Task="task"}(o||(o={}));var r=function(){function e(t,n,o,s,r){this.parentDoc=t,this.windowSvc=n,this.appSvc=o,this.checklistSvc=s,this.onUpdate=r,this.checklist=null,this.totalItemCount=0,this.completedItemCount=0,this.domWrapper=null,this.progressGauge=null,this.completeBanner=null,this.subIds={},this.onClickDelegate=this.onClickDelegate.bind(this),this.onChangeDelegate=this.onChangeDelegate.bind(this),this.handleRefresh=this.handleRefresh.bind(this),this.domWrapper=this.parentDoc.createElement("article"),this.domWrapper.classList.add(e.DOM_PREFIX),this.domWrapper.addEventListener("click",this.onClickDelegate),this.domWrapper.addEventListener("change",this.onChangeDelegate),this.subIds.checklistRefreshedSub=this.appSvc.pubsub.subscribe(i.ChurnZeroAppEvents.JourneyChecklistRefreshed,this.handleRefresh)}return e.prototype.getId=function(){var e;return null===(e=this.checklist)||void 0===e?void 0:e.id},e.prototype.getContainer=function(){return this.domWrapper},e.prototype.isCompleteBannerVisible=function(){var e,t;return null===(t=null===(e=this.completeBanner)||void 0===e?void 0:e.classList)||void 0===t?void 0:t.contains("in")},e.prototype.onDigest=function(){},e.prototype.onHalt=function(){var e,t;if(i.PubSuber.removeAll(this.subIds),null===(e=this.progressGauge)||void 0===e||e.destroy(),this.progressGauge=null,this.domWrapper){for(this.domWrapper.removeEventListener("click",this.onClickDelegate),this.domWrapper.removeEventListener("change",this.onChangeDelegate);this.domWrapper.lastChild;)this.domWrapper.removeChild(this.domWrapper.firstChild);null===(t=this.domWrapper.parentElement)||void 0===t||t.removeChild(this.domWrapper),this.completeBanner=null,this.domWrapper=null}},e.prototype.setData=function(e){this.checklist=n({},e)},e.prototype.build=function(){if(0!==this.checklist.milestones.length&&this.domWrapper){for(;this.domWrapper.firstChild;)this.domWrapper.removeChild(this.domWrapper.lastChild);if(this.totalItemCount=0,this.completedItemCount=0,this.completeBanner=this.parentDoc.createElement("div"),this.completeBanner.classList.add("".concat(e.DOM_PREFIX,"-complete-banner")),this.populateCompleteBannerMarkup(this.completeBanner,this.checklist.completeMessage),this.domWrapper.appendChild(this.completeBanner),this.checklist.isMarkedComplete){this.completeBanner.classList.add("is-complete");var t=this.getChecklistCompletedTooltip();t&&(this.completeBanner.title=t)}var n=this.parentDoc.createElement("div");n.classList.add("".concat(e.DOM_PREFIX,"-index")),this.domWrapper.appendChild(n);var o=this.checklist.shouldDisplayMilestones,i=this.parentDoc.createElement("header"),r=this.parentDoc.createElement("h3");r.className="".concat(e.DOM_PREFIX,"-header"),r.textContent=this.checklist.title,i.className="".concat(e.DOM_PREFIX,"-header-wrapper"),i.appendChild(r),o&&this.domWrapper.classList.add("with-ms-names"),n.appendChild(i),this.appendMilestoneMarkup(n,o),null===this.progressGauge&&(this.progressGauge=new s.ProgressGauge(this.parentDoc,this.windowSvc,50,50,20,""));var a=this.getGaugePercentComplete(),c=this.getGaugeTitle();this.progressGauge.update(a,c),"function"==typeof this.onUpdate&&this.onUpdate({percentComplete:a,title:c}),i.appendChild(this.progressGauge.getContainer()),this.checkIfAllCompleted()}},e.prototype.getItemCounts=function(){return{total:this.totalItemCount,completed:this.completedItemCount}},e.prototype.handleRefresh=function(){var e,t,n=this;if(null===(e=this.checklist)||void 0===e?void 0:e.id){var o=((null===(t=this.checklistSvc.getChecklistConfig())||void 0===t?void 0:t.items)||[]).filter((function(e){return e.id===n.checklist.id}));0!==o.length?(this.setData(o[0]),this.build()):this.onHalt()}},e.prototype.onClickDelegate=function(t){var n,o=t.target,s=i.CoreUtils.closest(o,".".concat(e.DOM_PREFIX,"-milestone-heading-btn"));if(s)this.onMilestoneHeadingClick(s);else if(o.hasAttribute("data-cl-complete-btn")){var r=t.view.document.querySelector(".".concat(e.DOM_PREFIX,"-complete-banner"));if(r&&r.classList.add("is-pending"),!(null===(n=this.checklist)||void 0===n?void 0:n.journeyAccountInstanceId))return;for(var a=this.checklist.milestones.length,c=[],l=0;l<a;l++){for(var u=this.checklist.milestones[l],h=u.achievements,d=u.tasks,p=h.length,f=d.length,m=0;m<p;m++){var g=h[m];c.push(g.stepId)}for(m=0;m<f;m++){var v=d[m];c.push(v.stepId)}}var y=this.domWrapper.querySelectorAll("fieldset"),S=y.length;for(l=0;l<S;l++){y[l].disabled=!0}var C={journeyAccountInstanceId:this.checklist.journeyAccountInstanceId,completedStepIds:c};this.checklistSvc.markChecklistComplete(C)}},e.prototype.onChangeDelegate=function(e){var t,n=e.target;if("INPUT"===n.tagName&&"checkbox"===n.getAttribute("type")){var o=n,i=o.getAttribute("data-item-step-id"),s=o.getAttribute("data-item-type");if(i&&s&&(null===(t=this.checklist)||void 0===t?void 0:t.journeyAccountInstanceId)){var r=o.checked,a={stepType:s,stepId:parseInt(i,10),journeyAccountInstanceId:this.checklist.journeyAccountInstanceId,isComplete:r};r?this.completedItemCount++:this.completedItemCount--;var c=this.getGaugePercentComplete(),l=this.getGaugeTitle();this.progressGauge&&this.progressGauge.update(c,l),"function"==typeof this.onUpdate&&this.onUpdate({percentComplete:c,title:l}),this.checkIfAllCompleted(),this.checklistSvc.toggleItem(a)}}},e.prototype.onMilestoneHeadingClick=function(e){var t=e.parentElement.getElementsByTagName("fieldset"),n=e.getElementsByTagName("span");if(0!==t.length&&0!==n.length){var o=t[0],i=n[0],s=o.classList.contains("cz-hidden");o.classList.toggle("cz-hidden"),s?(i.classList.remove("caret-left"),i.classList.add("caret-down")):(i.classList.remove("caret-down"),i.classList.add("caret-left"))}},e.prototype.appendMilestoneMarkup=function(t,n){for(var i=this.checklist.milestones.length,s=0;s<i;s++){var r=this.checklist.milestones[s],a=r.achievements,c=r.tasks,l=r.hasStarted;if(0!==a.length||0!==c.length){var u=this.parentDoc.createElement("section"),h=this.parentDoc.createElement("fieldset");if(this.totalItemCount+=a.length+c.length,u.className="".concat(e.DOM_PREFIX,"-milestone"),n){var d=this.parentDoc.createElement("button"),p=this.parentDoc.createElement("h5"),f=this.parentDoc.createElement("span");d.className="".concat(e.DOM_PREFIX,"-milestone-heading-btn"),d.type="button",p.className="".concat(e.DOM_PREFIX,"-milestone-heading"),p.textContent=r.name,f.className="".concat(e.DOM_PREFIX,"-milestone-heading-caret caret-down"),d.appendChild(p),d.appendChild(f),u.appendChild(d)}u.appendChild(h),this.appendItemMarkup(h,a,o.Achievement),this.appendItemMarkup(h,c,o.Task),l||(u.classList.add("unstarted"),h.setAttribute("disabled",""),h.setAttribute("title","Milestone has not started yet.")),this.checklist.isMarkedComplete&&(h.disabled=!0),t.appendChild(u)}}},e.prototype.appendItemMarkup=function(t,n,o){for(var i=n.length,s=0;s<i;s++){var r=n[s],a=void 0,c="".concat(e.DOM_PREFIX,"-").concat(o,"-item-").concat(r.id),l=this.parentDoc.createElement("div"),u=this.parentDoc.createElement("input"),h=this.parentDoc.createElement("label");l.className="".concat(e.DOM_PREFIX,"-item"),u.id=c,u.type="checkbox",u.setAttribute("data-item-type",o),r.stepId&&u.setAttribute("data-item-step-id",r.stepId.toString()),h.className="".concat(e.DOM_PREFIX,"-item-label"),h.htmlFor=c,h.appendChild(u),r.isCompleted&&(this.completedItemCount++,u.setAttribute("checked",""),h.title=this.getItemCompletedTooltip(r));var d=r.options||{},p=d.shouldIncludeLink,f=d.url;if(p&&f?((a=this.parentDoc.createElement("a")).target="_blank",a.href=r.options.url,a.rel="noreferrer noopener"):a=this.parentDoc.createElement("span"),a.className="".concat(e.DOM_PREFIX,"-item-text"),a.textContent=r.name,h.appendChild(a),r.isAutoCompleted){u.disabled=!0,h.classList.add("is-auto-completed");var m=this.parentDoc.createElement("i");m.className="czi czi-info-circle",m.title="This Achievement will be completed once criteria is met. This may take a few minutes to be marked complete after meeting criteria.",h.appendChild(m)}l.appendChild(h),t.appendChild(l)}},e.prototype.populateCompleteBannerMarkup=function(e,t){e.innerHTML='\n        <section class="mark-as-complete">\n            <p>All steps are complete.</p>\n            <button type="button" data-cl-complete-btn>Complete Checklist</button>\n        </section>\n        <section class="pending">\n            <p>Checklist is pending completion...</p>\n        </section>\n        <section class="completed-text">\n            <p>'.concat(t||"Congrats! Your checklist is complete.","</p>\n        </section>")},e.prototype.getItemCompletedTooltip=function(e){var t=e.completedDate,n=e.changedByContactFullName,o=e.changedByUserAccountFullName,s=e.isAutoCompleted;if(!t)return"";var r=new this.windowSvc.Date(t),a=s?"meeting segment criteria":n||o||null,c=a?" by ".concat(a):"";return"Completed on ".concat(i.CoreUtils.Dates.formatWithSlashes(r)).concat(c)},e.prototype.getChecklistCompletedTooltip=function(){var e;if(!(null===(e=this.checklist)||void 0===e?void 0:e.completedDate))return"";var t=this.checklist,n=t.completedDate,o=t.completedByName,s=new this.windowSvc.Date(n),r=o?" by ".concat(o):"";return"Marked complete on ".concat(i.CoreUtils.Dates.formatWithSlashes(s)).concat(r)},e.prototype.getGaugePercentComplete=function(){return this.totalItemCount>0?Math.floor(this.completedItemCount/this.totalItemCount*100):0},e.prototype.getGaugeTitle=function(){return"".concat(this.completedItemCount," / ").concat(this.totalItemCount," Items Complete")},e.prototype.checkIfAllCompleted=function(){this.completeBanner&&(this.completedItemCount===this.totalItemCount?this.completeBanner.classList.add("in"):this.completeBanner.classList.remove("in"))},e.DOM_PREFIX="cz-journey-checklist",e}();exports.JourneyChecklistWidget=r},3833:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProgressGauge=void 0;var t="cz-progress-gauge",n=function(){function e(e,n,o,i,s,r,a){this.parentDoc=e,this.windowSvc=n,this.width=o,this.height=i,this.radius=s,this.title=r,this.percentComplete=0;var c=(new this.windowSvc.Date).valueOf();for(this.id="".concat(t,"-").concat(c);this.parentDoc.getElementById(this.id);)c=(new this.windowSvc.Date).valueOf(),this.id="".concat(t,"-").concat(c);this.containerId="".concat("cz-progress-gauge-container","-").concat(c),this.circumference=2*Math.PI*this.radius,this.circleX=this.width/2,this.circleY=this.height/2,"number"==typeof a&&(this.percentComplete=a),this.updateDashOffset()}return e.prototype.getContainer=function(){return this.container||(this.container=this.parentDoc.createElement("aside"),this.container.id=this.containerId,this.container.innerHTML=this.getSvgMarkup()),this.container},e.prototype.destroy=function(){if(this.container){for(;this.svg&&this.svg.firstChild;)this.svg.removeChild(this.svg.lastChild);for(;this.container.firstChild;)this.container.removeChild(this.container.lastChild);this.container&&this.container.parentElement&&this.container.parentElement.removeChild(this.container),this.svg=null,this.container=null}},e.prototype.update=function(e,t){var n=this.getSvg(),o=n.querySelector(".gauge-progress"),i=n.querySelector(".gauge-text");if(this.percentComplete=e,this.updateDashOffset(),o.setAttribute("stroke-dashoffset",this.dashOffset.toString()),i.textContent="".concat(this.percentComplete.toString(),"%"),t){var s=n.querySelector(".gauge-title");this.title=t,s.textContent=this.title}},e.prototype.updateDashOffset=function(){this.dashOffset=this.circumference*((100-this.percentComplete)/100)},e.prototype.getSvg=function(){if(!this.svg){var e=this.getContainer();this.svg=e.querySelector("#".concat(this.id))}return this.svg},e.prototype.getSvgMarkup=function(){return'\n        <svg id="'.concat(this.id,'"\n            class="cz-progress-gauge"\n            width="').concat(this.width,'"\n            height="').concat(this.height,'">\n            <title class="gauge-title">').concat(this.title,'</title>\n            <circle class="gauge-base"\n                cx="').concat(this.circleX,'"\n                cy="').concat(this.circleY,'"\n                r="').concat(this.radius,'"></circle>\n            <circle class="gauge-progress"\n                cx="').concat(this.circleX,'"\n                cy="').concat(this.circleY,'"\n                r="').concat(this.radius,'"\n                stroke-dasharray="').concat(this.circumference,'"\n                stroke-dashoffset="').concat(this.dashOffset,'"\n                transform="rotate(-90) translate(-').concat(this.width,' 0)">\n            </circle>\n            <text class="gauge-text"\n                x="').concat(this.circleX,'"\n                y="').concat(this.circleY,'"\n                text-anchor="middle"\n                dominant-baseline="central">').concat(this.percentComplete,"%</text>\n        </svg>")},e}();exports.ProgressGauge=n},4462:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e){void 0===e&&(e={});var t=this;Object.keys(e).forEach((function(n){t[n]=e[n]}))};exports.default=t},8376:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function e(t){var n=this;this.store=e.checkForLocalStorage();var o=t?{encode:t.encode,decode:t.decode}:{encode:JSON.stringify,decode:JSON.parse};window.btoa?(this.encode=function(e){return n.btou(o.encode(e))},this.decode=function(e){return n.isUBase64(e)?o.decode(n.utob(e)):n.isBase64(e)?o.decode(window.atob(e)):o.decode(e)}):(this.encode=o.encode,this.decode=o.decode)}return e.checkForLocalStorage=function(){try{return"undefined"!=typeof Storage?sessionStorage:{}}catch(e){return{}}},e.formatKey=function(e){return"cz.".concat(e.toLowerCase())},e.prototype.isUBase64=function(e){try{return this.btou(this.utob(e))==e}catch(e){return!1}},e.prototype.isBase64=function(e){try{return btoa(atob(e))==e}catch(e){return!1}},e.prototype.btou=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})))},e.prototype.utob=function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},e.prototype.set=function(t,n){try{this.store[e.formatKey(t)]=this.encode(n)}catch(e){}},e.prototype.get=function(t,n){try{return this.decode(this.store[e.formatKey(t)])}catch(e){}return n},e.prototype.remove=function(t){try{delete this.store[e.formatKey(t)]}catch(e){}},e}();exports.default=t},3861:function(e,exports,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var i=t(1667),s=o(t(7871)),r=o(t(4462)),a=o(t(7795)),c=t(9299),l=function(){function e(t,n,o){var r=this;this.storageSvc=t,this.httpSvc=n,this.windowSvc=o,this._pollInterval=c.DEFAULT_POLL_INTERVAL,this._isConnected=!1,this._preventUsageSends=!1,this._listeners={},this._pollTimer=null,this._connectionTimer=null,this._connectionStart=null,this._connectionTimeout=6e4,this._lastSocketMessageId="",this._numberOfPollFails=0,this._polling=!1,this._pollingData=[],this._apiUrl=null,this._urlTracking=!0,this._contactKey=null,this._appVersion="s1.03.5767.003",this._disconnectedQueuedSocketMessages=new s.default(this.storageSvc,this.windowSvc,e.storageKeys.DisconnectedQueueKey),this.pubsub=new i.PubSuber(a.default),this.appHost=this.windowSvc.hostName(),this._apiUrl=null,this.windowSvc.addCleanRoomUnload((function(){try{r._connectionXHR&&(r._connectionXHR.abort(),r._connectionXHR=null),r._pollXHR&&(r._pollXHR.abort(),r._pollXHR=null)}catch(e){}}))}return Object.defineProperty(e.prototype,"IsConnected",{get:function(){return this._isConnected},enumerable:!1,configurable:!0}),e.prototype.connect=function(e,t,n,o){var s=this;this._apiUrl=e;var r=function(e){"function"==typeof o&&o(e),s._connectionXHR=null};try{var a=this.baseUrl("connect"),c={contactKey:this.contactKey,contactExternalIdHash:this.contactHash,accountExternalIdHash:this.accountHash,appKey:this.appKey,additionalData:{browserInfo:i.CoreUtils.FeatureDetection.getBrowserInfo()}};this.urlTracking&&(c.appKeyHost=this.appHost),this._connectionStart=(new this.windowSvc.Date).getTime(),this._connectionXHR=this.httpSvc.Post(a,c,!0,(function(e){s._connectionXHR=null,s.connectionSuccessHandler(e,t,n,o)}),r)}catch(e){r("Error Connecting")}},e.prototype.connectionSuccessHandler=function(t,n,o,c){var l=new r.default(t);if(i.CoreUtils.Strings.isNullOrEmpty(l.connectionKey)){if(this._isConnected=!0,this._connectionXHR=null,!l.tenantId||i.CoreUtils.Strings.isNullOrEmpty(l.authKey)){var u=l.tenantId?"AuthKey":"TenantId";t||(u="Falsy Response"),u+=" - ";try{u+=Object.prototype.toString.call(t)}catch(e){u+="Sad Times"}var h=!0;try{if(t&&"string"==typeof t){var d=t.trim(),p="/html>";h=!(d.substring(d.length-p.length,d.length)===p)}}catch(e){h=!0}return h&&a.default.report("SocketRepository.successCallback",new Error("Bad ConnectionInfo - "+u)),"function"==typeof c&&c(t),void(this._connectionXHR=null)}this._authKey=l.authKey,this._tenantId=l.tenantId,this._preventUsageSends=(l.functionality||{}).devlessEnabled||!1;var f="".concat(e.storageKeys.QueueKey,"-").concat(this.contactKey);this._queuedSocketMessages=new s.default(this.storageSvc,this.windowSvc,f);var m=new s.default(this.storageSvc,this.windowSvc,"".concat(e.storageKeys.QueueKey,"-").concat(l.appKey,"-").concat(this.contactKey));if(m.length){var g=m.getAllItems();this._queuedSocketMessages.unshiftAll(g),m.empty()}var v=!1;if("function"==typeof n)!1===(y=n(l))&&(v=!0),"string"==typeof y&&(this._apiUrl=y);v||(this.pubsub.publish(i.SocketMessageTypes.SOCKETMESSAGETYPE_INITIAL_CONNECTION,l),this.poll())}else{var y,S=!1;if("function"==typeof o&&(!1===(y=o(l))&&(S=!0),"string"==typeof y&&(this._apiUrl=y)),S)return;this.connectionPoll(l.connectionKey,n,o,c)}},e.prototype.disconnect=function(){this._isConnected=!1,this._connectionTimer&&(clearTimeout(this._connectionTimer),this._connectionTimer=null),this._connectionXHR&&(this._connectionXHR.abort(),this._connectionXHR=null),this._authKey=null,this._tenantId=null,this._apiUrl=null,this._queuedSocketMessages=null,this._pollTimer&&(clearTimeout(this._pollTimer),this._pollTimer=null),this._pollXHR&&(this._pollXHR.abort(),this._pollXHR=null),this.pubsub.publish(i.SocketMessageTypes.SOCKETMESSAGETYPE_DISCONNECT)},e.prototype.connectionPoll=function(e,t,n,o){var i=this,s=this.baseUrl("connectStatus"),r=function(e){"function"==typeof o&&o(e),i._connectionXHR=null},a={appKey:this.appKey,additionalData:{connectionKey:e}};this.windowSvc.window.clearTimeout(this._connectionTimer),this._connectionTimer=this.windowSvc.window.setTimeout((function(){try{i._connectionXHR=i.httpSvc.Post(s,a,!0,(function(s){var r=(new i.windowSvc.Date).getTime()-i._connectionStart;s?(i._connectionStart=null,i.connectionSuccessHandler(s,t,n,o)):r<=i._connectionTimeout?i.connectionPoll(e,t,n,o):i.windowSvc.window.setTimeout((function(){i.connect(i._apiUrl,t,n,o)}),15e3)}),r)}catch(e){r(e)}}),1e3)},e.prototype.send=function(e,t,n){var o=this.buildProperSocketMessage(e,t);this.IsConnected?this._queuedSocketMessages.push(o):this._disconnectedQueuedSocketMessages.push(o),n&&this.poll()},e.prototype.setPollInterval=function(e){var t=!1;e<this._pollInterval&&0===this._numberOfPollFails&&(t=!0),this._pollInterval=e,t&&this.poll()},e.prototype.resetPollIntervalToDefault=function(){this.setPollInterval(c.DEFAULT_POLL_INTERVAL)},e.prototype.destroy=function(){this.reset()},e.prototype.reset=function(){this.disconnect(),this._disconnectedQueuedSocketMessages.empty()},e.prototype.registerListener=function(e,t){return this.pubsub.subscribe(e,t)},e.prototype.registerMirror=function(e){return this.pubsub.addMirror(e)},e.prototype.publishMirrored=function(e){this.pubsub.publishMirrored(e)},e.prototype.clearAllListeners=function(){this._listeners={}},e.prototype.flush=function(){this.poll()},e.prototype.poll=function(){var e=this;if(!this._polling&&this.IsConnected){this._polling=!0,this._pollTimer&&this.windowSvc.window.clearTimeout(this._pollTimer);try{this.windowSvc.XMLHttpRequestReference()}catch(e){return void this.pollFailure([])}var t=this._disconnectedQueuedSocketMessages.getAllItems();t.length&&(this._queuedSocketMessages.unshiftAll(t),this._disconnectedQueuedSocketMessages.empty());var o=null,s=null,r=null,a=null,c=null;this._pollingData=this._queuedSocketMessages.getAllItems();for(var l=[],u=this._pollingData.length,h=function(t){var u=d._pollingData[t];if(i.CoreUtils.isNullOrUndefined(u))return"continue";switch(u.socketMessageTypeId){case i.SocketMessageTypes.SOCKETMESSAGETYPE_IS_ACTIVE:d._preventUsageSends||(o=u);break;case i.SocketMessageTypes.SOCKETMESSAGETYPE_CHECK_EVENT_MAP_CONFIG_VERSION:s=u;break;case i.SocketMessageTypes.SOCKETMESSAGETYPE_CheckPageTagConfigVersion:r=u;break;case i.SocketMessageTypes.SOCKETMESSAGETYPE_CheckWalkthroughConfigVersion:a=u;break;case i.SocketMessageTypes.SOCKETMESSAGETYPE_CheckChecklistConfigVersion:c=u;break;case i.SocketMessageTypes.SOCKETMESSAGETYPE_SET_ATTRIBUTE:if(d._preventUsageSends)break;var h=u.messageContent;if("setAttribute"===h.action){var p=!1;if(l.forEach((function(t){if(!p)try{if(t.socketMessageTypeId===i.SocketMessageTypes.SOCKETMESSAGETYPE_SET_ATTRIBUTE&&"setAttribute"===t.messageContent.action&&t.messageContent.entity===h.entity){var o=e.windowSvc.Date.parse(t.messageDate),s=e.windowSvc.Date.parse(u.messageDate),r=t.messageContent;o<=s?(r.attributes=n(n({},r.attributes),h.attributes),t.messageDate=u.messageDate,p=!0):o>s&&(r.attributes=n(n({},h.attributes),r.attributes),p=!0)}}catch(e){}})),p)break}l.push(u);break;case i.SocketMessageTypes.SOCKETMESSAGETYPE_TRACK_EVENT:case i.SocketMessageTypes.SOCKETMESSAGETYPE_TIME_IN_APP:case i.SocketMessageTypes.SOCKETMESSAGETYPE_WalkthroughAction:case i.SocketMessageTypes.SOCKETMESSAGETYPE_MESSAGE_READ:case i.SocketMessageTypes.SOCKETMESSAGETYPE_MESSAGE_CLICKED:case i.SocketMessageTypes.SOCKETMESSAGETYPE_ChecklistItemToggle:case i.SocketMessageTypes.SOCKETMESSAGETYPE_ChecklistMarkComplete:if(d._preventUsageSends)break;l.push(u);break;default:l.push(u)}},d=this,p=0;p<u;p++)h(p);o&&l.push(o),s&&l.push(s),r&&l.push(r),a&&l.push(a),c&&l.push(c),l.forEach((function(t){e.needsSessionIdentifiers(t)&&e.addSessionIdentifiersToObject(t.messageContent)}));var f=this.baseUrl("poll");this._lastSocketMessageId&&(f=f+"&lastId="+encodeURIComponent(this._lastSocketMessageId));var m=l.filter((function(e){return null!=e}));0===l.length?this._pollXHR=this.httpSvc.Get(f,(function(t){return e.pollSuccess(t)}),(function(t,n){return e.pollFailure(n)})):this._pollXHR=this.httpSvc.Post(f,m,!1,(function(t){return e.pollSuccess(t)}),(function(t,n){return e.pollFailure(n)}))}},e.prototype.pollSuccess=function(e){var t=this;if(this._pollingData&&this._pollingData.length&&this._queuedSocketMessages){var n=this._pollingData.map((function(e){return e.id}));this._queuedSocketMessages.removeAll(this._pollingData,(function(e){return-1===n.indexOf(e.id)}))}this._pollingData=[];for(var o=0;o<e.length;o++)this.pubsub.publish(e[o].socketMessageTypeId,e[o].messageContent),e[o].id&&(this._lastSocketMessageId=e[o].id);this._polling=!1,this._pollXHR=null,this._numberOfPollFails=0,this._isConnected&&(this._queuedSocketMessages.length>0?this.poll():this._pollTimer=this.windowSvc.window.setTimeout((function(){try{t.poll()}catch(e){a.default.report("SocketRepository.pollSuccess",e)}}),this._pollInterval))},e.prototype.pollFailure=function(e){var t=this,n=(e=e||[]).length,o=[];if(n>0){for(;n>0;){var i=e.pop();n--,this.needsSessionIdentifiers(i)&&this.removeSessionIdentifiersFromObject(i.messageContent);var s=!1;try{for(var r=void 0,c=((r=this.IsConnected?this._queuedSocketMessages.getAllItems():this._disconnectedQueuedSocketMessages.getAllItems())||[]).length,l=0;l<c;l++)r[l].id===i.id&&(s=!0,l=c+1)}catch(e){}s||o.unshift(i)}o&&o.length&&(this.IsConnected?this._queuedSocketMessages.unshiftAll(o):this._disconnectedQueuedSocketMessages.unshiftAll(o))}this._polling=!1,this._pollXHR=null,this._numberOfPollFails<5&&this._numberOfPollFails++;this._isConnected&&(this._pollTimer=this.windowSvc.window.setTimeout((function(){try{t.poll()}catch(e){a.default.report("SocketRepository.pollFailure",e)}}),this._pollInterval+6e4*this._numberOfPollFails))},e.prototype.buildProperSocketMessage=function(e,t){if(!e)throw new Error("message type can not be blank");var n={id:i.DataTypeUtils.newGuid(),socketMessageTypeId:e,messageDate:(new this.windowSvc.Date).toISOString(),messageContent:t};return t&&t.messageKey&&(n.id=t.messageKey),n},e.prototype.baseUrl=function(e){var t={t:this.windowSvc.Date.now(),v:this.appVersion,m:""};switch(this._pollInterval){case c.OPEN_POLL_INTERVAL:t.m="o";break;case c.INACTIVE_POLL_INTERVAL:t.m="i";break;case c.DEFAULT_POLL_INTERVAL:default:t.m="d"}this._authKey&&(t.socketKey=encodeURIComponent(this._authKey));var n=i.CoreUtils.Urls.buildQueryStringString(t),o="".concat(this._apiUrl).concat(e);return this._tenantId&&(o+="/".concat(this._tenantId)),o+n},e.prototype.hasValidSessionIdentifiers=function(){var e=this.isAppKeyValid(this.appKey),t=!this.urlTracking||this.isAppHostValid(),n=this.isContactKeyValid(this.contactKey);return e&&t&&n},e.prototype.needsSessionIdentifiers=function(e){switch(e.socketMessageTypeId){case i.SocketMessageTypes.SOCKETMESSAGETYPE_SET_ATTRIBUTE:case i.SocketMessageTypes.SOCKETMESSAGETYPE_TRACK_EVENT:case i.SocketMessageTypes.SOCKETMESSAGETYPE_WalkthroughAction:case i.SocketMessageTypes.SOCKETMESSAGETYPE_CheckWalkthroughConfigVersion:case i.SocketMessageTypes.SOCKETMESSAGETYPE_CheckChecklistConfigVersion:case i.SocketMessageTypes.SOCKETMESSAGETYPE_ChecklistItemToggle:case i.SocketMessageTypes.SOCKETMESSAGETYPE_ChecklistMarkComplete:case i.SocketMessageTypes.SOCKETMESSAGETYPE_SuccessCenterContactSessionAction:return!0;default:return!1}},e.prototype.addSessionIdentifiersToObject=function(t){t.appKey=this.appKey,this.urlTracking&&(t.appKeyHost=this.appHost);var n=(this.contactKey||"").split(e.separator);t.accountExternalId=n[0],t.contactExternalId=n[1]},e.prototype.removeSessionIdentifiersFromObject=function(e){delete e.appKey,delete e.appKeyHost,delete e.accountExternalId,delete e.contactExternalId},Object.defineProperty(e.prototype,"appKey",{get:function(){return this._appKey},set:function(e){this._appKey=e},enumerable:!1,configurable:!0}),e.prototype.isAppKeyValid=function(e){return!!(e&&e.length>0)},Object.defineProperty(e.prototype,"appHost",{get:function(){return this._appHost},set:function(e){this._appHost=e},enumerable:!1,configurable:!0}),e.prototype.isAppHostValid=function(){return void 0!==this.appHost&&this.appHost.length>0&&this.appHost.length>0},Object.defineProperty(e.prototype,"urlTracking",{get:function(){return this._urlTracking},set:function(e){this._urlTracking=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contactKey",{get:function(){return this._contactKey},set:function(e){this._setDisconnectedQueue(e),e?this._contactKey=e:this._resetContactKey()},enumerable:!1,configurable:!0}),e.prototype.isContactKeyValid=function(t){if(!t)return!1;if(0===t.length||-1===t.indexOf(e.separator))return!1;var n=this.splitContactKey(t);n.accountExternalId=n.accountExternalId||"";var o=!1;void 0!==n.accountExternalId&&null!==n.accountExternalId&&(o=n.accountExternalId.length>0&&n.accountExternalId.length<=100);var i=!1;return void 0!==n.contactExternalId&&null!==n.contactExternalId&&(i=n.contactExternalId.length>0),o&&i},e.prototype.splitContactKey=function(t){var n=(t||"").split(e.separator),o=null,i=null;return n&&2===n.length&&(o=n[0],i=n[1]),{accountExternalId:o,contactExternalId:i}},e.prototype.generateContactKey=function(t,n){return"".concat(t).concat(e.separator).concat(n)},e.prototype.getContactKeyFromCache=function(){return this.storageSvc.get(e.storageKeys.ContactKey,null)},Object.defineProperty(e.prototype,"accountHash",{get:function(){return this._accountHash},set:function(e){this._accountHash=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contactHash",{get:function(){return this._contactHash},set:function(e){this._contactHash=e},enumerable:!1,configurable:!0}),e.prototype._setDisconnectedQueue=function(t){var n="".concat(e.storageKeys.DisconnectedQueueKey);t&&(n+="-".concat(t));var o=new s.default(this.storageSvc,this.windowSvc,n);if(n!==e.storageKeys.DisconnectedQueueKey&&this._disconnectedQueuedSocketMessages.key!==this.storageSvc.encode(e.storageKeys.DisconnectedQueueKey)){var i=this._disconnectedQueuedSocketMessages.getAllItems();i.length&&(o.unshiftAll(i),this._disconnectedQueuedSocketMessages.empty())}this._disconnectedQueuedSocketMessages=o},e.prototype._resetContactKey=function(){this._contactKey=null,this._accountHash=null,this._contactHash=null,this.storageSvc.remove(e.storageKeys.ContactKey)},Object.defineProperty(e.prototype,"appVersion",{get:function(){return this._appVersion},enumerable:!1,configurable:!0}),e.separator="~|~",e.storageKeys={AppKey:"APP_KEY",ContactKey:"CONTACTKEY_KEY",QueueKey:"CZ_QUEUE_KEY",DisconnectedQueueKey:"CZ_DISCONNECTED_QUEUE_KEY",ContactKeyCookie:"ChurnZeroUser"},e}();exports.default=l},3484:function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=n(t(7795)),i=n(t(3861)),s=t(721),r=t(1667),a=function(){function e(e,t,n){this.windowSvc=e,this.applicationSvc=t,this.mainFrame=n,this._listeners={},this._appVersion="s1.03.5767.003",this.pubsub=new r.PubSuber(o.default),this.appHost=this.windowSvc.hostName()}return Object.defineProperty(e.prototype,"appVersion",{get:function(){return this._appVersion},enumerable:!1,configurable:!0}),e.prototype.clearAllListeners=function(){this._listeners={}},e.prototype.connect=function(e,t,n,o){},e.prototype.destroy=function(){this.reset()},e.prototype.disconnect=function(){},e.prototype.generateContactKey=function(e,t){return"".concat(e).concat(i.default.separator).concat(t)},e.prototype.getContactKeyFromCache=function(){return""},e.prototype.isAppHostValid=function(){return!1},e.prototype.isAppKeyValid=function(e){return!1},e.prototype.isContactKeyValid=function(e){return!1},e.prototype.reset=function(){this.disconnect()},e.prototype.resetPollIntervalToDefault=function(){},e.prototype.send=function(e,t,n){this.applicationSvc.messageMain({code:s.Enums.FrameCommCodes.SubFramePassback,data:{type:"send",data:{socketMessageTypeId:e,messageContent:t,forcePoll:n}}})},e.prototype.flush=function(){},e.prototype.setPollInterval=function(e){},e.prototype.splitContactKey=function(e){var t=(e||"").split(i.default.separator),n=null,o=null;return t&&2===t.length&&(n=t[0],o=t[1]),{accountExternalId:n,contactExternalId:o}},e.prototype.registerListener=function(e,t){return this.pubsub.subscribe(e,t)},e.prototype.publishMirrored=function(e){this.pubsub.publishMirrored(e)},e.prototype.registerMirror=function(e){return this.pubsub.addMirror(e)},e}();exports.default=a},9729:function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=n(t(2231)),i=t(1667),s=t(721),r=t(1667),a=n(t(7795)),c=function(){function e(e,t){this.storageSvc=e,this.windowSvc=t,this._registeredSubframes={},this.isChildFrameListenerAttached=!1,this.isFrameComListenerAttached=!1,this._isSelfHosted=!0,this.pubsub=new i.PubSuber(a.default),this._registeredSubframes={},this.templater=new o.default(this.windowSvc.czq)}return Object.defineProperty(e.prototype,"registeredSubFrames",{get:function(){return this._registeredSubframes},set:function(e){this._registeredSubframes=e},enumerable:!1,configurable:!0}),e.prototype.getRegisteredSubFrameById=function(e){return this._registeredSubframes[e]},e.prototype.registerSubFrame=function(e,t,n){var o=r.DataTypeUtils.newGuid();this._registeredSubframes[o]={window:e,origin:t},this.pubsub.publish(i.ChurnZeroAppEvents.SubframeRegistered,{source:o,vcode:n})},e.prototype.setupClientSideUrls=function(){a.default.initLogger(this.windowSvc.clientSideUrls.sockets,!0),this.templater.addGlobal("cdn",this.windowSvc.cdnUrl)},Object.defineProperty(e.prototype,"environment",{get:function(){var e=this.windowSvc.clientSideUrls.baseApiUrl,t="p";return e.indexOf("localhost:53157")>=0||e.indexOf("lvh.me:53157")>=0?t="d":e.indexOf("apptest.churnzerolabs.com")>=0||e.indexOf("analyticstest.churnzerolabs.com")>=0||e.indexOf("appbranch01.churnzerolabs.com")>=0?t="t":e.indexOf("appstaging.churnzerolabs.com")>=0?t="s":e.indexOf("eu1analytics.churnzero.net"),t},enumerable:!1,configurable:!0}),e.prototype.addCdn=function(e){if(0===e.length)return e;if("http:"===e.substring(0,5)||"https:"===e.substring(0,6)||"//:"===e.substring(0,3))return e;if(!this.windowSvc.clientSideUrls.baseApiUrl)throw new Error("Urls Cache must be built before adding cdn");return this.windowSvc.cdnUrl+e},e.prototype.addChildFrameListener=function(){var e=this;if(!this.isChildFrameListenerAttached){var t=this.WebAppDomain;t=t.substr(0,t.length-1);var n=i.iFrameUtils.attachTransportMessageListener(this.windowSvc.window,t,(function(t,n){if(t.code===i.TransportCodes.PubSubMirror)e.pubsub.publishMirrored(t.data)}),this.windowSvc.JSON);this.removeChildFrameListener=function(){e.windowSvc.window.removeEventListener&&e.windowSvc.window.removeEventListener("message",n,!1),e.isChildFrameListenerAttached=!1,e.removeChildFrameListener=void 0},this.isChildFrameListenerAttached=!0}},e.prototype.addFrameComListener=function(){var e=this;if(!this.isFrameComListenerAttached){var t=this.windowSvc.origins.join(","),n=i.iFrameUtils.attachTransportMessageListener(this.windowSvc.window,t,(function(t,n){if(t.code===i.TransportCodes.FrameComm){var o=t.data;try{e.handleFrameComMessage(o,n)}catch(e){}}}),this.windowSvc.JSON,(function(e,t){a.default.report("iFrameUtils.attachTransportMessageListener at application.service.ts",e,(t.data||"e.data is falsy").toString())}));this.removeFrameComListener=function(){e.windowSvc.window.removeEventListener&&e.windowSvc.window.removeEventListener("message",n,!1),e.isFrameComListenerAttached=!1,e.removeFrameComListener=void 0},this.isFrameComListenerAttached=!0}},e.prototype.messageMain=function(e){this.mainFrame&&this.sendFrameCom(this.mainFrame,e)},e.prototype.messageSubFrames=function(e){if(this.registeredSubFrames){var t=[];for(var n in this._registeredSubframes)if(i.CoreUtils.hasOwnProp(this._registeredSubframes,n)){var o=this._registeredSubframes[n];o&&o.window?this.sendFrameCom(o,e):t.push(n)}for(var s=0;s<t.length;s++)try{(n=t[s])&&i.CoreUtils.hasOwnProp(this._registeredSubframes,n)&&(this._registeredSubframes[n]=void 0,delete this._registeredSubframes[n])}catch(e){}}},e.prototype.sendFrameCom=function(e,t){var n=i.iFrameUtils.buildTransportMessage(i.TransportCodes.FrameComm,t);if(e&&e.window)try{e.window.postMessage(i.iFrameUtils.encrypt(this.windowSvc.JSON.stringify(n)),e.origin)}catch(e){}},e.prototype.handleFrameComMessage=function(e,t){if(e.code!==s.Enums.FrameCommCodes.SubframeBoot)if(e.code!==s.Enums.FrameCommCodes.SubframeBootResponse){if(this.isMain){var n=!1;for(var o in this.registeredSubFrames)!n&&i.CoreUtils.hasOwnProp(this.registeredSubFrames,o)&&this.registeredSubFrames[o].window===t.source&&(n=!0);if(!n)return}else if(!this.mainFrame||this.mainFrame.window!==t.source)return;switch(e.code){case s.Enums.FrameCommCodes.MainFrameComRePublish:case s.Enums.FrameCommCodes.MainFramePassdown:this.isMain||this.pubsub.publish(e.code,e.data);break;case s.Enums.FrameCommCodes.SubFramePassback:this.isMain&&this.pubsub.publish(e.code,e.data)}}else this.isMain||(this.mainFrame={window:t.source,origin:t.origin},e.data.source=t.source,this.pubsub.publish(s.Enums.FrameCommCodes.SubframeBootResponse,e.data));else this.isMain&&this.registerSubFrame(t.source,t.origin,e.data)},Object.defineProperty(e.prototype,"isSelfHosted",{get:function(){return"true"===this._isSelfHosted.trim().toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDebugging",{get:function(){return this.storageSvc.get(e.storageKeys.IsDebugging,!1)},set:function(t){t?this.storageSvc.set(e.storageKeys.IsDebugging,t):this.storageSvc.remove(e.storageKeys.IsDebugging)},enumerable:!1,configurable:!0}),e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(this.isDebugging){var o=[e].concat(t||[]);!this.isMain&&o.length>0&&(o[0]="**Sub** - "+o[0]),this.windowSvc.window.console.info.apply(this.windowSvc.window.console,o)}},Object.defineProperty(e.prototype,"WebAppDomain",{get:function(){return this.webAppDomain},set:function(e){this.webAppDomain=e},enumerable:!1,configurable:!0}),e.storageKeys={AdminPanelState:"ADMIN_PANEL__STATE",IsDebugging:"IS_DEBUGGING"},e}();exports.default=c},5704:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(721),o=t(1667),i=function(){function e(e,t){this.commSvc=e,this.sessionSvc=t}return e.prototype.SetAttribute=function(e,t,n){this.executeAttribute("setAttribute",e,t,n)},e.prototype.IncrementAttribute=function(e,t,n){this.executeAttribute("incrementAttribute",e,t,n)},e.prototype.executeAttribute=function(e,t,i,s){var r={action:e,entity:t,attributes:null};if(null==s&&o.CoreUtils.isObject(i))r.attributes=i;else if(o.CoreUtils.isString(i)&&"{"!==i.trim().substr(0,1))r.attributes={},r.attributes[i]=s;else try{i=JSON.parse(i),r.attributes=i}catch(e){}this.validateAttributeItem(r)&&(this.sessionSvc.ShouldPreventUsageSends||this.commSvc.send(n.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_SET_ATTRIBUTE,r))},e.prototype.validateAttributeItem=function(e){var t=window.console,n=!0;if(void 0!==e.action&&null!==e.action&&0!==e.action.toString().length||(t.warn("Action parameter must be defined. Attribute ignored."),n=!1),(void 0===e.entity||null===e.entity||0===e.entity.toString().length||"contact"!==e.entity.toLowerCase()&&"account"!==e.entity.toLowerCase())&&(t.warn("Entity value must be either 'contact' or 'account'. Attribute ignored."),n=!1),void 0!==e.attributes&&null!==e.attributes&&0!==o.CoreUtils.numKeys(e.attributes)||(t.warn("Name parameter must be defined. Attribute ignored."),n=!1),void 0!==e.attributes&&null!==e.attributes&&o.CoreUtils.numKeys(e.attributes)>0)for(var i in e.attributes)if(e.attributes.hasOwnProperty(i)&&0===i.trim().length){t.warn("Name parameter must be defined for each attribute. Attributes ignored."),n=!1;break}return n},e}();exports.default=i},3091:function(e,exports,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChecklistService=void 0;var o=t(1667),i=function(){function e(e,t){this.windowSvc=e,this.commSvc=t,this.lastChecklistPing=-1,this.pingInterval=3e4}return e.prototype.SeedData=function(e){this.clConfig=n({},e)},e.prototype.getChecklistConfig=function(){return this.clConfig||null},e.prototype.checkForUpdatedConfig=function(){if(!(+this.windowSvc.Date.now()-+this.lastChecklistPing<=this.pingInterval)){this.lastChecklistPing=this.windowSvc.Date.now();var e=(this.clConfig||{}).version;this.commSvc.send(o.SocketMessageTypes.SOCKETMESSAGETYPE_CheckChecklistConfigVersion,{version:e})}},e.prototype.toggleItem=function(e){this.commSvc.send(o.SocketMessageTypes.SOCKETMESSAGETYPE_ChecklistItemToggle,e,!0)},e.prototype.markChecklistComplete=function(e){this.commSvc.send(o.SocketMessageTypes.SOCKETMESSAGETYPE_ChecklistMarkComplete,e,!0)},e.prototype.mapChecklistBrandingToProperFormat=function(e){e||(e={});var t=function(e){if(e){switch(e){case"left":return"flex-start";case"right":return"flex-end"}return e}},n=(e.titleFontSize||"").toString().trim(),o=(e.itemFontSize||"").toString().trim();return n.length>0&&-1===n.indexOf("px")&&(n+="px"),o.length>0&&-1===o.indexOf("px")&&(o+="px"),{all:{textAlign:e.textAlignment,color:e.color,backgroundColor:e.backgroundColor},links:{color:e.hyperlinkColor},title:{fontSize:n,justifyContent:t(e.textAlignment)},milestoneHeader:{fontSize:o,justifyContent:t(e.textAlignment)},item:{fontSize:o,justifyContent:t(e.textAlignment)},markAsComplete:{backgroundColor:e.markAsCompleteBackgroundColor,color:e.markAsCompleteTextColor,justifyContent:t(e.textAlignment)},completeButton:{backgroundColor:e.completeButtonBackgroundColor,color:e.completeButtonTextColor},completeMessage:{backgroundColor:e.completeMessageBackgroundColor,color:e.completeMessageTextColor,justifyContent:t(e.textAlignment)}}},e.prototype.buildStyleRulesFromCheckListStyleBranding=function(e){var t,n,i,s,r={all:".cz-journey-checklist",title:".cz-journey-checklist-header",milestoneHeader:".cz-journey-checklist-milestone-heading-btn",item:".cz-journey-checklist-item-label",links:"a.cz-journey-checklist-item-text",markAsComplete:".cz-journey-checklist-complete-banner",completeButton:".cz-journey-checklist-complete-banner button",completeMessage:".cz-journey-checklist-complete-banner.is-complete"},a="";if((null===(t=e.all)||void 0===t?void 0:t.color)&&(a+=o.StyleUtils.wrapInRule(".cz-journey-checklist-milestone-heading-caret.caret-down",o.StyleUtils.mapBrandingItemToCSSProps({borderTopColor:e.all.color})),a+=o.StyleUtils.wrapInRule(".cz-journey-checklist-milestone-heading-caret.caret-left",o.StyleUtils.mapBrandingItemToCSSProps({borderRightColor:e.all.color}))),null===(n=e.title)||void 0===n?void 0:n.justifyContent){var c=e.title.justifyContent;a+=o.StyleUtils.wrapInRule(".cz-journey-checklist-header-wrapper",o.StyleUtils.mapBrandingItemToCSSProps({justifyContent:c})),e.title.justifyContent=void 0}if(null===(i=e.markAsComplete)||void 0===i?void 0:i.justifyContent){c=e.markAsComplete.justifyContent;a+=o.StyleUtils.wrapInRule(".mark-as-complete",o.StyleUtils.mapBrandingItemToCSSProps({justifyContent:c})),e.markAsComplete.justifyContent=void 0}if(null===(s=e.completeMessage)||void 0===s?void 0:s.justifyContent){c=e.completeMessage.justifyContent;a+=o.StyleUtils.wrapInRule(".completed-text",o.StyleUtils.mapBrandingItemToCSSProps({justifyContent:c})),e.completeMessage.justifyContent=void 0}for(var l in r)if(o.CoreUtils.hasOwnProp(r,l)&&o.CoreUtils.hasOwnProp(e,l)){var u=o.StyleUtils.mapBrandingItemToCSSProps(e[l]);a+=o.StyleUtils.wrapInRule(r[l],u)}return a},e.prototype.getPositionalClassNameFromConfig=function(e){switch(e.launchIconPosition){case o.LaunchIconPosition.TopCenter:return"pos-top-center";case o.LaunchIconPosition.TopRight:return"pos-top-right";case o.LaunchIconPosition.LeftCenter:return"pos-left-center";case o.LaunchIconPosition.RightCenter:return"pos-right-center";case o.LaunchIconPosition.BottomLeft:return"pos-bottom-left";case o.LaunchIconPosition.BottomCenter:return"pos-bottom-center";case o.LaunchIconPosition.BottomRight:return"pos-bottom-right";default:return"pos-top-left"}},e.prototype.configHasOffsets=function(e){return!(o.CoreUtils.isNullOrUndefined(e.launchIconOffsetVertical)&&o.CoreUtils.isNullOrUndefined(e.launchIconOffsetHorizontal))},e.DOM_PREFIX="cz-journey-checklist",e}();exports.ChecklistService=i},1138:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function e(e){this.commRepo=e}return Object.defineProperty(e.prototype,"appVersion",{get:function(){return this.commRepo.appVersion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appKey",{get:function(){return this.commRepo.appKey},set:function(e){this.commRepo.appKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appHost",{get:function(){return this.urlTracking?this.commRepo.appHost:"Url Tracking Disabled"},set:function(e){this.commRepo.appHost=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"urlTracking",{get:function(){return this.commRepo.urlTracking},set:function(e){this.commRepo.urlTracking=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contactKey",{get:function(){return this.commRepo.contactKey},set:function(e){this.commRepo.contactKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"accountHash",{get:function(){return this.commRepo.accountHash},set:function(e){this.commRepo.accountHash=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contactHash",{get:function(){return this.commRepo.contactHash},set:function(e){this.commRepo.contactHash=e},enumerable:!1,configurable:!0}),e.prototype.registerListener=function(e,t){return this.commRepo.registerListener(e,t)},e.prototype.registerMirror=function(e){return this.commRepo.registerMirror(e)},e.prototype.publishMirrored=function(e){this.commRepo.publishMirrored(e)},e.prototype.generateContactKey=function(e,t){return this.commRepo.generateContactKey(e,t)},e.prototype.getContactKeyFromCache=function(){return this.commRepo.getContactKeyFromCache()},e.prototype.isContactKeyValid=function(e){return this.commRepo.isContactKeyValid(e)},e.prototype.splitContactKey=function(e){return this.commRepo.splitContactKey(e)},e.prototype.isAppKeyValid=function(e){return this.commRepo.isAppKeyValid(e)},e.prototype.send=function(e,t,n){try{this.commRepo.send(e,t,n)}catch(e){}},e.prototype.flush=function(){this.commRepo.flush()},e.prototype.isConnected=function(){return this.commRepo.IsConnected},e.prototype.connect=function(e,t,n,o){this.commRepo.connect(e,t,n,o)},e.prototype.setPollInterval=function(e){this.commRepo.setPollInterval(e)},e.prototype.resetPollIntervalToDefault=function(){this.commRepo.resetPollIntervalToDefault()},e.prototype.clearAllListeners=function(){this.commRepo.clearAllListeners()},e.prototype.disconnect=function(){this.commRepo.disconnect()},e.prototype.reset=function(){this.commRepo.reset()},e.prototype.destroy=function(){this.commRepo.destroy()},e}();exports.default=t},6176:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(721),o=t(1667),i=function(){function e(e,t,n,o){this.commSvc=e,this.windowSvc=t,this.applicationSvc=n,this.sessionSvc=o,this.lastEventMapPing=null,this.pingInterval=6e4,this._eventMapConfig={eventMaps:[],eventMapVersion:"-1"}}return Object.defineProperty(e.prototype,"eventMapVersion",{get:function(){return this._eventMapConfig.eventMapVersion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventMaps",{get:function(){return this._eventMapConfig.eventMaps},enumerable:!1,configurable:!0}),e.prototype.TrackEvent=function(e,t,o,i){var s={eventDate:(new this.windowSvc.Date).toISOString(),name:e,quantity:o||1,description:t||"",customFields:i};this.ValidateEvent(s)&&(this.sessionSvc.ShouldPreventUsageSends||this.commSvc.send(n.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_TRACK_EVENT,s))},e.prototype.ValidateEvent=function(e){var t=window.console,n=!0;return void 0!==e.name&&null!==e.name&&0!==e.name.toString().length||(t.warn("Track Event EventName is required. Event ignored."),n=!1),void 0===e.quantity||!Array.isArray(e.quantity)&&o.CoreUtils.Numbers.isNumeric(e.quantity)||(t.warn("Track Event Quantity field is restricted to numeric values only. Any non-numeric values will be ignored."),e.quantity=1),n},e.prototype.Exp_TrackEvent=function(e,t,n){},e.prototype.RefreshEventMapConfig=function(e){this.applicationSvc.isMain&&(+this.windowSvc.Date.now()-+this.lastEventMapPing>this.pingInterval||e)&&(this.lastEventMapPing=this.windowSvc.Date.now(),this.commSvc.send(n.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_CHECK_EVENT_MAP_CONFIG_VERSION,{version:this.eventMapVersion}))},e.prototype.LoadEventMapConfig=function(e){e&&(this._eventMapConfig=e)},e.prototype.AddEventMaps=function(e,t){t&&(this._eventMapConfig.eventMaps=[]),this._eventMapConfig.eventMaps=this._eventMapConfig.eventMaps.concat(e)},e.prototype.RelevantMappedEvents=function(){return void 0===this._eventMapConfig.eventMaps&&(this._eventMapConfig.eventMaps=[]),{all:this.eventMaps.filter((function(e){return!e.disabled})),suggested:this.eventMaps.filter((function(e){return e.selectorTypeId===n.Enums.SelectorTypes.Suggested&&!e.disabled})),custom:this.eventMaps.filter((function(e){return e.selectorTypeId===n.Enums.SelectorTypes.Custom&&!e.disabled}))}},e}();exports.default=i},6001:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function e(e,t){e?(this.encode=e.encode,this.decode=e.decode):(this.encode=JSON.stringify,this.decode=JSON.parse),this.XMLHttpRequestFactory=function(){return t?"function"==typeof t?new(t()):new t:new XMLHttpRequest}}return e.prototype.Get=function(e,t,n){return this.http("GET",e,null,!1,t,n)},e.prototype.Post=function(e,t,n,o,i){return this.http("POST",e,t,n,o,i)},e.prototype.http=function(e,t,n,o,i,s){var r=this,a=void 0;try{a=this.XMLHttpRequestFactory()}catch(e){}if(!a)return s&&s("XHR Unavailable Failed",n),null;a.onload=function(){if(200===a.status||204===a.status){if(i){var e=a.responseText;return"{"!==e.substring(0,1)&&"["!==e.substring(0,1)||(e=r.decode(e)),i(e)}}else s&&s(a.responseText,n)},a.onabort=function(){s&&s("Request Aborted",n)},a.onerror=function(){s&&s("Request Failed",n)};var c=null;n&&(c="="+encodeURIComponent(this.encode(n)));try{a.open(e,t),a.withCredentials=o,a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c?a.send(c):a.send()}catch(e){s&&s("Request Failed",n)}return a},e}();exports.default=t},6329:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(721),o=t(1667),i=function(){function e(e,t,n){this.commSvc=e,this.windowSvc=t,this.storageService=n,this._announcements=[]}return Object.defineProperty(e.prototype,"Announcements",{get:function(){return this._announcements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SeenAnnouncementIdsKey",{get:function(){return"SeenAnnouncementIds-".concat(this.commSvc.appKey,"-").concat(this.commSvc.contactKey)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SeenAnnouncementIds",{get:function(){try{return this.storageService.get(this.SeenAnnouncementIdsKey,[])}catch(e){return[]}},set:function(e){this.storageService.set(this.SeenAnnouncementIdsKey,e)},enumerable:!1,configurable:!0}),e.prototype.SeedAnnouncements=function(e){this._announcements=[];for(var t=0;t<e.length;t++){var n=this.processAnnouncement(e[t]);n&&this._announcements.push(n)}},e.prototype.SendReadReceipt=function(e){if(e>0)for(var t=0;t<this.Announcements.length;t++)this.Announcements[t]&&this.Announcements[t].id===e&&(this.Announcements[t].isRead||(this.Announcements[t].isRead=!0,this.SeenAnnouncementIds=this.SeenAnnouncementIds.concat([e]),this.commSvc.send(n.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_MESSAGE_READ,e,!0)))},e.prototype.SendClickAudit=function(e){e>0&&this.commSvc.send(n.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_MESSAGE_CLICKED,e)},e.prototype.SanitizeAnnouncements=function(){this._announcements=this.Announcements.filter((function(e){return null!=e}))},e.prototype.AddNewAnnouncement=function(e){var t=this.processAnnouncement(e);return t&&this._announcements.push(t),t},e.prototype.ExpireAnnouncement=function(e){for(var t=0;t<this._announcements.length;t++){var n=this._announcements[t];n.messageKey===e.messageKey&&(this._announcements[t]=o.CoreUtils.extend({},n,e))}},e.prototype.GetAnnouncementFromAnnouncementHtml=function(e){if(e){var t,n=(e.getAttribute("data-message-id")||"-1").toString();return this.Announcements.filter((function(e){e.id.toString()===n&&(t=e)})),t}},e.prototype.processAnnouncement=function(e){for(var t=!1,n=0;n<this._announcements.length;n++)e.messageKey===this._announcements[n].messageKey&&(e.isRead=this._announcements[n].isRead,t=!0);if(!t)return e.sequence=this._announcements.length+1,e.deliveryDate=new this.windowSvc.Date(e.deliveryDate),e.at=o.CoreUtils.Dates.formatWithSlashes(e.deliveryDate),e.time=o.CoreUtils.Times.formatWithAMPM(e.deliveryDate),e.announcementIncludeInPanelString=e.announcementIncludeInPanel.toString(),e.showInfoMessageString=e.announcementIncludeInPanel.toString(),-1!==this.SeenAnnouncementIds.indexOf(e.id)&&(e.isRead=!0),this.normalizeMessageData(e),this.isSurveyAnnouncement(e)&&(e.showInfoMessageString="false"),e},e.prototype.isPanelAnnouncement=function(e){return e.announcementIncludeInPanel},e.prototype.isSurveyAnnouncement=function(e){var t=this.getAnnouncementType(e);return t===o.AnnouncementType.Nps||t===o.AnnouncementType.CustomSurvey},e.prototype.isPopupAnnouncement=function(e){return e.announcementPositionId&&e.announcementPositionId===n.Enums.AnnouncementPosition.PopUp},e.prototype.isSliderAnnouncement=function(e){return e.announcementPositionId&&e.announcementPositionId>n.Enums.AnnouncementPosition.PopUp},e.prototype.getAnnouncementType=function(e){if(!e.messageData)return o.AnnouncementType.Basic;var t=e.messageData.Type||e.messageData.type,n=Object.keys(o.AnnouncementType).filter((function(e){return e.toString().toLowerCase()===(t||"").toLowerCase()}));if(n.length>0){var i=n[0];return o.AnnouncementType[i]}},e.prototype.normalizeMessageData=function(e){e.messageData&&Object.keys(e.messageData).forEach((function(t){var n=t[0];n===n.toUpperCase()&&(e.messageData[t[0].toLowerCase()+t.substr(1)]=e.messageData[t])}))},e.prototype.isAdvancedDisplayAnnouncement=function(e){return this.isPopupAnnouncement(e)||this.isSliderAnnouncement(e)},e.prototype.getAnnouncementPositionClassFromId=function(e){switch(e){case n.Enums.AnnouncementPosition.SlideBottomCenter:return"bottom-center";case n.Enums.AnnouncementPosition.SlideLeftBottom:return"left-bottom";case n.Enums.AnnouncementPosition.SlideTopLeft:return"top-left";case n.Enums.AnnouncementPosition.SlideTopCenter:return"top-center";case n.Enums.AnnouncementPosition.SlideTopRight:return"top-right";case n.Enums.AnnouncementPosition.SlideBottomLeft:return"bottom-left";case n.Enums.AnnouncementPosition.SlideBottomRight:return"bottom-right";case n.Enums.AnnouncementPosition.SlideLeftTop:return"left-top";case n.Enums.AnnouncementPosition.SlideLeftCenter:return"left-center";case n.Enums.AnnouncementPosition.SlideRightTop:return"right-top";case n.Enums.AnnouncementPosition.SlideRightCenter:return"right-center";case n.Enums.AnnouncementPosition.SlideRightBottom:return"right-bottom";default:return"bottom-center"}},e}();exports.default=i},8521:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(1667),o=t(721),i=function(){function e(e,t,n,o){this.commSvc=e,this.windowSvc=t,this.applicationSvc=n,this.sessionSvc=o,this.lastPageTagPing=null,this.pingInterval=6e4}return Object.defineProperty(e.prototype,"pageTagVersion",{get:function(){return this._pageTagConfig.pageTagVersion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageTags",{get:function(){return this._pageTagConfig?this._pageTagConfig.pageTags:[]},enumerable:!1,configurable:!0}),e.prototype.LoadPageTagConfig=function(e){if(e){if(e.pageTags)for(var t=e.pageTags.length,o=0;o<t;o++){var i=e.pageTags[o];e.pageTags[o]=n.PageTag.FromObject(i)}this._pageTagConfig=e}},e.prototype.AddPageTags=function(e,t){t&&(this._pageTagConfig.pageTags=[]),this._pageTagConfig.pageTags=this._pageTagConfig.pageTags.concat(e)},e.prototype.RefreshPageTagConfig=function(e){this.applicationSvc.isMain&&this._pageTagConfig&&(+this.windowSvc.Date.now()-+this.lastPageTagPing>this.pingInterval||e)&&(this.lastPageTagPing=this.windowSvc.Date.now(),this.commSvc.send(o.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_CheckPageTagConfigVersion,{version:this.pageTagVersion}))},e}();exports.default=i},9322:function(e,exports,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(1667),i=t(721),s=function(){function e(e,t,n){this.commSvc=e,this.sessionSvc=t,this.windowSvc=n,this.isActive=!0,this.isActiveAndReleased=this.sessionSvc.SuccessCenterTrackingReleased&&this.isActive}return Object.defineProperty(e.prototype,"isReleased",{get:function(){return this.sessionSvc.SuccessCenterTrackingReleased},enumerable:!1,configurable:!0}),e.prototype.baseCommMessage=function(e){return{actionId:e,successCenterId:this.sessionSvc.SuccessCenterConfig.successCenterId,actionDate:(new this.windowSvc.Date).toISOString()}},e.prototype.sendMessage=function(e){this.isActiveAndReleased&&this.commSvc.send(o.SocketMessageTypes.SOCKETMESSAGETYPE_SuccessCenterContactSessionAction,e)},e.prototype.sendOpenAction=function(){this.sendMessage(this.baseCommMessage(i.Enums.SuccessCenterContactSessionActionType.CenterOpened))},e.prototype.sendCloseAction=function(){this.sendMessage(this.baseCommMessage(i.Enums.SuccessCenterContactSessionActionType.CenterClosed))},e.prototype.sendScrollAction=function(){this.sendMessage(this.baseCommMessage(i.Enums.SuccessCenterContactSessionActionType.Scroll))},e.prototype.sendClickAction=function(e){var t=n(n({},this.baseCommMessage(i.Enums.SuccessCenterContactSessionActionType.Click)),e);this.sendMessage(t)},e}();exports.default=s},9417:function(e,exports,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var i=t(1667),s=t(3024),r=o(t(7871)),a=t(1667),c=function(){function e(t,n,o,i,s){this.storageSvc=t,this.commSvc=n,this.appSvc=o,this.tenantSvc=i,this.windowSvc=s,this.minimumModuleDurationInSeconds=1,this.maximumModuleDurationInSeconds=33,this.heartbeatInterval=e.heartbeatIntervals.active,this.functionality={panelEnabled:!1,alwaysUseLaunchAvatar:!1,showAccountOwnerSection:!1,hasAccountOwner:!1,onlyShowWhenMessagesExist:!1,headerHtml:null,footerHtml:null,launchAvatarUrl:null},this.accountContent={defaultAnnouncement:null,header:null,footer:null,launchAvatarUrl:null,clickToSeeMoreText:"Click here to see that info again",branding:null,css:null,announcementStyles:null},this.lastHeartbeat=null,this.moduleActivities=new r.default(this.storageSvc,this.windowSvc,e.storageKeys.TimeInAppQueueKey),this.isSilent=!1}return Object.defineProperty(e.prototype,"currentActivity",{get:function(){return this.storageSvc.get(e.storageKeys.TimeInAppCurrentKey,null)},enumerable:!1,configurable:!0}),e.prototype.updateCurrentActivity=function(t){this.storageSvc.set(e.storageKeys.TimeInAppCurrentKey,t)},e.prototype.clearCurrentActivity=function(){this.storageSvc.remove(e.storageKeys.TimeInAppCurrentKey)},e.prototype.SetFunctionality=function(e){this.functionality=e},e.prototype.CurrentFunctionality=function(){return this.functionality},e.prototype.triggerHeartbeat=function(e){if(!this.ShouldPreventUsageSends&&+this.windowSvc.Date.now()-+this.lastHeartbeat>this.heartbeatInterval){this.lastHeartbeat=this.windowSvc.Date.now();var t={title:this.windowSvc.title(),location:this.windowSvc.href()};if(this.commSvc.send(i.SocketMessageTypes.SOCKETMESSAGETYPE_IS_ACTIVE,this.commSvc.urlTracking?t:null),e){var n=this.popModuleActivities();n&&n.length>0&&this.commSvc.send(i.SocketMessageTypes.SOCKETMESSAGETYPE_TIME_IN_APP,n)}}},e.prototype.changeHeartbeatInterval=function(e){this.heartbeatInterval!==e&&(this.heartbeatInterval=e,this.lastHeartbeat=0)},Object.defineProperty(e.prototype,"LaunchAvatarUrl",{get:function(){var e;return(e=!this.PanelEnabled&&this.DevlessPanelEnabled?"img/ch0-icon-light-32x32.png":this.AlwaysUseLaunchAvatar||!this.HasAccountOwner||0===(this.AccountOwnerAvatarUrl||"").length?this.accountContent.launchAvatarUrl:this.AccountOwnerAvatarUrl)||(e="img/info.png"),this.appSvc.addCdn(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"AccountOwnerAvatarUrl",{get:function(){var e=this.tenantSvc.accountOwner;return e&&e.avatarUrl?this.appSvc.addCdn(e.avatarUrl):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"PanelEnabled",{get:function(){return this.getBoolFuncFlag("panelEnabled")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DevlessPanelEnabled",{get:function(){return this.getBoolFuncFlag("devlessEnabled")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ShouldPreventUsageSends",{get:function(){return this.getBoolFuncFlag("devlessEnabled")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ShowAccountOwner",{get:function(){return this.getBoolFuncFlag("showAccountOwnerSection")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"AlwaysUseLaunchAvatar",{get:function(){return this.getBoolFuncFlag("alwaysUseLaunchAvatar")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HasAccountOwner",{get:function(){return this.getBoolFuncFlag("hasAccountOwner")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"OnlyShowWhenMessagesExist",{get:function(){return this.getBoolFuncFlag("onlyShowWhenMessagesExist")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SuccessCenterTrackingReleased",{get:function(){return this.tenantSvc.FeatureEnabled("successCenterTrackingReleased")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"PanelPosition",{get:function(){return this.functionality.panelPosition},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"AvatarType",{get:function(){return this.functionality.avatarType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"LaunchIconPositionOffsetVertical",{get:function(){return this.functionality.launchIconPositionOffsetVertical},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"LaunchIconPositionOffsetHorizontal",{get:function(){return this.functionality.launchIconPositionOffsetHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"LaunchIconPositionId",{get:function(){return this.functionality.launchIconPositionId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SuccessCenterEnabled",{get:function(){var e;return this.tenantSvc.FeatureEnabled(s.ReleaseGates.SuccessCentersReleased)&&this.tenantSvc.FeatureEnabled(s.FeatureFlags.SuccessCentersEnabled)&&!!(null===(e=this.successCenterConfig)||void 0===e?void 0:e.successCenterId)},enumerable:!1,configurable:!0}),e.prototype.SetAccountContent=function(e){if(this.accountContent={defaultAnnouncement:e.defaultAnnouncementContent,header:e.headerHtml,footer:e.footerHtml,launchAvatarUrl:e.launchAvatarUrl,css:e.css,devlessCss:null==e?void 0:e.devlessCss,clickToSeeMoreText:e.clickToSeeMoreText,branding:null,announcementStyles:new i.AnnouncementStyleConfig},e.branding&&e.branding.trim().length>0)try{var t=this.windowSvc.JSON.parse(e.branding);this.accountContent.branding=i.CoreUtils.extend(this.accountContent.branding,t)}catch(e){}var o=this.windowSvc.coder().decode(e.announcementStyles||"{}"),s=n(n({},a.CZ_DEFAULT_ANNOUNCEMENT_STYLE_CONFIG),o);this.accountContent.announcementStyles=i.ModelUtils.create(new i.AnnouncementStyleConfig,s)},Object.defineProperty(e.prototype,"CurrentAccountContent",{get:function(){return this.accountContent},enumerable:!1,configurable:!0}),e.prototype.SetModule=function(e){if(this.CurrentModule!==e||!this.currentActivity){var t=(new this.windowSvc.Date).toISOString();this.currentActivity&&this.endCurrentActivity(t),this.CurrentModule=e,this.startNewActivity(t)}},e.prototype.SetModuleActivityActive=function(){this.SetModule(this.CurrentModule),this.changeHeartbeatInterval(e.heartbeatIntervals.active)},e.prototype.SetModuleActivityInactive=function(){this.currentActivity&&this.endCurrentActivity((new this.windowSvc.Date).toISOString())},e.prototype.SetLastDigestTimestamp=function(){this.lastDigestTimeStamp=this.windowSvc.Date.now()},e.prototype.SetSilent=function(e){this.isSilent=e},Object.defineProperty(e.prototype,"IsSilent",{get:function(){return this.isSilent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CurrentAdminUserAccount",{get:function(){return this.adminUserAccount},set:function(e){this.adminUserAccount=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsDevlessPanelOpen",{get:function(){return this.storageSvc.get(e.storageKeys.DevlessPanelKey,!1)},set:function(t){this.storageSvc.set(e.storageKeys.DevlessPanelKey,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SuccessCenterConfig",{get:function(){return this.successCenterConfig},enumerable:!1,configurable:!0}),e.prototype.SetSuccessCenterConfig=function(e){var t;this.successCenterConfig=e,this.successCenterConfig&&(this.successCenterConfig.unreadCounts=(null===(t=this.successCenterConfig)||void 0===t?void 0:t.unreadCounts)||{})},e.prototype.getBoolFuncFlag=function(e){return this.functionality[e]||!1},e.prototype.startNewActivity=function(e){var t={module:this.CurrentModule,startDate:e,location:null,title:null,endDate:null,duration:null};this.commSvc.urlTracking&&(t.location=this.windowSvc.href(),t.title=this.windowSvc.title()),this.updateCurrentActivity(t)},e.prototype.endCurrentActivity=function(t){var n=this.currentActivity;if(null!==n){if(n.module=n.module||e.defaultModule,n.endDate=t,n.duration=(new this.windowSvc.Date(n.endDate)-new this.windowSvc.Date(n.startDate))/1e3,this.lastDigestTimeStamp&&n.duration>this.maximumModuleDurationInSeconds){var o=(new this.windowSvc.Date(this.lastDigestTimeStamp)-new this.windowSvc.Date(n.startDate))/1e3;n.duration=o}n.duration>=this.minimumModuleDurationInSeconds&&this.moduleActivities.push(n),this.clearCurrentActivity()}},e.prototype.popModuleActivities=function(){var e=(new this.windowSvc.Date).toISOString(),t=!1;this.currentActivity&&(this.CurrentModule||(this.CurrentModule=this.currentActivity.module),this.endCurrentActivity(e),t=!0);for(var n=this.moduleActivities.length,o=[];n;){var i=this.moduleActivities.shift();null!=i&&o.push(i),n--}return this.moduleActivities.empty(),t&&this.startNewActivity(e),o},e.heartbeatIntervals={active:3e4,inActive:3e5},e.storageKeys={TimeInAppCurrentKey:"CZ_TIME_IN_APP_CURRENT_KEY",TimeInAppQueueKey:"CZ_TIME_IN_APP_QUEUE_KEY",DevlessPanelKey:"CZ_CONTENT_PANEL_OPEN_KEY"},e.defaultModule="Default",e}();exports.default=c},6085:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function e(e){this.storageRepo=e}return e.prototype.set=function(e,t){this.storageRepo.set(e,t)},e.prototype.get=function(e,t){return this.storageRepo.get(e,t)},e.prototype.remove=function(e){this.storageRepo.remove(e)},e.prototype.encode=function(e){return this.storageRepo.encode(e)},e}();exports.default=t},3024:function(e,exports,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReleaseGates=exports.FeatureFlags=void 0;var o,i,s=t(1667);!function(e){e.PageTags="pageTaggingEnabled",e.Walkthroughs="walkthroughsEnabled",e.SuccessPanelAvatarPositionEnabled="successPanelAvatarPositionEnabled",e.SuccessCentersEnabled="successCentersEnabled"}(o=exports.FeatureFlags||(exports.FeatureFlags={})),function(e){e.JourneyChecklistReleased="journeyChecklistReleased",e.JourneyChecklistPhaseTwoReleased="journeyChecklistPhaseTwoReleased",e.SuccessCentersReleased="successCentersReleased",e.DevlessPreviousWalkthroughStepReleased="devlessPreviousWalkthroughStepReleased"}(i=exports.ReleaseGates||(exports.ReleaseGates={}));var r=function(){function e(e){this.storageSvc=e,this._uiFontFamilyMapping=[],this.GOOGLE_CSS2_REQUEST_BASE="https://fonts.googleapis.com/css2",this.featureFlags={},this._accountOwner=null,this._tenantId=null,this.resetContact(),this._pageTagConfig={pageTags:[],pageTagVersion:"-1"},this.featureFlags={},this.featureFlags[o.PageTags]=!1,this.featureFlags[o.Walkthroughs]=!1,this.featureFlags[o.SuccessCentersEnabled]=!1,this.featureFlags[i.JourneyChecklistReleased]=!1,this.featureFlags[i.JourneyChecklistPhaseTwoReleased]=!1,this.featureFlags[i.SuccessCentersReleased]=!1}return e.prototype.setTenantId=function(e){this._tenantId=e},e.prototype.currentTenantId=function(){return this._tenantId},Object.defineProperty(e.prototype,"accountOwner",{get:function(){return this._accountOwner},enumerable:!1,configurable:!0}),e.prototype.setAccountOwner=function(t){this._accountOwner=t,this.storageSvc.remove(e.storageKeys.UserAccount)},Object.defineProperty(e.prototype,"contact",{get:function(){return this._contact},enumerable:!1,configurable:!0}),e.prototype.SetContact=function(e){this._contact=e},e.prototype.SetUIFontFamilyMapping=function(e){this._uiFontFamilyMapping=e},e.prototype.buildUIFontFamilyCssRequestUrlFromConfig=function(e){if(!e)return null;var t=e.uiFontFamilyIds||[];if(e.fontFamilyId&&"number"==typeof e.fontFamilyId&&t.push(e.fontFamilyId),e.fontFamily){var n=this.getUIFontFamilyMappingId(e.fontFamily);n&&t.push(n)}var o=this.getUIFontFamilyMappingId(e.ctaFontFamily);return o&&t.push(o),this.buildUIFontFamilyCssRequestUrl(t)},e.prototype.buildUIFontFamilyCssRequestUrl=function(e){for(var t=e||[],n=[],o=t.length,i=function(e){var o=t[e],i=s._uiFontFamilyMapping.filter((function(e){return e.id===o})),r=i.length>0?i[0]:null;r&&r.queryPart&&n.push(r.queryPart)},s=this,r=0;r<o;r++)i(r);return n.length>0?"".concat(this.GOOGLE_CSS2_REQUEST_BASE,"?").concat(n.join("&"),"&display=swap"):null},e.prototype.getUIFontFamilyMappingId=function(e){if(s.CoreUtils.isNullOrUndefined(e))return null;if("number"==typeof e)return e;var t=e.replace(/"/g,""),n=t.indexOf(","),o=t.substr(0,n),i=this._uiFontFamilyMapping.filter((function(e){return e.family.toUpperCase()===o.toUpperCase()}));return i.length>0?i[0].id:null},e.prototype.getUIFontFamilyMappingDisplayValue=function(e){if("string"==typeof e)return e;var t=this._uiFontFamilyMapping.filter((function(t){return t.id===e}));return t.length>0?t[0].styleValue:""},e.prototype.getFullUIFontFamilyCssRequestUrl=function(){var e=this._uiFontFamilyMapping.map((function(e){return e.queryPart}));return 0===e.length?null:"".concat(this.GOOGLE_CSS2_REQUEST_BASE,"?").concat(e.join("&"),"&display=swap")},e.prototype.resetContact=function(){this._contact={id:null},this.storageSvc.remove(e.storageKeys.Contact)},e.prototype.FeatureEnabled=function(e){try{return!!this.featureFlags[e]}catch(e){return!1}},e.prototype.setFeatureFlags=function(e){this.featureFlags=n({},e)},e.prototype.getFeatureFlags=function(){return this.featureFlags},e.storageKeys={Contact:"CONTACT_KEY",UserAccount:"USERACCOUNT_KEY"},e}();exports.default=r},8998:function(e,exports,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(721),i=t(1667),s=function(){function e(e,t,n,o){this.commSvc=e,this.windowSvc=t,this.applicationSvc=n,this.sessionSvc=o,this.lastWalkthroughPing=null,this.pingInterval=3e4,this._walkthroughConfig={items:[],version:"-1",properties:{}}}return Object.defineProperty(e.prototype,"walkthroughsVersion",{get:function(){return this._walkthroughConfig.version},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"walkthroughs",{get:function(){return this._walkthroughConfig.items},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"walkthroughStyleConfig",{get:function(){return this._globalWalkthroughStyleConfig||n({},i.CZ_DEFAULT_STYLE_CONFIG)},enumerable:!1,configurable:!0}),e.prototype.RefreshWalkthroughConfig=function(e){if(this.applicationSvc.isMain&&(+this.windowSvc.Date.now()-+this.lastWalkthroughPing>this.pingInterval||e)){this.lastWalkthroughPing=this.windowSvc.Date.now();var t={version:this.walkthroughsVersion};this.commSvc.send(o.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_CheckWalkthroughConfigVersion,t)}},e.prototype.LoadWalkthroughConfig=function(e){if(e){var t=e.properties;if(null==t?void 0:t.styleConfigsEnabled){var o=i.ModelUtils.create(new i.WalkthroughStyleConfig,JSON.parse(t.globalStyleConfigJson||"{}"));this._globalWalkthroughStyleConfig=n(n({},i.CZ_DEFAULT_STYLE_CONFIG),o)}for(var s=0;s<e.items.length;s++)e.items[s]&&(e.items[s]=i.Walkthrough.fromObject(e.items[s]),(null==t?void 0:t.styleConfigsEnabled)&&this.hydateStepStyleConfigs(this._globalWalkthroughStyleConfig,e.items[s]));this._walkthroughConfig=e,this.lastWalkthroughPing||(this.lastWalkthroughPing=this.windowSvc.Date.now())}},e.prototype.hydateStepStyleConfigs=function(e,t){for(var o=t.steps,i=o.length,s=0;s<i;s++){var r=o[s],a=n(n(n({},e),t.styleConfig),r.styleConfig);r.styleConfig=a}},e.prototype.AddWalkthroughs=function(e,t){var n,o=Array.isArray(null===(n=this._walkthroughConfig)||void 0===n?void 0:n.items);!t&&o||(this._walkthroughConfig.items=[]),this._walkthroughConfig.items=this._walkthroughConfig.items.concat(e)},e.prototype.GetClickWalkthroughs=function(){var e;return Array.isArray(null===(e=this._walkthroughConfig)||void 0===e?void 0:e.items)?this._walkthroughConfig.items.filter((function(e){return!e.disabled&&e.triggerTypeId===i.WalkthroughTriggerType.Click})):[]},e.prototype.GetPageVisitWalkthroughs=function(){var e;return Array.isArray(null===(e=this._walkthroughConfig)||void 0===e?void 0:e.items)?this._walkthroughConfig.items.filter((function(e){return!e.disabled&&e.triggerTypeId===i.WalkthroughTriggerType.PageVisit})):[]},e.prototype.GetAnchorWalkthroughs=function(){var e;return Array.isArray(null===(e=this._walkthroughConfig)||void 0===e?void 0:e.items)?this._walkthroughConfig.items.filter((function(e){return!e.disabled&&e.triggerTypeId===i.WalkthroughTriggerType.Anchor})):[]},e.prototype.SendActionMessage=function(e,t,n){if(t&&t>0){var i={actionId:e,actionDate:(new this.windowSvc.Date).toISOString(),walkthroughId:t,walkthroughStepId:n};if(this.sessionSvc.ShouldPreventUsageSends)return;var s=e===o.Enums.WalkthroughActionType.WalkthroughStarted;this.commSvc.send(o.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_WalkthroughAction,i,s)}},e}();exports.default=s},263:function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(2838),i=t(1667),s=n(t(7795)),r=function(){function e(e,t){void 0===t&&(t=!1),this.useWindowsObjects=t,this.eventNamespace="czEvent",this.onCleanRoomUnload=[],this._czHost="https://analytics.churnzero.net/",this._origins=[],this._nativeDateAcceptable=!1,this._nativeXHRAcceptable=!1,this._nativeJSONAcceptable=!1,this._nativeAddEventListenerAcceptable=!1,this._window=e,this._nativeJSONAcceptable=this.isNativeJSONAcceptable(),this._nativeDateAcceptable=this.isNativeDateAcceptable(),this._nativeXHRAcceptable=this.isNativeXHRAcceptable(),this._nativeAddEventListenerAcceptable=this.isNativeAddEventListenerAcceptable(),this.errorLogger=new s.default(this.socketServerApiUrl,this.coder()),this.XMLHttpRequestReference=this.XMLHttpRequestReference.bind(this)}return e.prototype.addCleanRoomUnload=function(e){this.onCleanRoomUnload.push(e)},Object.defineProperty(e.prototype,"czHost",{get:function(){return this._czHost},set:function(e){this._czHost=e,this._clientSideUrls=this.buildClientSideUrlsFromSetHost(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientSideUrls",{get:function(){return this._clientSideUrls||(this._clientSideUrls=this.parseClientSideUrls()),this._clientSideUrls},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"socketServerApiUrl",{get:function(){return this.clientSideUrls.baseApiUrl+"api/v1/sockets/"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cdnUrl",{get:function(){return this.clientSideUrls.baseApiUrl+"external/"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"JSON",{get:function(){if(!this._json)try{if(this._json=this.getOriginalJson(),i.CoreUtils.isNullOrUndefined(this._json))throw new Error("windowSvc JSON getter: this._json is falsy")}catch(e){if(this._nativeJSONAcceptable)return this.window.JSON;throw e}return this._json},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Date",{get:function(){if(!this._date)try{this._date=this.getOriginalDate()}catch(e){if(this._nativeDateAcceptable)return this._window.Date;throw e}return this._date},enumerable:!1,configurable:!0}),e.prototype.createElement=function(e,t){try{return this.isPrototypeJSLoaded()?this.document.createElement(e,t):this.originalObjectIframe.contentWindow.document.createElement(e,t)}catch(n){if(this._nativeAddEventListenerAcceptable)return this.document.createElement(e,t);throw n}},Object.defineProperty(e.prototype,"czq",{get:function(){return void 0===this._czq&&(this._czq=o),this._czq},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ChurnZero",{get:function(){return this.window.ChurnZero},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"originalObjectIframe",{get:function(){var e=this;if(this.useWindowsObjects)return{contentWindow:window};var t=!0;if(this._originalObjectIFrame&&void 0!==this._originalObjectIFrame.isConnected&&(t=this._originalObjectIFrame.isConnected),!this._originalObjectIFrame||!t){var n="cz-clean-room",o=this.window.document.getElementById(n);if(o&&t)this._originalObjectIFrame=o;else{var i=this.window.document.createElement("iframe");i.id=n,i.src="about:blank",i.style.display="none",i.height=i.width="0",i.onload=function(t){t.target.contentDocument.defaultView.onunload=function(){e._originalObjectIFrame=null;for(var t=0;t<e.onCleanRoomUnload.length;t++)try{e.onCleanRoomUnload[t]()}catch(e){}}};var s=this.window.document.getElementsByTagName("body");0===s.length&&(s=this.window.document.getElementsByTagName("head")),0===s.length&&(s=this.window.document.getElementsByTagName("html")),s.length>0&&s[0].appendChild(i),this._originalObjectIFrame=i}}return this._originalObjectIFrame},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"elementCache",{get:function(){return void 0===this._elementCache&&(this._elementCache=this.buildElementCache()),this._elementCache},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return this._window},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this._document||(this._document=this._window.document),this._window.document},enumerable:!1,configurable:!0}),e.prototype.getBodyElement=function(){return this._body||(this._body=this._window.document.querySelector("body")),this._body},e.prototype.getHeadElement=function(){return this._head||(this._head=this._window.document.querySelector("head")),this._head},e.prototype.getDocument=function(){return this._document||(this._document=this._window.document),this._window.document},e.prototype.getWindow=function(){return this._window},e.prototype.hostName=function(){return this.window.location.hostname},e.prototype.title=function(){return this.window.document.title},e.prototype.href=function(){try{return this.window.location.href}catch(e){return""}},e.prototype.coder=function(){var e=this.JSON;return{encode:e.stringify,decode:e.parse}},e.prototype.XMLHttpRequestReference=function(){try{return this.getOriginalXMLHttpRequest()}catch(e){if(this._nativeXHRAcceptable)return this._window.XMLHttpRequest;throw e}},e.prototype.isSupportedBrowser=function(){return!i.CoreUtils.FeatureDetection.isLegacyIE()&&(!this.isLegacyFirefox()&&(!this.isBotUserAgent()&&(!this.isBrowserCaptureUserAgent()&&(!!this.supportsISOStringParsing()&&!!this.supportsClassList()))))},e.prototype.isAcceptableLocation=function(t){var n=this.href(),o=e.defaultUnacceptableLocations;Array.isArray(t)&&(o=o.concat(t));for(var i=0;i<o.length;i++)if(-1!==n.indexOf(o[i]))return!1;return!0},e.prototype.CheckPageTagAgainstCurrentLocation=function(e){var t=i.CoreUtils.Urls.buildRegexFromLocationParts(e.location,i.LocationOptions.fromJson(e.locationOptionsJson)),n=new RegExp(t);return!!this.href().match(n)},Object.defineProperty(e.prototype,"origins",{get:function(){return this._origins&&0!==this._origins.length||(this._origins=[this.window.location.origin]),this._origins},set:function(e){this._origins=e},enumerable:!1,configurable:!0}),e.prototype.addOrigin=function(e){-1===this.origins.indexOf(e)&&(this.origins=this.origins.concat([e]))},e.prototype.wasDisposed=function(){var e=this._window.ChurnZero;return!e||"ChurnZeroApp"!==e.name},e.prototype.namespaceEvent=function(e){"string"==typeof e&&(e=[e]);for(var t=0;t<e.length;t++)e[t]="".concat(e[t].trim(),".").concat(this.eventNamespace);return e.join(" ")},e.prototype.removeNamespacedEvents=function(){var e=".".concat(this.eventNamespace);this.elementCache.body.off(e),this.elementCache.document.off(e),this.elementCache.window.off(e)},e.prototype.buildSelector=function(e){var t=this.href(),n=i.CoreUtils.buildFullDomSelector(e);return{page:t,selector:n,full:t+" | "+n}},e.prototype.isVisible=function(e,t,n,o){if(e.length<1)return!1;var i=e.length>1?e.eq(0):e,s=this.elementCache.window,r=s.width(),a=s.height(),c=!0!==n||e.offsetWidth*e.offsetHeight;if(o=o||"both","function"==typeof e.getBoundingClientRect){var l=e.getBoundingClientRect(),u=l.top>=0&&l.top<a,h=l.bottom>0&&l.bottom<=a,d=l.left>=0&&l.left<r,p=l.right>0&&l.right<=r,f=t?u||h:u&&h,m=t?d||p:d&&p;if("both"===o)return c>0&&f&&m;if("vertical"===o)return c>0&&f;if("horizontal"===o)return c>0&&m}else{var g=s.scrollTop(),v=g+a,y=s.scrollLeft(),S=y+r,C=i.offset(),b=C.top,w=b+i.height(),E=C.left,T=E+i.width(),A=!0===t?w:b,P=!0===t?b:w,k=!0===t?T:E,_=!0===t?E:T;if("both"===o)return!!c&&P<=v&&A>=g&&_<=S&&k>=y;if("vertical"===o)return!!c&&P<=v&&A>=g;if("horizontal"===o)return!!c&&_<=S&&k>=y}},e.prototype.centerElementOnScreen=function(e){if(null!=e){var t=this.document.querySelector("body");if(t){var n=t.clientHeight/2-e.clientHeight/4,o=t.clientWidth/2-e.clientWidth/4;e.style.position="fixed",e.style.margin=0,e.style.top=(n>0?n:0)+"px",e.style.left=(o>0?o:0)+"px"}}},e.prototype.offset=function(e){var t=this.window,n=e.getBoundingClientRect(),o=t.pageXOffset||this.document.documentElement.scrollLeft,i=t.pageYOffset||this.document.documentElement.scrollTop;return{top:n.top+i,left:n.left+o}},e.prototype.findElement=function(e){var t,n;if("string"==typeof e){if(!((n=this.czq(e)).length>0))return;t=n}else t=this.czq(e);return t},e.prototype.parseClientSideUrls=function(){var e=this._czHost;return e&&0!==(e||"").trim().length||(e=this.getChurnZeroScriptSrc(this.document)),this.buildClientSideUrls(e)},e.prototype.openWindow=function(e){return this.window.open(e,"_blank")},e.prototype.escapeObjectForDom=function(e){return btoa(this.JSON.stringify(e))},e.prototype.unescapeObjectFromDom=function(e){return this.JSON.parse(atob(e))},e.prototype.clone=function(e){return this.JSON.parse(this.JSON.stringify(e))},e.prototype.supportsISOStringParsing=function(){try{return!isNaN(new this.Date((new this.Date).toISOString()).getTime())}catch(e){return!1}},e.prototype.isBrowserCaptureUserAgent=function(){try{return-1!==navigator.userAgent.indexOf("wkhtmlto")}catch(e){return!1}},e.prototype.isBotUserAgent=function(){try{return-1!==navigator.userAgent.indexOf("yandex")}catch(e){return!1}},e.prototype.isLegacyFirefox=function(){try{var e=(navigator.userAgent||"").toLowerCase(),t="firefox/",n=e.indexOf(t);if(-1!==n){var o=n+t.length,i=e.substring(o);if(parseInt(i,10)<62)return!0}return!1}catch(e){return!1}},e.prototype.isPrototypeJSLoaded=function(){return window&&window.Prototype&&window.Prototype.Version},e.prototype.supportsClassList=function(){try{this.document.createElement("div").classList.add("cz-hidden")}catch(e){return!1}return!0},e.prototype.buildElementCache=function(){var e=this.czq("body");return 0===e.length&&(e=this.czq("html")),{window:this.czq(window),document:this.czq(document),head:this.czq("head"),body:e}},e.prototype.getOriginalJson=function(){var e=this.originalObjectIframe.contentWindow.JSON;if(this.isPrototypeJSLoaded()){var t=e.stringify;e.stringify=function(e){var n,o;return e.toJSON&&(o=e.toJSON,e.toJSON=void 0),n=t.apply(this,arguments),o&&(e.toJSON=o),n}}return e},e.prototype.getOriginalDate=function(){return this.originalObjectIframe.contentWindow.Date},e.prototype.getOriginalXMLHttpRequest=function(){return this.originalObjectIframe.contentWindow.XMLHttpRequest},e.prototype.getChurnZeroScriptSrc=function(e){var t=e.querySelector("script[src*='churnzero.js']");if(t){var n=t.getAttribute("src");if(n)return n=n.substring(0,n.lastIndexOf("/")+1)}return""},e.prototype.buildClientSideUrls=function(e){var t=i.CoreUtils.Urls.parseUrlString(e),n="https:";return t.host.indexOf("localhost:53157")>=0?n="https://analytics.localhost:53157/":t.host.indexOf("lvh.me:53157")>=0?n="https://lvh.me:53157/":t.host.indexOf("apptest.churnzerolabs.com")>=0||t.host.indexOf("analyticstest.churnzerolabs.com")>=0?n+="//analyticstest.churnzerolabs.com/":t.host.indexOf("appstaging.churnzerolabs.com")>=0?n+="//appstaging.churnzerolabs.com/":t.host.indexOf("appbranch01.churnzerolabs.com")>=0?n+="//appbranch01.churnzerolabs.com/":t.host.indexOf("eu1analytics.churnzero.net")>=0?n+="//eu1analytics.churnzero.net/":n+="//analytics.churnzero.net/",{scriptSrc:e,baseApiUrl:n,environment:"",sockets:n+"api/v1/sockets/",cdn:n+"external/"}},e.prototype.buildClientSideUrlsFromSetHost=function(e){var t="https://"+i.CoreUtils.Urls.parseUrlString(e).host+"/";return{scriptSrc:e,baseApiUrl:t,environment:"",sockets:t+"api/v1/sockets/",cdn:t+"external/"}},e.prototype.isNativeFunction=function(e){try{return/\{\s+\[native code\]/.test(Function.prototype.toString.call(e))}catch(e){return!1}},e.prototype.isNativeDateAcceptable=function(){try{if(this.isNativeFunction(this._window.Date)&&this.isNativeFunction(this._window.Date.now)&&this.isNativeFunction(this._window.Date.toString)&&this.isNativeFunction((new this._window.Date).toISOString))return!0}catch(e){}return!1},e.prototype.isNativeXHRAcceptable=function(){try{if(this.isNativeFunction(this._window.XMLHttpRequest)){var e=new this._window.XMLHttpRequest;if(this.isNativeFunction(e.open)&&this.isNativeFunction(e.send)&&this.isNativeFunction(e.setRequestHeader))return!0}}catch(e){}return!1},e.prototype.isNativeJSONAcceptable=function(){try{var e=this._window;if("[object JSON]"===Object.prototype.toString.call(e.JSON)){var t=e.JSON;if(this.isNativeFunction(t.stringify)&&this.isNativeFunction(t.parse))return!0}}catch(e){}return!1},e.prototype.isNativeAddEventListenerAcceptable=function(){try{var e=this.document;if(this.isNativeFunction(e.createElement)){var t=e.createElement("link");if(this.isNativeFunction(t.addEventListener))return!0}}catch(e){}return!1},e.defaultUnacceptableLocations=[],e}();exports.default=r},3753:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DOMUtils=void 0;var t=function(){function e(){}return e.hasCollision=function(e,t){return!(e.y+e.height<t.y||e.y>t.y+t.height||e.x+e.width<t.x||e.x>t.x+t.width)},e.isFeatureSupported=function(e,t){return t in e},e}();exports.DOMUtils=t},1032:function(e,exports,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FrameCommUtil=void 0;var o=t(1667),i=function(){function e(){}return e.setUpLinkAuditEvents=function(t,o){t.document.addEventListener("click",(function(i){if(o&&i.target){var s=!1,r=i.target;for(r.classList&&r.classList.contains("fr-video")&&(s=!0);!s&&null!==r&&1===r.nodeType;)"a"===r.nodeName.toLowerCase()?s=!0:r=r.parentElement;if(s){var a=n({},o);"a"===r.nodeName.toLowerCase()&&(a.data=n(n({},o.data),{props:{href:r.getAttribute("href")}})),e.postEncryptedMessage(t.parent,a)}}}))},e.setUpVideoAuditEvents=function(t,o){var i=t.document,s=!1;i.addEventListener("mouseenter",(function(e){var t=e.target;t&&t.classList&&t.classList.contains("fr-video")&&(s=!0)}),!0),i.addEventListener("mouseleave",(function(e){var t=e.target;t&&t.classList&&t.classList.contains("fr-video")&&(s=!1)}),!0),t.addEventListener("blur",(function(i){o&&s&&e.postEncryptedMessage(t.parent,n({},o))})),t.addEventListener("message",(function(t){if(s){var i=t.data,r=t.source,a=t.origin;if("string"==typeof i&&"czcodeblur"===i.toLowerCase()){var c=r;e.postEncryptedMessage(c,n({},o),a)}}}))},e.postEncryptedMessage=function(e,t,n){var i=o.iFrameUtils.encrypt(JSON.stringify(t));e.postMessage(i,n||"*")},e}();exports.FrameCommUtil=i},2838:function(e){!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";var n=[],o=Object.getPrototypeOf,i=n.slice,s=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},r=n.push,a=n.indexOf,c={},l=c.toString,u=c.hasOwnProperty,h=u.toString,d=h.call(Object),p={},f=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},m=function(e){return null!=e&&e===e.window},g=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var o,i,s=(n=n||g).createElement("script");if(s.text=e,t)for(o in v)(i=t[o]||t.getAttribute&&t.getAttribute(o))&&s.setAttribute(o,i);n.head.appendChild(s).parentNode.removeChild(s)}function S(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[l.call(e)]||"object":typeof e}var C="3.5.1",b=function(e,t){return new b.fn.init(e,t)};function w(e){var t=!!e&&"length"in e&&e.length,n=S(e);return!f(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}b.fn=b.prototype={jquery:C,constructor:b,length:0,toArray:function(){return i.call(this)},get:function(e){return null==e?i.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return b.each(this,e)},map:function(e){return this.pushStack(b.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(b.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:n.sort,splice:n.splice},b.extend=b.fn.extend=function(){var e,t,n,o,i,s,r=arguments[0]||{},a=1,c=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[a]||{},a++),"object"==typeof r||f(r)||(r={}),a===c&&(r=this,a--);a<c;a++)if(null!=(e=arguments[a]))for(t in e)o=e[t],"__proto__"!==t&&r!==o&&(l&&o&&(b.isPlainObject(o)||(i=Array.isArray(o)))?(n=r[t],s=i&&!Array.isArray(n)?[]:i||b.isPlainObject(n)?n:{},i=!1,r[t]=b.extend(l,s,o)):void 0!==o&&(r[t]=o));return r},b.extend({expando:"jQuery"+(C+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==l.call(e))&&(!(t=o(e))||"function"==typeof(n=u.call(t,"constructor")&&t.constructor)&&h.call(n)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){y(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,o=0;if(w(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?b.merge(n,"string"==typeof e?[e]:e):r.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,i=e.length;o<n;o++)e[i++]=t[o];return e.length=i,e},grep:function(e,t,n){for(var o=[],i=0,s=e.length,r=!n;i<s;i++)!t(e[i],i)!==r&&o.push(e[i]);return o},map:function(e,t,n){var o,i,r=0,a=[];if(w(e))for(o=e.length;r<o;r++)null!=(i=t(e[r],r,n))&&a.push(i);else for(r in e)null!=(i=t(e[r],r,n))&&a.push(i);return s(a)},guid:1,support:p}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=n[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){c["[object "+t+"]"]=t.toLowerCase()}));var E=function(e){var t,n,o,i,s,r,a,c,l,u,h,d,p,f,m,g,v,y,S,C="sizzle"+1*new Date,b=e.document,w=0,E=0,T=le(),A=le(),P=le(),k=le(),_=function(e,t){return e===t&&(h=!0),0},I={}.hasOwnProperty,L=[],x=L.pop,O=L.push,F=L.push,M=L.slice,D=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",U="(?:\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",z="\\["+N+"*("+U+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+N+"*\\]",H=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",W=new RegExp(N+"+","g"),B=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),j=new RegExp("^"+N+"*,"+N+"*"),K=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),G=new RegExp(N+"|>"),q=new RegExp(H),V=new RegExp("^"+U+"$"),Y={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},J=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,ee=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,te=/[+~]/,ne=new RegExp("\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\([^\\r\\n\\f])","g"),oe=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,se=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){d()},ae=be((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{F.apply(L=M.call(b.childNodes),b.childNodes),L[b.childNodes.length].nodeType}catch(e){F={apply:L.length?function(e,t){O.apply(e,M.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}function ce(e,t,o,i){var s,a,l,u,h,f,v,y=t&&t.ownerDocument,b=t?t.nodeType:9;if(o=o||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return o;if(!i&&(d(t),t=t||p,m)){if(11!==b&&(h=ee.exec(e)))if(s=h[1]){if(9===b){if(!(l=t.getElementById(s)))return o;if(l.id===s)return o.push(l),o}else if(y&&(l=y.getElementById(s))&&S(t,l)&&l.id===s)return o.push(l),o}else{if(h[2])return F.apply(o,t.getElementsByTagName(e)),o;if((s=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return F.apply(o,t.getElementsByClassName(s)),o}if(n.qsa&&!k[e+" "]&&(!g||!g.test(e))&&(1!==b||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===b&&(G.test(e)||K.test(e))){for((y=te.test(e)&&ye(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(ie,se):t.setAttribute("id",u=C)),a=(f=r(e)).length;a--;)f[a]=(u?"#"+u:":scope")+" "+Ce(f[a]);v=f.join(",")}try{return F.apply(o,y.querySelectorAll(v)),o}catch(t){k(e,!0)}finally{u===C&&t.removeAttribute("id")}}}return c(e.replace(B,"$1"),t,o,i)}function le(){var e=[];return function t(n,i){return e.push(n+" ")>o.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ue(e){return e[C]=!0,e}function he(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),i=n.length;i--;)o.attrHandle[n[i]]=t}function pe(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function me(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ve(e){return ue((function(t){return t=+t,ue((function(n,o){for(var i,s=e([],n.length,t),r=s.length;r--;)n[i=s[r]]&&(n[i]=!(o[i]=n[i]))}))}))}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ce.support={},s=ce.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!J.test(t||n&&n.nodeName||"HTML")},d=ce.setDocument=function(e){var t,i,r=e?e.ownerDocument||e:b;return r!=p&&9===r.nodeType&&r.documentElement?(f=(p=r).documentElement,m=!s(p),b!=p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.scope=he((function(e){return f.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=he((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=he((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=he((function(e){return f.appendChild(e).id=C,!p.getElementsByName||!p.getElementsByName(C).length})),n.getById?(o.filter.ID=function(e){var t=e.replace(ne,oe);return function(e){return e.getAttribute("id")===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(o.filter.ID=function(e){var t=e.replace(ne,oe);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,o,i,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(i=t.getElementsByName(e),o=0;s=i[o++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),o.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],i=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[i++];)1===n.nodeType&&o.push(n);return o}return s},o.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=Q.test(p.querySelectorAll))&&(he((function(e){var t;f.appendChild(e).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+N+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+C+"-]").length||g.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+N+"*name"+N+"*="+N+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+C+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),he((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+N+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Q.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&he((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",H)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(f.compareDocumentPosition),S=t||Q.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},_=t?function(e,t){if(e===t)return h=!0,0;var o=!e.compareDocumentPosition-!t.compareDocumentPosition;return o||(1&(o=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===o?e==p||e.ownerDocument==b&&S(b,e)?-1:t==p||t.ownerDocument==b&&S(b,t)?1:u?D(u,e)-D(u,t):0:4&o?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,o=0,i=e.parentNode,s=t.parentNode,r=[e],a=[t];if(!i||!s)return e==p?-1:t==p?1:i?-1:s?1:u?D(u,e)-D(u,t):0;if(i===s)return pe(e,t);for(n=e;n=n.parentNode;)r.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;r[o]===a[o];)o++;return o?pe(r[o],a[o]):r[o]==b?-1:a[o]==b?1:0},p):p},ce.matches=function(e,t){return ce(e,null,null,t)},ce.matchesSelector=function(e,t){if(d(e),n.matchesSelector&&m&&!k[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var o=y.call(e,t);if(o||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(e){k(t,!0)}return ce(t,p,null,[e]).length>0},ce.contains=function(e,t){return(e.ownerDocument||e)!=p&&d(e),S(e,t)},ce.attr=function(e,t){(e.ownerDocument||e)!=p&&d(e);var i=o.attrHandle[t.toLowerCase()],s=i&&I.call(o.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==s?s:n.attributes||!m?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},ce.escape=function(e){return(e+"").replace(ie,se)},ce.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ce.uniqueSort=function(e){var t,o=[],i=0,s=0;if(h=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(_),h){for(;t=e[s++];)t===e[s]&&(i=o.push(s));for(;i--;)e.splice(o[i],1)}return u=null,e},i=ce.getText=function(e){var t,n="",o=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[o++];)n+=i(t);return n},o=ce.selectors={cacheLength:50,createPseudo:ue,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,oe),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,oe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ce.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ce.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=r(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,oe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&T(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(o){var i=ce.attr(o,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(W," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,o,i){var s="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===o&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var l,u,h,d,p,f,m=s!==r?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!c&&!a,S=!1;if(g){if(s){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&y){for(S=(p=(l=(u=(h=(d=g)[C]||(d[C]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===w&&l[1])&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(S=p=0)||f.pop();)if(1===d.nodeType&&++S&&d===t){u[e]=[w,p,S];break}}else if(y&&(S=p=(l=(u=(h=(d=t)[C]||(d[C]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===w&&l[1]),!1===S)for(;(d=++p&&d&&d[m]||(S=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++S||(y&&((u=(h=d[C]||(d[C]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[w,S]),d!==t)););return(S-=i)===o||S%o==0&&S/o>=0}}},PSEUDO:function(e,t){var n,i=o.pseudos[e]||o.setFilters[e.toLowerCase()]||ce.error("unsupported pseudo: "+e);return i[C]?i(t):i.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,n){for(var o,s=i(e,t),r=s.length;r--;)e[o=D(e,s[r])]=!(n[o]=s[r])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ue((function(e){var t=[],n=[],o=a(e.replace(B,"$1"));return o[C]?ue((function(e,t,n,i){for(var s,r=o(e,null,i,[]),a=e.length;a--;)(s=r[a])&&(e[a]=!(t[a]=s))})):function(e,i,s){return t[0]=e,o(t,null,s,n),t[0]=null,!n.pop()}})),has:ue((function(e){return function(t){return ce(e,t).length>0}})),contains:ue((function(e){return e=e.replace(ne,oe),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:ue((function(e){return V.test(e||"")||ce.error("unsupported lang: "+e),e=e.replace(ne,oe).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve((function(){return[0]})),last:ve((function(e,t){return[t-1]})),eq:ve((function(e,t,n){return[n<0?n+t:n]})),even:ve((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ve((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ve((function(e,t,n){for(var o=n<0?n+t:n>t?t:n;--o>=0;)e.push(o);return e})),gt:ve((function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e}))}},o.pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})o.pseudos[t]=me(t);function Se(){}function Ce(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function be(e,t,n){var o=t.dir,i=t.next,s=i||o,r=n&&"parentNode"===s,a=E++;return t.first?function(t,n,i){for(;t=t[o];)if(1===t.nodeType||r)return e(t,n,i);return!1}:function(t,n,c){var l,u,h,d=[w,a];if(c){for(;t=t[o];)if((1===t.nodeType||r)&&e(t,n,c))return!0}else for(;t=t[o];)if(1===t.nodeType||r)if(u=(h=t[C]||(t[C]={}))[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[o]||t;else{if((l=u[s])&&l[0]===w&&l[1]===a)return d[2]=l[2];if(u[s]=d,d[2]=e(t,n,c))return!0}return!1}}function we(e){return e.length>1?function(t,n,o){for(var i=e.length;i--;)if(!e[i](t,n,o))return!1;return!0}:e[0]}function Ee(e,t,n,o,i){for(var s,r=[],a=0,c=e.length,l=null!=t;a<c;a++)(s=e[a])&&(n&&!n(s,o,i)||(r.push(s),l&&t.push(a)));return r}function Te(e,t,n,o,i,s){return o&&!o[C]&&(o=Te(o)),i&&!i[C]&&(i=Te(i,s)),ue((function(s,r,a,c){var l,u,h,d=[],p=[],f=r.length,m=s||function(e,t,n){for(var o=0,i=t.length;o<i;o++)ce(e,t[o],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!s&&t?m:Ee(m,d,e,a,c),v=n?i||(s?e:f||o)?[]:r:g;if(n&&n(g,v,a,c),o)for(l=Ee(v,p),o(l,[],a,c),u=l.length;u--;)(h=l[u])&&(v[p[u]]=!(g[p[u]]=h));if(s){if(i||e){if(i){for(l=[],u=v.length;u--;)(h=v[u])&&l.push(g[u]=h);i(null,v=[],l,c)}for(u=v.length;u--;)(h=v[u])&&(l=i?D(s,h):d[u])>-1&&(s[l]=!(r[l]=h))}}else v=Ee(v===r?v.splice(f,v.length):v),i?i(null,r,v,c):F.apply(r,v)}))}function Ae(e){for(var t,n,i,s=e.length,r=o.relative[e[0].type],a=r||o.relative[" "],c=r?1:0,u=be((function(e){return e===t}),a,!0),h=be((function(e){return D(t,e)>-1}),a,!0),d=[function(e,n,o){var i=!r&&(o||n!==l)||((t=n).nodeType?u(e,n,o):h(e,n,o));return t=null,i}];c<s;c++)if(n=o.relative[e[c].type])d=[be(we(d),n)];else{if((n=o.filter[e[c].type].apply(null,e[c].matches))[C]){for(i=++c;i<s&&!o.relative[e[i].type];i++);return Te(c>1&&we(d),c>1&&Ce(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(B,"$1"),n,c<i&&Ae(e.slice(c,i)),i<s&&Ae(e=e.slice(i)),i<s&&Ce(e))}d.push(n)}return we(d)}return Se.prototype=o.filters=o.pseudos,o.setFilters=new Se,r=ce.tokenize=function(e,t){var n,i,s,r,a,c,l,u=A[e+" "];if(u)return t?0:u.slice(0);for(a=e,c=[],l=o.preFilter;a;){for(r in n&&!(i=j.exec(a))||(i&&(a=a.slice(i[0].length)||a),c.push(s=[])),n=!1,(i=K.exec(a))&&(n=i.shift(),s.push({value:n,type:i[0].replace(B," ")}),a=a.slice(n.length)),o.filter)!(i=Y[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),s.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ce.error(e):A(e,c).slice(0)},a=ce.compile=function(e,t){var n,i=[],s=[],a=P[e+" "];if(!a){for(t||(t=r(e)),n=t.length;n--;)(a=Ae(t[n]))[C]?i.push(a):s.push(a);a=P(e,function(e,t){var n=t.length>0,i=e.length>0,s=function(s,r,a,c,u){var h,f,g,v=0,y="0",S=s&&[],C=[],b=l,E=s||i&&o.find.TAG("*",u),T=w+=null==b?1:Math.random()||.1,A=E.length;for(u&&(l=r==p||r||u);y!==A&&null!=(h=E[y]);y++){if(i&&h){for(f=0,r||h.ownerDocument==p||(d(h),a=!m);g=e[f++];)if(g(h,r||p,a)){c.push(h);break}u&&(w=T)}n&&((h=!g&&h)&&v--,s&&S.push(h))}if(v+=y,n&&y!==v){for(f=0;g=t[f++];)g(S,C,r,a);if(s){if(v>0)for(;y--;)S[y]||C[y]||(C[y]=x.call(c));C=Ee(C)}F.apply(c,C),u&&!s&&C.length>0&&v+t.length>1&&ce.uniqueSort(c)}return u&&(w=T,l=b),S};return n?ue(s):s}(s,i)),a.selector=e}return a},c=ce.select=function(e,t,n,i){var s,c,l,u,h,d="function"==typeof e&&e,p=!i&&r(e=d.selector||e);if(n=n||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&9===t.nodeType&&m&&o.relative[c[1].type]){if(!(t=(o.find.ID(l.matches[0].replace(ne,oe),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(s=Y.needsContext.test(e)?0:c.length;s--&&(l=c[s],!o.relative[u=l.type]);)if((h=o.find[u])&&(i=h(l.matches[0].replace(ne,oe),te.test(c[0].type)&&ye(t.parentNode)||t))){if(c.splice(s,1),!(e=i.length&&Ce(c)))return F.apply(n,i),n;break}}return(d||a(e,p))(i,t,!m,n,!t||te.test(e)&&ye(t.parentNode)||t),n},n.sortStable=C.split("").sort(_).join("")===C,n.detectDuplicates=!!h,d(),n.sortDetached=he((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),he((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&he((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),he((function(e){return null==e.getAttribute("disabled")}))||de(R,(function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null})),ce}(e);b.find=E,b.expr=E.selectors,b.expr[":"]=b.expr.pseudos,b.uniqueSort=b.unique=E.uniqueSort,b.text=E.getText,b.isXMLDoc=E.isXML,b.contains=E.contains,b.escapeSelector=E.escape;var T=function(e,t,n){for(var o=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&b(e).is(n))break;o.push(e)}return o},A=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},P=b.expr.match.needsContext;function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var _=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(e,t,n){return f(t)?b.grep(e,(function(e,o){return!!t.call(e,o,e)!==n})):t.nodeType?b.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?b.grep(e,(function(e){return a.call(t,e)>-1!==n})):b.filter(t,e,n)}b.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?b.find.matchesSelector(o,e)?[o]:[]:b.find.matches(e,b.grep(t,(function(e){return 1===e.nodeType})))},b.fn.extend({find:function(e){var t,n,o=this.length,i=this;if("string"!=typeof e)return this.pushStack(b(e).filter((function(){for(t=0;t<o;t++)if(b.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<o;t++)b.find(e,i[t],n);return o>1?b.uniqueSort(n):n},filter:function(e){return this.pushStack(I(this,e||[],!1))},not:function(e){return this.pushStack(I(this,e||[],!0))},is:function(e){return!!I(this,"string"==typeof e&&P.test(e)?b(e):e||[],!1).length}});var L,x=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(e,t,n){var o,i;if(!e)return this;if(n=n||L,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:x.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof b?t[0]:t,b.merge(this,b.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),_.test(o[1])&&b.isPlainObject(t))for(o in t)f(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(i=g.getElementById(o[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):f(e)?void 0!==n.ready?n.ready(e):e(b):b.makeArray(e,this)}).prototype=b.fn,L=b(g);var O=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function M(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}b.fn.extend({has:function(e){var t=b(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(b.contains(this,t[e]))return!0}))},closest:function(e,t){var n,o=0,i=this.length,s=[],r="string"!=typeof e&&b(e);if(!P.test(e))for(;o<i;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&b.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?b.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?a.call(b(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return A((e.parentNode||{}).firstChild,e)},children:function(e){return A(e.firstChild)},contents:function(e){return null!=e.contentDocument&&o(e.contentDocument)?e.contentDocument:(k(e,"template")&&(e=e.content||e),b.merge([],e.childNodes))}},(function(e,t){b.fn[e]=function(n,o){var i=b.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"==typeof o&&(i=b.filter(o,i)),this.length>1&&(F[e]||b.uniqueSort(i),O.test(e)&&i.reverse()),this.pushStack(i)}}));var D=/[^\x20\t\r\n\f]+/g;function R(e){return e}function N(e){throw e}function U(e,t,n,o){var i;try{e&&f(i=e.promise)?i.call(e).done(t).fail(n):e&&f(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}b.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return b.each(e.match(D)||[],(function(e,n){t[n]=!0})),t}(e):b.extend({},e);var t,n,o,i,s=[],r=[],a=-1,c=function(){for(i=i||e.once,o=t=!0;r.length;a=-1)for(n=r.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=s.length,n=!1);e.memory||(n=!1),t=!1,i&&(s=n?[]:"")},l={add:function(){return s&&(n&&!t&&(a=s.length-1,r.push(n)),function t(n){b.each(n,(function(n,o){f(o)?e.unique&&l.has(o)||s.push(o):o&&o.length&&"string"!==S(o)&&t(o)}))}(arguments),n&&!t&&c()),this},remove:function(){return b.each(arguments,(function(e,t){for(var n;(n=b.inArray(t,s,n))>-1;)s.splice(n,1),n<=a&&a--})),this},has:function(e){return e?b.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=r=[],s=n="",this},disabled:function(){return!s},lock:function(){return i=r=[],n||t||(s=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],r.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!o}};return l},b.extend({Deferred:function(t){var n=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],o="pending",i={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return b.Deferred((function(t){b.each(n,(function(n,o){var i=f(e[o[4]])&&e[o[4]];s[o[1]]((function(){var e=i&&i.apply(this,arguments);e&&f(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[o[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(t,o,i){var s=0;function r(t,n,o,i){return function(){var a=this,c=arguments,l=function(){var e,l;if(!(t<s)){if((e=o.apply(a,c))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,f(l)?i?l.call(e,r(s,n,R,i),r(s,n,N,i)):(s++,l.call(e,r(s,n,R,i),r(s,n,N,i),r(s,n,R,n.notifyWith))):(o!==R&&(a=void 0,c=[e]),(i||n.resolveWith)(a,c))}},u=i?l:function(){try{l()}catch(e){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(e,u.stackTrace),t+1>=s&&(o!==N&&(a=void 0,c=[e]),n.rejectWith(a,c))}};t?u():(b.Deferred.getStackHook&&(u.stackTrace=b.Deferred.getStackHook()),e.setTimeout(u))}}return b.Deferred((function(e){n[0][3].add(r(0,e,f(i)?i:R,e.notifyWith)),n[1][3].add(r(0,e,f(t)?t:R)),n[2][3].add(r(0,e,f(o)?o:N))})).promise()},promise:function(e){return null!=e?b.extend(e,i):i}},s={};return b.each(n,(function(e,t){var r=t[2],a=t[5];i[t[1]]=r.add,a&&r.add((function(){o=a}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),r.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=r.fireWith})),i.promise(s),t&&t.call(s,s),s},when:function(e){var t=arguments.length,n=t,o=Array(n),s=i.call(arguments),r=b.Deferred(),a=function(e){return function(n){o[e]=this,s[e]=arguments.length>1?i.call(arguments):n,--t||r.resolveWith(o,s)}};if(t<=1&&(U(e,r.done(a(n)).resolve,r.reject,!t),"pending"===r.state()||f(s[n]&&s[n].then)))return r.then();for(;n--;)U(s[n],a(n),r.reject);return r.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&z.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},b.readyException=function(t){e.setTimeout((function(){throw t}))};var H=b.Deferred();function W(){g.removeEventListener("DOMContentLoaded",W),e.removeEventListener("load",W),b.ready()}b.fn.ready=function(e){return H.then(e).catch((function(e){b.readyException(e)})),this},b.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==e&&--b.readyWait>0||H.resolveWith(g,[b]))}}),b.ready.then=H.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(b.ready):(g.addEventListener("DOMContentLoaded",W),e.addEventListener("load",W));var B=function(e,t,n,o,i,s,r){var a=0,c=e.length,l=null==n;if("object"===S(n))for(a in i=!0,n)B(e,t,a,n[a],!0,s,r);else if(void 0!==o&&(i=!0,f(o)||(r=!0),l&&(r?(t.call(e,o),t=null):(l=t,t=function(e,t,n){return l.call(b(e),n)})),t))for(;a<c;a++)t(e[a],n,r?o:o.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):c?t(e[0],n):s},j=/^-ms-/,K=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function q(e){return e.replace(j,"ms-").replace(K,G)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=b.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,i=this.cache(e);if("string"==typeof t)i[q(t)]=n;else for(o in t)i[q(o)]=t[o];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][q(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t){n=(t=Array.isArray(t)?t.map(q):(t=q(t))in o?[t]:t.match(D)||[]).length;for(;n--;)delete o[t[n]]}(void 0===t||b.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!b.isEmptyObject(t)}};var J=new Y,Z=new Y,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function ee(e,t,n){var o;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(o))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:X.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}b.extend({hasData:function(e){return Z.hasData(e)||J.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),b.fn.extend({data:function(e,t){var n,o,i,s=this[0],r=s&&s.attributes;if(void 0===e){if(this.length&&(i=Z.get(s),1===s.nodeType&&!J.get(s,"hasDataAttrs"))){for(n=r.length;n--;)r[n]&&0===(o=r[n].name).indexOf("data-")&&(o=q(o.slice(5)),ee(s,o,i[o]));J.set(s,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){Z.set(this,e)})):B(this,(function(t){var n;if(s&&void 0===t)return void 0!==(n=Z.get(s,e))||void 0!==(n=ee(s,e))?n:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),b.extend({queue:function(e,t,n){var o;if(e)return t=(t||"fx")+"queue",o=J.get(e,t),n&&(!o||Array.isArray(n)?o=J.access(e,t,b.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),o=n.length,i=n.shift(),s=b._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),o--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,(function(){b.dequeue(e,t)}),s)),!o&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:b.Callbacks("once memory").add((function(){J.remove(e,[t+"queue",n])}))})}}),b.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?b.queue(this[0],e):void 0===t?this:this.each((function(){var n=b.queue(this,e,t);b._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&b.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){b.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,i=b.Deferred(),s=this,r=this.length,a=function(){--o||i.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(n=J.get(s[r],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(a));return a(),i.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ie=g.documentElement,se=function(e){return b.contains(e.ownerDocument,e)},re={composed:!0};ie.getRootNode&&(se=function(e){return b.contains(e.ownerDocument,e)||e.getRootNode(re)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===b.css(e,"display")};function ce(e,t,n,o){var i,s,r=20,a=o?function(){return o.cur()}:function(){return b.css(e,t,"")},c=a(),l=n&&n[3]||(b.cssNumber[t]?"":"px"),u=e.nodeType&&(b.cssNumber[t]||"px"!==l&&+c)&&ne.exec(b.css(e,t));if(u&&u[3]!==l){for(c/=2,l=l||u[3],u=+c||1;r--;)b.style(e,t,u+l),(1-s)*(1-(s=a()/c||.5))<=0&&(r=0),u/=s;u*=2,b.style(e,t,u+l),n=n||[]}return n&&(u=+u||+c||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],o&&(o.unit=l,o.start=u,o.end=i)),i}var le={};function ue(e){var t,n=e.ownerDocument,o=e.nodeName,i=le[o];return i||(t=n.body.appendChild(n.createElement(o)),i=b.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[o]=i,i)}function he(e,t){for(var n,o,i=[],s=0,r=e.length;s<r;s++)(o=e[s]).style&&(n=o.style.display,t?("none"===n&&(i[s]=J.get(o,"display")||null,i[s]||(o.style.display="")),""===o.style.display&&ae(o)&&(i[s]=ue(o))):"none"!==n&&(i[s]="none",J.set(o,"display",n)));for(s=0;s<r;s++)null!=i[s]&&(e[s].style.display=i[s]);return e}b.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ae(this)?b(this).show():b(this).hide()}))}});var de,pe,fe=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ge=/^$|^module$|\/(?:java|ecma)script/i;de=g.createDocumentFragment().appendChild(g.createElement("div")),(pe=g.createElement("input")).setAttribute("type","radio"),pe.setAttribute("checked","checked"),pe.setAttribute("name","t"),de.appendChild(pe),p.checkClone=de.cloneNode(!0).cloneNode(!0).lastChild.checked,de.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!de.cloneNode(!0).lastChild.defaultValue,de.innerHTML="<option></option>",p.option=!!de.lastChild;var ve={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&k(e,t)?b.merge([e],n):n}function Se(e,t){for(var n=0,o=e.length;n<o;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}ve.tbody=ve.tfoot=ve.colgroup=ve.caption=ve.thead,ve.th=ve.td,p.option||(ve.optgroup=ve.option=[1,"<select multiple='multiple'>","</select>"]);var Ce=/<|&#?\w+;/;function be(e,t,n,o,i){for(var s,r,a,c,l,u,h=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((s=e[p])||0===s)if("object"===S(s))b.merge(d,s.nodeType?[s]:s);else if(Ce.test(s)){for(r=r||h.appendChild(t.createElement("div")),a=(me.exec(s)||["",""])[1].toLowerCase(),c=ve[a]||ve._default,r.innerHTML=c[1]+b.htmlPrefilter(s)+c[2],u=c[0];u--;)r=r.lastChild;b.merge(d,r.childNodes),(r=h.firstChild).textContent=""}else d.push(t.createTextNode(s));for(h.textContent="",p=0;s=d[p++];)if(o&&b.inArray(s,o)>-1)i&&i.push(s);else if(l=se(s),r=ye(h.appendChild(s),"script"),l&&Se(r),n)for(u=0;s=r[u++];)ge.test(s.type||"")&&n.push(s);return h}var we=/^key/,Ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Ae(){return!0}function Pe(){return!1}function ke(e,t){return e===function(){try{return g.activeElement}catch(e){}}()==("focus"===t)}function _e(e,t,n,o,i,s){var r,a;if("object"==typeof t){for(a in"string"!=typeof n&&(o=o||n,n=void 0),t)_e(e,a,n,o,t[a],s);return e}if(null==o&&null==i?(i=n,o=n=void 0):null==i&&("string"==typeof n?(i=o,o=void 0):(i=o,o=n,n=void 0)),!1===i)i=Pe;else if(!i)return e;return 1===s&&(r=i,i=function(e){return b().off(e),r.apply(this,arguments)},i.guid=r.guid||(r.guid=b.guid++)),e.each((function(){b.event.add(this,t,i,o,n)}))}function Ie(e,t,n){n?(J.set(e,t,!1),b.event.add(e,t,{namespace:!1,handler:function(e){var o,s,r=J.get(this,t);if(1&e.isTrigger&&this[t]){if(r.length)(b.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=i.call(arguments),J.set(this,t,r),o=n(this,t),this[t](),r!==(s=J.get(this,t))||o?J.set(this,t,!1):s={},r!==s)return e.stopImmediatePropagation(),e.preventDefault(),s.value}else r.length&&(J.set(this,t,{value:b.event.trigger(b.extend(r[0],b.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&b.event.add(e,t,Ae)}b.event={global:{},add:function(e,t,n,o,i){var s,r,a,c,l,u,h,d,p,f,m,g=J.get(e);if(V(e))for(n.handler&&(n=(s=n).handler,i=s.selector),i&&b.find.matchesSelector(ie,i),n.guid||(n.guid=b.guid++),(c=g.events)||(c=g.events=Object.create(null)),(r=g.handle)||(r=g.handle=function(t){return void 0!==b&&b.event.triggered!==t.type?b.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(D)||[""]).length;l--;)p=m=(a=Te.exec(t[l])||[])[1],f=(a[2]||"").split(".").sort(),p&&(h=b.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=b.event.special[p]||{},u=b.extend({type:p,origType:m,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&b.expr.match.needsContext.test(i),namespace:f.join(".")},s),(d=c[p])||((d=c[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,o,f,r)||e.addEventListener&&e.addEventListener(p,r)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),b.event.global[p]=!0)},remove:function(e,t,n,o,i){var s,r,a,c,l,u,h,d,p,f,m,g=J.hasData(e)&&J.get(e);if(g&&(c=g.events)){for(l=(t=(t||"").match(D)||[""]).length;l--;)if(p=m=(a=Te.exec(t[l])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=b.event.special[p]||{},d=c[p=(o?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=d.length;s--;)u=d[s],!i&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||o&&o!==u.selector&&("**"!==o||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));r&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,g.handle)||b.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)b.event.remove(e,p+t[l],n,o,!0);b.isEmptyObject(c)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,o,i,s,r,a=new Array(arguments.length),c=b.event.fix(e),l=(J.get(this,"events")||Object.create(null))[c.type]||[],u=b.event.special[c.type]||{};for(a[0]=c,t=1;t<arguments.length;t++)a[t]=arguments[t];if(c.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,c)){for(r=b.event.handlers.call(this,c,l),t=0;(i=r[t++])&&!c.isPropagationStopped();)for(c.currentTarget=i.elem,n=0;(s=i.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==s.namespace&&!c.rnamespace.test(s.namespace)||(c.handleObj=s,c.data=s.data,void 0!==(o=((b.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,a))&&!1===(c.result=o)&&(c.preventDefault(),c.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,o,i,s,r,a=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(s=[],r={},n=0;n<c;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?b(i,this).index(l)>-1:b.find(i,this,null,[l]).length),r[i]&&s.push(o);s.length&&a.push({elem:l,handlers:s})}return l=this,c<t.length&&a.push({elem:l,handlers:t.slice(c)}),a},addProp:function(e,t){Object.defineProperty(b.Event.prototype,e,{enumerable:!0,configurable:!0,get:f(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[b.expando]?e:new b.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&k(t,"input")&&Ie(t,"click",Ae),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&k(t,"input")&&Ie(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&k(t,"input")&&J.get(t,"click")||k(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},b.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},b.Event=function(e,t){if(!(this instanceof b.Event))return new b.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ae:Pe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&b.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:Pe,isPropagationStopped:Pe,isImmediatePropagationStopped:Pe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ae,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ae,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ae,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ee.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},b.event.addProp),b.each({focus:"focusin",blur:"focusout"},(function(e,t){b.event.special[e]={setup:function(){return Ie(this,e,ke),!1},trigger:function(){return Ie(this,e),!0},delegateType:t}})),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=e.relatedTarget,i=e.handleObj;return o&&(o===this||b.contains(this,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),b.fn.extend({on:function(e,t,n,o){return _e(this,e,t,n,o)},one:function(e,t,n,o){return _e(this,e,t,n,o,1)},off:function(e,t,n){var o,i;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,b(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Pe),this.each((function(){b.event.remove(this,e,n,t)}))}});var Le=/<script|<style|<link/i,xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Fe(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")&&b(e).children("tbody")[0]||e}function Me(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function De(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Re(e,t){var n,o,i,s,r,a;if(1===t.nodeType){if(J.hasData(e)&&(a=J.get(e).events))for(i in J.remove(t,"handle events"),a)for(n=0,o=a[i].length;n<o;n++)b.event.add(t,i,a[i][n]);Z.hasData(e)&&(s=Z.access(e),r=b.extend({},s),Z.set(t,r))}}function Ne(e,t){var n=t.nodeName.toLowerCase();"input"===n&&fe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ue(e,t,n,o){t=s(t);var i,r,a,c,l,u,h=0,d=e.length,m=d-1,g=t[0],v=f(g);if(v||d>1&&"string"==typeof g&&!p.checkClone&&xe.test(g))return e.each((function(i){var s=e.eq(i);v&&(t[0]=g.call(this,i,s.html())),Ue(s,t,n,o)}));if(d&&(r=(i=be(t,e[0].ownerDocument,!1,e,o)).firstChild,1===i.childNodes.length&&(i=r),r||o)){for(c=(a=b.map(ye(i,"script"),Me)).length;h<d;h++)l=i,h!==m&&(l=b.clone(l,!0,!0),c&&b.merge(a,ye(l,"script"))),n.call(e[h],l,h);if(c)for(u=a[a.length-1].ownerDocument,b.map(a,De),h=0;h<c;h++)l=a[h],ge.test(l.type||"")&&!J.access(l,"globalEval")&&b.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?b._evalUrl&&!l.noModule&&b._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):y(l.textContent.replace(Oe,""),l,u))}return e}function ze(e,t,n){for(var o,i=t?b.filter(t,e):e,s=0;null!=(o=i[s]);s++)n||1!==o.nodeType||b.cleanData(ye(o)),o.parentNode&&(n&&se(o)&&Se(ye(o,"script")),o.parentNode.removeChild(o));return e}b.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var o,i,s,r,a=e.cloneNode(!0),c=se(e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(r=ye(a),o=0,i=(s=ye(e)).length;o<i;o++)Ne(s[o],r[o]);if(t)if(n)for(s=s||ye(e),r=r||ye(a),o=0,i=s.length;o<i;o++)Re(s[o],r[o]);else Re(e,a);return(r=ye(a,"script")).length>0&&Se(r,!c&&ye(e,"script")),a},cleanData:function(e){for(var t,n,o,i=b.event.special,s=0;void 0!==(n=e[s]);s++)if(V(n)){if(t=n[J.expando]){if(t.events)for(o in t.events)i[o]?b.event.remove(n,o):b.removeEvent(n,o,t.handle);n[J.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),b.fn.extend({detach:function(e){return ze(this,e,!0)},remove:function(e){return ze(this,e)},text:function(e){return B(this,(function(e){return void 0===e?b.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ue(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Fe(this,e).appendChild(e)}))},prepend:function(){return Ue(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Fe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ue(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ue(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(b.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return b.clone(this,e,t)}))},html:function(e){return B(this,(function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Le.test(e)&&!ve[(me.exec(e)||["",""])[1].toLowerCase()]){e=b.htmlPrefilter(e);try{for(;n<o;n++)1===(t=this[n]||{}).nodeType&&(b.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ue(this,arguments,(function(t){var n=this.parentNode;b.inArray(this,e)<0&&(b.cleanData(ye(this)),n&&n.replaceChild(t,this))}),e)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){b.fn[e]=function(e){for(var n,o=[],i=b(e),s=i.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),b(i[a])[t](n),r.apply(o,n.get());return this.pushStack(o)}}));var He=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),We=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=function(e,t,n){var o,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];for(i in o=n.call(e),t)e.style[i]=s[i];return o},je=new RegExp(oe.join("|"),"i");function Ke(e,t,n){var o,i,s,r,a=e.style;return(n=n||We(e))&&(""!==(r=n.getPropertyValue(t)||n[t])||se(e)||(r=b.style(e,t)),!p.pixelBoxStyles()&&He.test(r)&&je.test(t)&&(o=a.width,i=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=o,a.minWidth=i,a.maxWidth=s)),void 0!==r?r+"":r}function Ge(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(l).appendChild(u);var t=e.getComputedStyle(u);o="1%"!==t.top,c=12===n(t.marginLeft),u.style.right="60%",r=36===n(t.right),i=36===n(t.width),u.style.position="absolute",s=12===n(u.offsetWidth/3),ie.removeChild(l),u=null}}function n(e){return Math.round(parseFloat(e))}var o,i,s,r,a,c,l=g.createElement("div"),u=g.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===u.style.backgroundClip,b.extend(p,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),r},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),s},reliableTrDimensions:function(){var t,n,o,i;return null==a&&(t=g.createElement("table"),n=g.createElement("tr"),o=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px",n.style.height="1px",o.style.height="9px",ie.appendChild(t).appendChild(n).appendChild(o),i=e.getComputedStyle(n),a=parseInt(i.height)>3,ie.removeChild(t)),a}}))}();var qe=["Webkit","Moz","ms"],Ve=g.createElement("div").style,Ye={};function Je(e){var t=b.cssProps[e]||Ye[e];return t||(e in Ve?e:Ye[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=qe.length;n--;)if((e=qe[n]+t)in Ve)return e}(e)||e)}var Ze=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Qe={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:"0",fontWeight:"400"};function et(e,t,n){var o=ne.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function tt(e,t,n,o,i,s){var r="width"===t?1:0,a=0,c=0;if(n===(o?"border":"content"))return 0;for(;r<4;r+=2)"margin"===n&&(c+=b.css(e,n+oe[r],!0,i)),o?("content"===n&&(c-=b.css(e,"padding"+oe[r],!0,i)),"margin"!==n&&(c-=b.css(e,"border"+oe[r]+"Width",!0,i))):(c+=b.css(e,"padding"+oe[r],!0,i),"padding"!==n?c+=b.css(e,"border"+oe[r]+"Width",!0,i):a+=b.css(e,"border"+oe[r]+"Width",!0,i));return!o&&s>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-c-a-.5))||0),c}function nt(e,t,n){var o=We(e),i=(!p.boxSizingReliable()||n)&&"border-box"===b.css(e,"boxSizing",!1,o),s=i,r=Ke(e,t,o),a="offset"+t[0].toUpperCase()+t.slice(1);if(He.test(r)){if(!n)return r;r="auto"}return(!p.boxSizingReliable()&&i||!p.reliableTrDimensions()&&k(e,"tr")||"auto"===r||!parseFloat(r)&&"inline"===b.css(e,"display",!1,o))&&e.getClientRects().length&&(i="border-box"===b.css(e,"boxSizing",!1,o),(s=a in e)&&(r=e[a])),(r=parseFloat(r)||0)+tt(e,t,n||(i?"border":"content"),s,o,r)+"px"}function ot(e,t,n,o,i){return new ot.prototype.init(e,t,n,o,i)}b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ke(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,r,a=q(t),c=Xe.test(t),l=e.style;if(c||(t=Je(a)),r=b.cssHooks[t]||b.cssHooks[a],void 0===n)return r&&"get"in r&&void 0!==(i=r.get(e,!1,o))?i:l[t];"string"===(s=typeof n)&&(i=ne.exec(n))&&i[1]&&(n=ce(e,t,i),s="number"),null!=n&&n==n&&("number"!==s||c||(n+=i&&i[3]||(b.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),r&&"set"in r&&void 0===(n=r.set(e,n,o))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,o){var i,s,r,a=q(t);return Xe.test(t)||(t=Je(a)),(r=b.cssHooks[t]||b.cssHooks[a])&&"get"in r&&(i=r.get(e,!0,n)),void 0===i&&(i=Ke(e,t,o)),"normal"===i&&t in $e&&(i=$e[t]),""===n||n?(s=parseFloat(i),!0===n||isFinite(s)?s||0:i):i}}),b.each(["height","width"],(function(e,t){b.cssHooks[t]={get:function(e,n,o){if(n)return!Ze.test(b.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,t,o):Be(e,Qe,(function(){return nt(e,t,o)}))},set:function(e,n,o){var i,s=We(e),r=!p.scrollboxSize()&&"absolute"===s.position,a=(r||o)&&"border-box"===b.css(e,"boxSizing",!1,s),c=o?tt(e,t,o,a,s):0;return a&&r&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-tt(e,t,"border",!1,s)-.5)),c&&(i=ne.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=b.css(e,t)),et(0,n,c)}}})),b.cssHooks.marginLeft=Ge(p.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ke(e,"marginLeft"))||e.getBoundingClientRect().left-Be(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),b.each({margin:"",padding:"",border:"Width"},(function(e,t){b.cssHooks[e+t]={expand:function(n){for(var o=0,i={},s="string"==typeof n?n.split(" "):[n];o<4;o++)i[e+oe[o]+t]=s[o]||s[o-2]||s[0];return i}},"margin"!==e&&(b.cssHooks[e+t].set=et)})),b.fn.extend({css:function(e,t){return B(this,(function(e,t,n){var o,i,s={},r=0;if(Array.isArray(t)){for(o=We(e),i=t.length;r<i;r++)s[t[r]]=b.css(e,t[r],!1,o);return s}return void 0!==n?b.style(e,t,n):b.css(e,t)}),e,t,arguments.length>1)}}),b.Tween=ot,ot.prototype={constructor:ot,init:function(e,t,n,o,i,s){this.elem=e,this.prop=n,this.easing=i||b.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=s||(b.cssNumber[n]?"":"px")},cur:function(){var e=ot.propHooks[this.prop];return e&&e.get?e.get(this):ot.propHooks._default.get(this)},run:function(e){var t,n=ot.propHooks[this.prop];return this.options.duration?this.pos=t=b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ot.propHooks._default.set(this),this}},ot.prototype.init.prototype=ot.prototype,ot.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=b.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):1!==e.elem.nodeType||!b.cssHooks[e.prop]&&null==e.elem.style[Je(e.prop)]?e.elem[e.prop]=e.now:b.style(e.elem,e.prop,e.now+e.unit)}}},ot.propHooks.scrollTop=ot.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},b.fx=ot.prototype.init,b.fx.step={};var it,st,rt=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function ct(){st&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(ct):e.setTimeout(ct,b.fx.interval),b.fx.tick())}function lt(){return e.setTimeout((function(){it=void 0})),it=Date.now()}function ut(e,t){var n,o=0,i={height:e};for(t=t?1:0;o<4;o+=2-t)i["margin"+(n=oe[o])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ht(e,t,n){for(var o,i=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),s=0,r=i.length;s<r;s++)if(o=i[s].call(n,t,e))return o}function dt(e,t,n){var o,i,s=0,r=dt.prefilters.length,a=b.Deferred().always((function(){delete c.elem})),c=function(){if(i)return!1;for(var t=it||lt(),n=Math.max(0,l.startTime+l.duration-t),o=1-(n/l.duration||0),s=0,r=l.tweens.length;s<r;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),o<1&&r?n:(r||a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||lt(),duration:n.duration,tweens:[],createTween:function(t,n){var o=b.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(o),o},stop:function(t){var n=0,o=t?l.tweens.length:0;if(i)return this;for(i=!0;n<o;n++)l.tweens[n].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),u=l.props;for(!function(e,t){var n,o,i,s,r;for(n in e)if(i=t[o=q(n)],s=e[n],Array.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==o&&(e[o]=s,delete e[n]),(r=b.cssHooks[o])&&"expand"in r)for(n in s=r.expand(s),delete e[o],s)n in e||(e[n]=s[n],t[n]=i);else t[o]=i}(u,l.opts.specialEasing);s<r;s++)if(o=dt.prefilters[s].call(l,e,u,l.opts))return f(o.stop)&&(b._queueHooks(l.elem,l.opts.queue).stop=o.stop.bind(o)),o;return b.map(u,ht,l),f(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),b.fx.timer(b.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l}b.Animation=b.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){f(e)?(t=e,e=["*"]):e=e.match(D);for(var n,o=0,i=e.length;o<i;o++)n=e[o],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var o,i,s,r,a,c,l,u,h="width"in t||"height"in t,d=this,p={},f=e.style,m=e.nodeType&&ae(e),g=J.get(e,"fxshow");for(o in n.queue||(null==(r=b._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,d.always((function(){d.always((function(){r.unqueued--,b.queue(e,"fx").length||r.empty.fire()}))}))),t)if(i=t[o],rt.test(i)){if(delete t[o],s=s||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[o])continue;m=!0}p[o]=g&&g[o]||b.style(e,o)}if((c=!b.isEmptyObject(t))||!b.isEmptyObject(p))for(o in h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(l=g&&g.display)&&(l=J.get(e,"display")),"none"===(u=b.css(e,"display"))&&(l?u=l:(he([e],!0),l=e.style.display||l,u=b.css(e,"display"),he([e]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===b.css(e,"float")&&(c||(d.done((function(){f.display=l})),null==l&&(u=f.display,l="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),c=!1,p)c||(g?"hidden"in g&&(m=g.hidden):g=J.access(e,"fxshow",{display:l}),s&&(g.hidden=!m),m&&he([e],!0),d.done((function(){for(o in m||he([e]),J.remove(e,"fxshow"),p)b.style(e,o,p[o])}))),c=ht(m?g[o]:0,o,d),o in g||(g[o]=c.start,m&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),b.speed=function(e,t,n){var o=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||f(e)&&e,duration:e,easing:n&&t||t&&!f(t)&&t};return b.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in b.fx.speeds?o.duration=b.fx.speeds[o.duration]:o.duration=b.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){f(o.old)&&o.old.call(this),o.queue&&b.dequeue(this,o.queue)},o},b.fn.extend({fadeTo:function(e,t,n,o){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var i=b.isEmptyObject(e),s=b.speed(t,n,o),r=function(){var t=dt(this,b.extend({},e),s);(i||J.get(this,"finish"))&&t.stop(!0)};return r.finish=r,i||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",s=b.timers,r=J.get(this);if(i)r[i]&&r[i].stop&&o(r[i]);else for(i in r)r[i]&&r[i].stop&&at.test(i)&&o(r[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));!t&&n||b.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=J.get(this),o=n[e+"queue"],i=n[e+"queueHooks"],s=b.timers,r=o?o.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<r;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish}))}}),b.each(["toggle","show","hide"],(function(e,t){var n=b.fn[t];b.fn[t]=function(e,o,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,o,i)}})),b.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){b.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}})),b.timers=[],b.fx.tick=function(){var e,t=0,n=b.timers;for(it=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||b.fx.stop(),it=void 0},b.fx.timer=function(e){b.timers.push(e),b.fx.start()},b.fx.interval=13,b.fx.start=function(){st||(st=!0,ct())},b.fx.stop=function(){st=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(t,n){return t=b.fx&&b.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,o){var i=e.setTimeout(n,t);o.stop=function(){e.clearTimeout(i)}}))},function(){var e=g.createElement("input"),t=g.createElement("select").appendChild(g.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=t.selected,(e=g.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var pt,ft=b.expr.attrHandle;b.fn.extend({attr:function(e,t){return B(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){b.removeAttr(this,e)}))}}),b.extend({attr:function(e,t,n){var o,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?b.prop(e,t,n):(1===s&&b.isXMLDoc(e)||(i=b.attrHooks[t.toLowerCase()]||(b.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void b.removeAttr(e,t):i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(o=i.get(e,t))?o:null==(o=b.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&k(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,i=t&&t.match(D);if(i&&1===e.nodeType)for(;n=i[o++];)e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?b.removeAttr(e,n):e.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=ft[t]||b.find.attr;ft[t]=function(e,t,o){var i,s,r=t.toLowerCase();return o||(s=ft[r],ft[r]=i,i=null!=n(e,t,o)?r:null,ft[r]=s),i}}));var mt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function vt(e){return(e.match(D)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function St(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(D)||[]}b.fn.extend({prop:function(e,t){return B(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[b.propFix[e]||e]}))}}),b.extend({prop:function(e,t,n){var o,i,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&b.isXMLDoc(e)||(t=b.propFix[t]||t,i=b.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:e[t]=n:i&&"get"in i&&null!==(o=i.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=b.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(b.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){b.propFix[this.toLowerCase()]=this})),b.fn.extend({addClass:function(e){var t,n,o,i,s,r,a,c=0;if(f(e))return this.each((function(t){b(this).addClass(e.call(this,t,yt(this)))}));if((t=St(e)).length)for(;n=this[c++];)if(i=yt(n),o=1===n.nodeType&&" "+vt(i)+" "){for(r=0;s=t[r++];)o.indexOf(" "+s+" ")<0&&(o+=s+" ");i!==(a=vt(o))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,o,i,s,r,a,c=0;if(f(e))return this.each((function(t){b(this).removeClass(e.call(this,t,yt(this)))}));if(!arguments.length)return this.attr("class","");if((t=St(e)).length)for(;n=this[c++];)if(i=yt(n),o=1===n.nodeType&&" "+vt(i)+" "){for(r=0;s=t[r++];)for(;o.indexOf(" "+s+" ")>-1;)o=o.replace(" "+s+" "," ");i!==(a=vt(o))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,o="string"===n||Array.isArray(e);return"boolean"==typeof t&&o?t?this.addClass(e):this.removeClass(e):f(e)?this.each((function(n){b(this).toggleClass(e.call(this,n,yt(this),t),t)})):this.each((function(){var t,i,s,r;if(o)for(i=0,s=b(this),r=St(e);t=r[i++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==n||((t=yt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,o=0;for(t=" "+e+" ";n=this[o++];)if(1===n.nodeType&&(" "+vt(yt(n))+" ").indexOf(t)>-1)return!0;return!1}});var Ct=/\r/g;b.fn.extend({val:function(e){var t,n,o,i=this[0];return arguments.length?(o=f(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=o?e.call(this,n,b(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=b.map(i,(function(e){return null==e?"":e+""}))),(t=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=b.valHooks[i.type]||b.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Ct,""):null==n?"":n:void 0}}),b.extend({valHooks:{option:{get:function(e){var t=b.find.attr(e,"value");return null!=t?t:vt(b.text(e))}},select:{get:function(e){var t,n,o,i=e.options,s=e.selectedIndex,r="select-one"===e.type,a=r?null:[],c=r?s+1:i.length;for(o=s<0?c:r?s:0;o<c;o++)if(((n=i[o]).selected||o===s)&&!n.disabled&&(!n.parentNode.disabled||!k(n.parentNode,"optgroup"))){if(t=b(n).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var n,o,i=e.options,s=b.makeArray(t),r=i.length;r--;)((o=i[r]).selected=b.inArray(b.valHooks.option.get(o),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),b.each(["radio","checkbox"],(function(){b.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=b.inArray(b(e).val(),t)>-1}},p.checkOn||(b.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),p.focusin="onfocusin"in e;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};b.extend(b.event,{trigger:function(t,n,o,i){var s,r,a,c,l,h,d,p,v=[o||g],y=u.call(t,"type")?t.type:t,S=u.call(t,"namespace")?t.namespace.split("."):[];if(r=p=a=o=o||g,3!==o.nodeType&&8!==o.nodeType&&!bt.test(y+b.event.triggered)&&(y.indexOf(".")>-1&&(S=y.split("."),y=S.shift(),S.sort()),l=y.indexOf(":")<0&&"on"+y,(t=t[b.expando]?t:new b.Event(y,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=S.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+S.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),n=null==n?[t]:b.makeArray(n,[t]),d=b.event.special[y]||{},i||!d.trigger||!1!==d.trigger.apply(o,n))){if(!i&&!d.noBubble&&!m(o)){for(c=d.delegateType||y,bt.test(c+y)||(r=r.parentNode);r;r=r.parentNode)v.push(r),a=r;a===(o.ownerDocument||g)&&v.push(a.defaultView||a.parentWindow||e)}for(s=0;(r=v[s++])&&!t.isPropagationStopped();)p=r,t.type=s>1?c:d.bindType||y,(h=(J.get(r,"events")||Object.create(null))[t.type]&&J.get(r,"handle"))&&h.apply(r,n),(h=l&&r[l])&&h.apply&&V(r)&&(t.result=h.apply(r,n),!1===t.result&&t.preventDefault());return t.type=y,i||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(v.pop(),n)||!V(o)||l&&f(o[y])&&!m(o)&&((a=o[l])&&(o[l]=null),b.event.triggered=y,t.isPropagationStopped()&&p.addEventListener(y,wt),o[y](),t.isPropagationStopped()&&p.removeEventListener(y,wt),b.event.triggered=void 0,a&&(o[l]=a)),t.result}},simulate:function(e,t,n){var o=b.extend(new b.Event,n,{type:e,isSimulated:!0});b.event.trigger(o,null,t)}}),b.fn.extend({trigger:function(e,t){return this.each((function(){b.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return b.event.trigger(e,t,n,!0)}}),p.focusin||b.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){b.event.simulate(t,e.target,b.event.fix(e))};b.event.special[t]={setup:function(){var o=this.ownerDocument||this.document||this,i=J.access(o,t);i||o.addEventListener(e,n,!0),J.access(o,t,(i||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,i=J.access(o,t)-1;i?J.access(o,t,i):(o.removeEventListener(e,n,!0),J.remove(o,t))}}}));var Et=e.location,Tt={guid:Date.now()},At=/\?/;b.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+t),n};var Pt=/\[\]$/,kt=/\r?\n/g,_t=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i;function Lt(e,t,n,o){var i;if(Array.isArray(t))b.each(t,(function(t,i){n||Pt.test(e)?o(e,i):Lt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,o)}));else if(n||"object"!==S(t))o(e,t);else for(i in t)Lt(e+"["+i+"]",t[i],n,o)}b.param=function(e,t){var n,o=[],i=function(e,t){var n=f(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,(function(){i(this.name,this.value)}));else for(n in e)Lt(n,e[n],t,i);return o.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&It.test(this.nodeName)&&!_t.test(e)&&(this.checked||!fe.test(e))})).map((function(e,t){var n=b(this).val();return null==n?null:Array.isArray(n)?b.map(n,(function(e){return{name:t.name,value:e.replace(kt,"\r\n")}})):{name:t.name,value:n.replace(kt,"\r\n")}})).get()}});var xt=/%20/g,Ot=/#.*$/,Ft=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Dt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Nt={},Ut={},zt="*/".concat("*"),Ht=g.createElement("a");function Wt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var o,i=0,s=t.toLowerCase().match(D)||[];if(f(n))for(;o=s[i++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function Bt(e,t,n,o){var i={},s=e===Ut;function r(a){var c;return i[a]=!0,b.each(e[a]||[],(function(e,a){var l=a(t,n,o);return"string"!=typeof l||s||i[l]?s?!(c=l):void 0:(t.dataTypes.unshift(l),r(l),!1)})),c}return r(t.dataTypes[0])||!i["*"]&&r("*")}function jt(e,t){var n,o,i=b.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:o||(o={}))[n]=t[n]);return o&&b.extend(!0,e,o),e}Ht.href=Et.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?jt(jt(e,b.ajaxSettings),t):jt(b.ajaxSettings,e)},ajaxPrefilter:Wt(Nt),ajaxTransport:Wt(Ut),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,i,s,r,a,c,l,u,h,d,p=b.ajaxSetup({},n),f=p.context||p,m=p.context&&(f.nodeType||f.jquery)?b(f):b.event,v=b.Deferred(),y=b.Callbacks("once memory"),S=p.statusCode||{},C={},w={},E="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(l){if(!r)for(r={};t=Mt.exec(s);)r[t[1].toLowerCase()+" "]=(r[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=r[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,C[e]=t),this},overrideMimeType:function(e){return null==l&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)T.always(e[T.status]);else for(t in e)S[t]=[S[t],e[t]];return this},abort:function(e){var t=e||E;return o&&o.abort(t),A(0,t),this}};if(v.promise(T),p.url=((t||p.url||Et.href)+"").replace(Rt,Et.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(D)||[""],null==p.crossDomain){c=g.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Ht.protocol+"//"+Ht.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),Bt(Nt,p,n,T),l)return T;for(h in(u=b.event&&p.global)&&0==b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Dt.test(p.type),i=p.url.replace(Ot,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(xt,"+")):(d=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(At.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Ft,"$1"),d=(At.test(i)?"&":"?")+"_="+Tt.guid+++d),p.url=i+d),p.ifModified&&(b.lastModified[i]&&T.setRequestHeader("If-Modified-Since",b.lastModified[i]),b.etag[i]&&T.setRequestHeader("If-None-Match",b.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+zt+"; q=0.01":""):p.accepts["*"]),p.headers)T.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(f,T,p)||l))return T.abort();if(E="abort",y.add(p.complete),T.done(p.success),T.fail(p.error),o=Bt(Ut,p,n,T)){if(T.readyState=1,u&&m.trigger("ajaxSend",[T,p]),l)return T;p.async&&p.timeout>0&&(a=e.setTimeout((function(){T.abort("timeout")}),p.timeout));try{l=!1,o.send(C,A)}catch(e){if(l)throw e;A(-1,e)}}else A(-1,"No Transport");function A(t,n,r,c){var h,d,g,C,w,E=n;l||(l=!0,a&&e.clearTimeout(a),o=void 0,s=c||"",T.readyState=t>0?4:0,h=t>=200&&t<300||304===t,r&&(C=function(e,t,n){for(var o,i,s,r,a=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(i in a)if(a[i]&&a[i].test(o)){c.unshift(i);break}if(c[0]in n)s=c[0];else{for(i in n){if(!c[0]||e.converters[i+" "+c[0]]){s=i;break}r||(r=i)}s=s||r}if(s)return s!==c[0]&&c.unshift(s),n[s]}(p,T,r)),!h&&b.inArray("script",p.dataTypes)>-1&&(p.converters["text script"]=function(){}),C=function(e,t,n,o){var i,s,r,a,c,l={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)l[r.toLowerCase()]=e.converters[r];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!c&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=s,s=u.shift())if("*"===s)s=c;else if("*"!==c&&c!==s){if(!(r=l[c+" "+s]||l["* "+s]))for(i in l)if((a=i.split(" "))[1]===s&&(r=l[c+" "+a[0]]||l["* "+a[0]])){!0===r?r=l[i]:!0!==l[i]&&(s=a[0],u.unshift(a[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+c+" to "+s}}}return{state:"success",data:t}}(p,C,T,h),h?(p.ifModified&&((w=T.getResponseHeader("Last-Modified"))&&(b.lastModified[i]=w),(w=T.getResponseHeader("etag"))&&(b.etag[i]=w)),204===t||"HEAD"===p.type?E="nocontent":304===t?E="notmodified":(E=C.state,d=C.data,h=!(g=C.error))):(g=E,!t&&E||(E="error",t<0&&(t=0))),T.status=t,T.statusText=(n||E)+"",h?v.resolveWith(f,[d,E,T]):v.rejectWith(f,[T,E,g]),T.statusCode(S),S=void 0,u&&m.trigger(h?"ajaxSuccess":"ajaxError",[T,p,h?d:g]),y.fireWith(f,[T,E]),u&&(m.trigger("ajaxComplete",[T,p]),--b.active||b.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return b.get(e,t,n,"json")},getScript:function(e,t){return b.get(e,void 0,t,"script")}}),b.each(["get","post"],(function(e,t){b[t]=function(e,n,o,i){return f(n)&&(i=i||o,o=n,n=void 0),b.ajax(b.extend({url:e,type:t,dataType:i,data:n,success:o},b.isPlainObject(e)&&e))}})),b.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),b._evalUrl=function(e,t,n){return b.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){b.globalEval(e,t,n)}})},b.fn.extend({wrapAll:function(e){var t;return this[0]&&(f(e)&&(e=e.call(this[0])),t=b(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return f(e)?this.each((function(t){b(this).wrapInner(e.call(this,t))})):this.each((function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=f(e);return this.each((function(n){b(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){b(this).replaceWith(this.childNodes)})),this}}),b.expr.pseudos.hidden=function(e){return!b.expr.pseudos.visible(e)},b.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Kt={0:200,1223:204},Gt=b.ajaxSettings.xhr();p.cors=!!Gt&&"withCredentials"in Gt,p.ajax=Gt=!!Gt,b.ajaxTransport((function(t){var n,o;if(p.cors||Gt&&!t.crossDomain)return{send:function(i,s){var r,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)a[r]=t.xhrFields[r];for(r in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(r,i[r]);n=function(e){return function(){n&&(n=o=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Kt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),o=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=o:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout((function(){n&&o()}))},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}})),b.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),b.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(o,i){t=b("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){n&&n()}}}));var qt,Vt=[],Yt=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||b.expando+"_"+Tt.guid++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",(function(t,n,o){var i,s,r,a=!1!==t.jsonp&&(Yt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=f(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Yt,"$1"+i):!1!==t.jsonp&&(t.url+=(At.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return r||b.error(i+" was not called"),r[0]},t.dataTypes[0]="json",s=e[i],e[i]=function(){r=arguments},o.always((function(){void 0===s?b(e).removeProp(i):e[i]=s,t[i]&&(t.jsonpCallback=n.jsonpCallback,Vt.push(i)),r&&f(s)&&s(r[0]),r=s=void 0})),"script"})),p.createHTMLDocument=((qt=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),b.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(p.createHTMLDocument?((o=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(o)):t=g),s=!n&&[],(i=_.exec(e))?[t.createElement(i[1])]:(i=be([e],t,s),s&&s.length&&b(s).remove(),b.merge([],i.childNodes)));var o,i,s},b.fn.load=function(e,t,n){var o,i,s,r=this,a=e.indexOf(" ");return a>-1&&(o=vt(e.slice(a)),e=e.slice(0,a)),f(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),r.length>0&&b.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){s=arguments,r.html(o?b("<div>").append(b.parseHTML(e)).find(o):e)})).always(n&&function(e,t){r.each((function(){n.apply(this,s||[e.responseText,t,e])}))}),this},b.expr.pseudos.animated=function(e){return b.grep(b.timers,(function(t){return e===t.elem})).length},b.offset={setOffset:function(e,t,n){var o,i,s,r,a,c,l=b.css(e,"position"),u=b(e),h={};"static"===l&&(e.style.position="relative"),a=u.offset(),s=b.css(e,"top"),c=b.css(e,"left"),("absolute"===l||"fixed"===l)&&(s+c).indexOf("auto")>-1?(r=(o=u.position()).top,i=o.left):(r=parseFloat(s)||0,i=parseFloat(c)||0),f(t)&&(t=t.call(e,n,b.extend({},a))),null!=t.top&&(h.top=t.top-a.top+r),null!=t.left&&(h.left=t.left-a.left+i),"using"in t?t.using.call(e,h):("number"==typeof h.top&&(h.top+="px"),"number"==typeof h.left&&(h.left+="px"),u.css(h))}},b.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){b.offset.setOffset(this,e,t)}));var t,n,o=this[0];return o?o.getClientRects().length?(t=o.getBoundingClientRect(),n=o.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,o=this[0],i={top:0,left:0};if("fixed"===b.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),n=o.ownerDocument,e=o.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===b.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((i=b(e).offset()).top+=b.css(e,"borderTopWidth",!0),i.left+=b.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-b.css(o,"marginTop",!0),left:t.left-i.left-b.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===b.css(e,"position");)e=e.offsetParent;return e||ie}))}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;b.fn[e]=function(o){return B(this,(function(e,o,i){var s;if(m(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===i)return s?s[t]:e[o];s?s.scrollTo(n?s.pageXOffset:i,n?i:s.pageYOffset):e[o]=i}),e,o,arguments.length)}})),b.each(["top","left"],(function(e,t){b.cssHooks[t]=Ge(p.pixelPosition,(function(e,n){if(n)return n=Ke(e,t),He.test(n)?b(e).position()[t]+"px":n}))})),b.each({Height:"height",Width:"width"},(function(e,t){b.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,o){b.fn[o]=function(i,s){var r=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===s?"margin":"border");return B(this,(function(t,n,i){var s;return m(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===i?b.css(t,n,a):b.style(t,n,i,a)}),t,r?i:void 0,r)}}))})),b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){b.fn[t]=function(e){return this.on(t,e)}})),b.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Jt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;return b.proxy=function(e,t){var n,o,s;if("string"==typeof t&&(n=e[t],t=e,e=n),f(e))return o=i.call(arguments,2),s=function(){return e.apply(t||this,o.concat(i.call(arguments)))},s.guid=e.guid=e.guid||b.guid++,s},b.holdReady=function(e){e?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=k,b.isFunction=f,b.isWindow=m,b.camelCase=q,b.type=S,b.now=Date.now,b.isNumeric=function(e){var t=b.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},b.trim=function(e){return null==e?"":(e+"").replace(Jt,"")},"function"==typeof define&&define.amd&&define("czq",[],(function(){return b})),b.noConflict=function(e){},b}))}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})};n(1385)}();