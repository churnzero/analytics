!function(n){var i={};function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=i,o.d=function(exports,e,t){o.o(exports,e)||Object.defineProperty(exports,e,{enumerable:!0,get:t})},o.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=34)}([function(e,exports,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),i=this&&this.__exportStar||function(e,exports){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(exports,t)||n(exports,e,t)};Object.defineProperty(exports,"__esModule",{value:!0}),i(t(35),exports),i(t(41),exports),i(t(3),exports),i(t(42),exports),i(t(43),exports),i(t(44),exports),i(t(45),exports),i(t(46),exports),i(t(18),exports),i(t(9),exports),i(t(19),exports),i(t(47),exports),i(t(15),exports),i(t(14),exports),i(t(20),exports),i(t(21),exports),i(t(22),exports),i(t(8),exports),i(t(23),exports),i(t(12),exports),i(t(24),exports),i(t(48),exports),i(t(7),exports),i(t(10),exports),i(t(49),exports),i(t(50),exports),i(t(6),exports),i(t(11),exports),i(t(54),exports),i(t(4),exports),i(t(16),exports),i(t(17),exports)},function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var s=t(0),i=n(t(25)),t=(o.initLogger=function(e,t){!(t=void 0===t?!1:t)&&window.__tracerCZ||(window.__tracerCZ=new o(e))},o.report=function(e,t,n){if(o.initLogger("https://analytics.churnzero.net/"),!o.isFreedScriptError(t)){if(o.isJSONRefError(t)){(n=n||{}).JSONRefInfo=!0;try{n.docType=window.document.doctype.systemId}catch(e){}try{n.cleanRoomExists=null!==window.document.getElementById("cz-clean-room")}catch(e){}}window.__tracerCZ.log(e,t,n)}},o.isFreedScriptError=function(e){return!(!e||!e.number||"-2146823277"!==e.number.toString())},o.isJSONRefError=function(e){if(!e)return!1;try{var t=e.toString()||"";if(-1<t.indexOf("'JSON'")||-1<t.indexOf("getOriginalJson"))return!0}catch(e){}return!1},o.prototype.log=function(e,t,n){var i;this.reportUrl&&(i=this.dateConstructor.now(),(null===this.throttleSet||i-this.throttleSet>this.throttleTime)&&(this.doLog(e,t,n),this.throttleSet=i))},o.prototype.doLog=function(e,t,n){var i={t:this.dateConstructor.now(),v:this.appVersion},o={code:e,message:"",stack:"",extraInfo:void 0},e=this.reportUrl,i=s.CoreUtils.Urls.buildQueryStringString(i),e=e+"error";o.message=(t||"Logged null or undefined exception").toString(),o.stack=t.stack||t.backtrace||t.stacktrace;try{o.stack||(o.stack=this.generateStackTrace())}catch(e){o.stack="Generating Stack Trace caused error."}o.stack=this.coder.encode(o.stack),n&&(o.extraInfo=this.coder.encode(n)),this.httpService.Post(e+i,o,!1,s.CoreUtils.noop,s.CoreUtils.noop)},o.prototype.generateStackTrace=function(){var t,e="[anonymous]",n=/function\s*([\w\-$]+)?\s*\(/i;try{throw Error("")}catch(e){t=e.stack||e.backtrace||e.stacktrace}if(!t){t=[];try{for(var i=arguments.callee.caller.caller;i&&t.length<10;){var o=n.test(i.toString())&&RegExp.$1||e;t.push(o),i=i.caller}}catch(e){}try{t="Manually Rebuilt\n"+t.join("\n")}catch(e){t="Could not manually rebuild stack trace."}}return t},Object.defineProperty(o.prototype,"appVersion",{get:function(){return this._appVersion},enumerable:!1,configurable:!0}),o);function o(e,t,n){this.reportUrl=e,this.coder=t,this.dateConstructor=n,this.throttleSet=null,this.throttleTime=3e4,this._appVersion="s1.02.7187.003",this.reportUrl||(n=s.CoreUtils.Urls.getChurnZeroScriptSrc(document),this.reportUrl=n?s.CoreUtils.Urls.buildClientSideUrls(n).sockets:""),this.dateConstructor||(this.dateConstructor=Date),this.coder||(this.coder={encode:JSON.stringify,decode:JSON.parse}),this.httpService=new i.default(this.coder)}exports.default=t},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.Enums=void 0,i=t.Enums||(t.Enums={}),(t=i.EventTypes||(i.EventTypes={}))[t.Mapped=1]="Mapped",t[t.Unmapped=2]="Unmapped",(t=i.LocationTypes||(i.LocationTypes={}))[t.Site=1]="Site",t[t.Page=2]="Page",(t=i.SelectorTypes||(i.SelectorTypes={}))[t.Suggested=1]="Suggested",t[t.Custom=2]="Custom",(t=i.TransportCodes||(i.TransportCodes={}))[t.PubSubMirror=1]="PubSubMirror",t[t.FrameComm=2]="FrameComm",t[t.WalkthroughClickAudit=3]="WalkthroughClickAudit",(t=i.FrameCommCodes||(i.FrameCommCodes={}))[t.SubframeBoot=1001]="SubframeBoot",t[t.SubframeBootResponse=1002]="SubframeBootResponse",t[t.SubFramePassback=1003]="SubFramePassback",t[t.MainFrameComRePublish=1004]="MainFrameComRePublish",t[t.MainFramePassdown=1005]="MainFramePassdown",(t=i.DevlessEvents||(i.DevlessEvents={}))[t.DevlessInit=2001]="DevlessInit",t[t.DevlessConnectionInfo=2002]="DevlessConnectionInfo",t[t.DevlessShow=2003]="DevlessShow",t[t.DevlessHide=2004]="DevlessHide",t[t.DevlessResize=2005]="DevlessResize",t[t.DevlessIframeResized=2006]="DevlessIframeResized",t[t.DevlessElementExistsCheck=2007]="DevlessElementExistsCheck",t[t.DevlessElementExistsCheckResponse=2008]="DevlessElementExistsCheckResponse",t[t.DevlessCurrentHref=2009]="DevlessCurrentHref",t[t.DevlessCurrentHrefResponse=2010]="DevlessCurrentHrefResponse",t[t.DevlessPush=2011]="DevlessPush",t[t.ElementFinderStart=2012]="ElementFinderStart",t[t.ElementFinderStop=2013]="ElementFinderStop",t[t.ElementFinderElementSelected=2014]="ElementFinderElementSelected",t[t.ElementFinderHoverUpdate=2015]="ElementFinderHoverUpdate",t[t.ElementFinderHighlightElement=2016]="ElementFinderHighlightElement",t[t.ElementFinderElementHighlighted=2017]="ElementFinderElementHighlighted",t[t.EditorSet=2018]="EditorSet",t[t.EditorChanged=2019]="EditorChanged",(t=i.SocketMessageTypes||(i.SocketMessageTypes={}))[t.SOCKETMESSAGETYPE_DISCONNECT=-2]="SOCKETMESSAGETYPE_DISCONNECT",t[t.SOCKETMESSAGETYPE_INITIAL_CONNECTION=-1]="SOCKETMESSAGETYPE_INITIAL_CONNECTION",t[t.SOCKETMESSAGETYPE_ANNOUNCEMENT=1]="SOCKETMESSAGETYPE_ANNOUNCEMENT",t[t.SOCKETMESSAGETYPE_USER_ACCOUNT_ALERT=5]="SOCKETMESSAGETYPE_USER_ACCOUNT_ALERT",t[t.SOCKETMESSAGETYPE_TRACK_EVENT=6]="SOCKETMESSAGETYPE_TRACK_EVENT",t[t.SOCKETMESSAGETYPE_SET_ATTRIBUTE=7]="SOCKETMESSAGETYPE_SET_ATTRIBUTE",t[t.SOCKETMESSAGETYPE_IS_ACTIVE=8]="SOCKETMESSAGETYPE_IS_ACTIVE",t[t.SOCKETMESSAGETYPE_MESSAGE_READ=9]="SOCKETMESSAGETYPE_MESSAGE_READ",t[t.SOCKETMESSAGETYPE_MESSAGE_CLICKED=10]="SOCKETMESSAGETYPE_MESSAGE_CLICKED",t[t.SOCKETMESSAGETYPE_CHECK_ONLINE=11]="SOCKETMESSAGETYPE_CHECK_ONLINE",t[t.SOCKETMESSAGETYPE_CHECK_ONLINE_RESULT=12]="SOCKETMESSAGETYPE_CHECK_ONLINE_RESULT",t[t.SOCKETMESSAGETYPE_UPDATE_APP_VERSION=13]="SOCKETMESSAGETYPE_UPDATE_APP_VERSION",t[t.SOCKETMESSAGETYPE_EXPIRE_MESSAGE=14]="SOCKETMESSAGETYPE_EXPIRE_MESSAGE",t[t.SOCKETMESSAGETYPE_CHECK_EVENT_MAP_CONFIG_VERSION=15]="SOCKETMESSAGETYPE_CHECK_EVENT_MAP_CONFIG_VERSION",t[t.SOCKETMESSAGETYPE_REFRESH_EVENT_MAP_CONFIG=16]="SOCKETMESSAGETYPE_REFRESH_EVENT_MAP_CONFIG",t[t.SOCKETMESSAGETYPE_TIME_IN_APP=17]="SOCKETMESSAGETYPE_TIME_IN_APP",t[t.SOCKETMESSAGETYPE_CheckWalkthroughConfigVersion=18]="SOCKETMESSAGETYPE_CheckWalkthroughConfigVersion",t[t.SOCKETMESSAGETYPE_RefreshWalkthroughConfig=19]="SOCKETMESSAGETYPE_RefreshWalkthroughConfig",t[t.SOCKETMESSAGETYPE_WalkthroughAction=20]="SOCKETMESSAGETYPE_WalkthroughAction",t[t.SOCKETMESSAGETYPE_CheckPageTagConfigVersion=21]="SOCKETMESSAGETYPE_CheckPageTagConfigVersion",t[t.SOCKETMESSAGETYPE_RefreshPageTagConfig=22]="SOCKETMESSAGETYPE_RefreshPageTagConfig",(t=i.AnnouncementPosition||(i.AnnouncementPosition={}))[t.PanelOnly=1]="PanelOnly",t[t.PopUp=2]="PopUp",t[t.SlideBottomCenter=3]="SlideBottomCenter",t[t.SlideLeftBottom=4]="SlideLeftBottom",t[t.SlideTopLeft=5]="SlideTopLeft",t[t.SlideTopCenter=6]="SlideTopCenter",t[t.SlideTopRight=7]="SlideTopRight",t[t.SlideBottomLeft=8]="SlideBottomLeft",t[t.SlideBottomRight=9]="SlideBottomRight",t[t.SlideLeftTop=10]="SlideLeftTop",t[t.SlideLeftCenter=11]="SlideLeftCenter",t[t.SlideRightTop=12]="SlideRightTop",t[t.SlideRightCenter=13]="SlideRightCenter",t[t.SlideRightBottom=14]="SlideRightBottom",t[t.Tooltip=15]="Tooltip",(t=i.WalkthroughActionType||(i.WalkthroughActionType={}))[t.Unknown=0]="Unknown",t[t.WalkthroughStarted=1]="WalkthroughStarted",t[t.StepStarted=2]="StepStarted",t[t.StepClicked=3]="StepClicked",t[t.StepCompleted=4]="StepCompleted",t[t.StepAbandonded=5]="StepAbandonded",t[t.WalkthroughCompleted=6]="WalkthroughCompleted",t[t.WalkthroughAbandoned=7]="WalkthroughAbandoned",t[t.WalkthroughResumed=8]="WalkthroughResumed",(t=i.FrameType||(i.FrameType={}))[t.WalkThrough=0]="WalkThrough",t[t.InAppAnnouncement=1]="InAppAnnouncement",t[t.NPS=2]="NPS",(i=i.AnnouncementElementType||(i.AnnouncementElementType={}))[i.Popup=0]="Popup",i[i.Slider=1]="Slider",i[i.Tooltip=2]="Tooltip"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidthUnitType=t.SuccessCenterWidgetType=t.InAppOverlayPosition=t.SuccessCenterLocation=t.UIPosition=t.LaunchAvatarType=t.LaunchTrigger=t.LaunchIconType=t.LaunchIconPosition=t.StyleConfigTooltipWidth=t.StyleConfigSliderWidth=t.StyleConfigPopUpWidth=t.StepNumberPosition=t.ContainerType=t.AnchorActionType=t.WalkthroughTriggerType=t.WalkthroughActionType=t.TooltipPosition=t.AnnouncementPosition=t.SocketMessageTypes=t.DevlessEvents=t.InterfaceCommCodes=t.FrameCommCodes=t.ChurnZeroAppEvents=t.TransportCodes=t.SelectorTypes=t.LocationTypes=t.EventTypes=t.AnnouncementType=void 0;var i=n(36);Object.defineProperty(t,"AnnouncementType",{enumerable:!0,get:function(){return i.AnnouncementType}}),(n=t.EventTypes||(t.EventTypes={}))[n.Mapped=1]="Mapped",n[n.Unmapped=2]="Unmapped",(n=t.LocationTypes||(t.LocationTypes={}))[n.Site=1]="Site",n[n.Page=2]="Page",(n=t.SelectorTypes||(t.SelectorTypes={}))[n.Suggested=1]="Suggested",n[n.Custom=2]="Custom",n[n.Intermediate=3]="Intermediate",(n=t.TransportCodes||(t.TransportCodes={}))[n.PubSubMirror=1]="PubSubMirror",n[n.FrameComm=2]="FrameComm",n[n.WalkthroughClickAudit=3]="WalkthroughClickAudit",n[n.AnnouncementFrameComm=4]="AnnouncementFrameComm",n[n.InterfaceComm=5]="InterfaceComm",(n=t.ChurnZeroAppEvents||(t.ChurnZeroAppEvents={}))[n.DIGEST=1]="DIGEST",n[n.HALT=2]="HALT",n[n.START=3]="START",n[n.PanelReady=4]="PanelReady",n[n.PanelShow=5]="PanelShow",n[n.PanelHide=6]="PanelHide",n[n.ChangePollInterval=7]="ChangePollInterval",n[n.AnnouncementClosed=8]="AnnouncementClosed",n[n.WalkthroughStart=9]="WalkthroughStart",n[n.SubframeRegistered=10]="SubframeRegistered",n[n.JourneyChecklistRefreshed=11]="JourneyChecklistRefreshed",n[n.PanelLauncherReady=12]="PanelLauncherReady",n[n.SuccessCenterReady=13]="SuccessCenterReady",n[n.NewAnnouncement=14]="NewAnnouncement",n[n.ExpireAnnouncement=15]="ExpireAnnouncement",n[n.ActivityMonitorActive=16]="ActivityMonitorActive",n[n.ActivityMonitorIdle=17]="ActivityMonitorIdle",n[n.ActivityMonitorHalt=18]="ActivityMonitorHalt",(n=t.FrameCommCodes||(t.FrameCommCodes={}))[n.SubframeBoot=1001]="SubframeBoot",n[n.SubframeBootResponse=1002]="SubframeBootResponse",n[n.SubFramePassback=1003]="SubFramePassback",n[n.MasterFrameComRePublish=1004]="MasterFrameComRePublish",n[n.MasterFramePassdown=1005]="MasterFramePassdown",(n=t.InterfaceCommCodes||(t.InterfaceCommCodes={}))[n.SuccessCenterToggle=5001]="SuccessCenterToggle",n[n.WalkthroughClickAudit=5002]="WalkthroughClickAudit",n[n.AnnouncementClickAudit=5003]="AnnouncementClickAudit",n[n.NpsAnnouncementLinkClicked=5004]="NpsAnnouncementLinkClicked",n[n.SuccessCenterSetStyles=5005]="SuccessCenterSetStyles",n[n.SuccessCenterSetSocketContext=5006]="SuccessCenterSetSocketContext",n[n.SuccessCenterUpdateUnreadBadge=5007]="SuccessCenterUpdateUnreadBadge",n[n.AnnouncementMarkAsRead=5008]="AnnouncementMarkAsRead",(n=t.DevlessEvents||(t.DevlessEvents={}))[n.DevlessInit=2001]="DevlessInit",n[n.DevlessConnectionInfo=2002]="DevlessConnectionInfo",n[n.DevlessShow=2003]="DevlessShow",n[n.DevlessHide=2004]="DevlessHide",n[n.DevlessResize=2005]="DevlessResize",n[n.DevlessIframeResized=2006]="DevlessIframeResized",n[n.DevlessElementExistsCheck=2007]="DevlessElementExistsCheck",n[n.DevlessElementExistsCheckResponse=2008]="DevlessElementExistsCheckResponse",n[n.DevlessCurrentHref=2009]="DevlessCurrentHref",n[n.DevlessCurrentHrefResponse=2010]="DevlessCurrentHrefResponse",n[n.DevlessPush=2011]="DevlessPush",n[n.ElementFinderStart=2012]="ElementFinderStart",n[n.ElementFinderStop=2013]="ElementFinderStop",n[n.ElementFinderElementSelected=2014]="ElementFinderElementSelected",n[n.ElementFinderHoverUpdate=2015]="ElementFinderHoverUpdate",n[n.ElementFinderHighlightElement=2016]="ElementFinderHighlightElement",n[n.ElementFinderElementHighlighted=2017]="ElementFinderElementHighlighted",n[n.EditorSet=2018]="EditorSet",n[n.EditorChanged=2019]="EditorChanged",n[n.WalkthroughStepPreviewClose=2020]="WalkthroughStepPreviewClose",(n=t.SocketMessageTypes||(t.SocketMessageTypes={}))[n.SOCKETMESSAGETYPE_DISCONNECT=-2]="SOCKETMESSAGETYPE_DISCONNECT",n[n.SOCKETMESSAGETYPE_INITIAL_CONNECTION=-1]="SOCKETMESSAGETYPE_INITIAL_CONNECTION",n[n.SOCKETMESSAGETYPE_ANNOUNCEMENT=1]="SOCKETMESSAGETYPE_ANNOUNCEMENT",n[n.SOCKETMESSAGETYPE_USER_ACCOUNT_ALERT=5]="SOCKETMESSAGETYPE_USER_ACCOUNT_ALERT",n[n.SOCKETMESSAGETYPE_TRACK_EVENT=6]="SOCKETMESSAGETYPE_TRACK_EVENT",n[n.SOCKETMESSAGETYPE_SET_ATTRIBUTE=7]="SOCKETMESSAGETYPE_SET_ATTRIBUTE",n[n.SOCKETMESSAGETYPE_IS_ACTIVE=8]="SOCKETMESSAGETYPE_IS_ACTIVE",n[n.SOCKETMESSAGETYPE_MESSAGE_READ=9]="SOCKETMESSAGETYPE_MESSAGE_READ",n[n.SOCKETMESSAGETYPE_MESSAGE_CLICKED=10]="SOCKETMESSAGETYPE_MESSAGE_CLICKED",n[n.SOCKETMESSAGETYPE_CHECK_ONLINE=11]="SOCKETMESSAGETYPE_CHECK_ONLINE",n[n.SOCKETMESSAGETYPE_CHECK_ONLINE_RESULT=12]="SOCKETMESSAGETYPE_CHECK_ONLINE_RESULT",n[n.SOCKETMESSAGETYPE_UPDATE_APP_VERSION=13]="SOCKETMESSAGETYPE_UPDATE_APP_VERSION",n[n.SOCKETMESSAGETYPE_EXPIRE_MESSAGE=14]="SOCKETMESSAGETYPE_EXPIRE_MESSAGE",n[n.SOCKETMESSAGETYPE_CHECK_EVENT_MAP_CONFIG_VERSION=15]="SOCKETMESSAGETYPE_CHECK_EVENT_MAP_CONFIG_VERSION",n[n.SOCKETMESSAGETYPE_REFRESH_EVENT_MAP_CONFIG=16]="SOCKETMESSAGETYPE_REFRESH_EVENT_MAP_CONFIG",n[n.SOCKETMESSAGETYPE_TIME_IN_APP=17]="SOCKETMESSAGETYPE_TIME_IN_APP",n[n.SOCKETMESSAGETYPE_CheckWalkthroughConfigVersion=18]="SOCKETMESSAGETYPE_CheckWalkthroughConfigVersion",n[n.SOCKETMESSAGETYPE_RefreshWalkthroughConfig=19]="SOCKETMESSAGETYPE_RefreshWalkthroughConfig",n[n.SOCKETMESSAGETYPE_WalkthroughAction=20]="SOCKETMESSAGETYPE_WalkthroughAction",n[n.SOCKETMESSAGETYPE_CheckPageTagConfigVersion=21]="SOCKETMESSAGETYPE_CheckPageTagConfigVersion",n[n.SOCKETMESSAGETYPE_RefreshPageTagConfig=22]="SOCKETMESSAGETYPE_RefreshPageTagConfig",n[n.SOCKETMESSAGETYPE_CheckChecklistConfigVersion=23]="SOCKETMESSAGETYPE_CheckChecklistConfigVersion",n[n.SOCKETMESSAGETYPE_RefreshChecklistConfig=24]="SOCKETMESSAGETYPE_RefreshChecklistConfig",n[n.SOCKETMESSAGETYPE_ChecklistItemToggle=25]="SOCKETMESSAGETYPE_ChecklistItemToggle",n[n.SOCKETMESSAGETYPE_ChecklistMarkComplete=26]="SOCKETMESSAGETYPE_ChecklistMarkComplete",(n=t.AnnouncementPosition||(t.AnnouncementPosition={}))[n.PanelOnly=1]="PanelOnly",n[n.PopUp=2]="PopUp",n[n.SlideBottomCenter=3]="SlideBottomCenter",n[n.SlideLeftBottom=4]="SlideLeftBottom",n[n.SlideTopLeft=5]="SlideTopLeft",n[n.SlideTopCenter=6]="SlideTopCenter",n[n.SlideTopRight=7]="SlideTopRight",n[n.SlideBottomLeft=8]="SlideBottomLeft",n[n.SlideBottomRight=9]="SlideBottomRight",n[n.SlideLeftTop=10]="SlideLeftTop",n[n.SlideLeftCenter=11]="SlideLeftCenter",n[n.SlideRightTop=12]="SlideRightTop",n[n.SlideRightCenter=13]="SlideRightCenter",n[n.SlideRightBottom=14]="SlideRightBottom",n[n.Tooltip=15]="Tooltip",(n=t.TooltipPosition||(t.TooltipPosition={}))[n.Auto=1]="Auto",n[n.Top=2]="Top",n[n.Left=3]="Left",n[n.Bottom=4]="Bottom",n[n.Right=5]="Right",(n=t.WalkthroughActionType||(t.WalkthroughActionType={}))[n.Unknown=0]="Unknown",n[n.WalkthroughStarted=1]="WalkthroughStarted",n[n.StepStarted=2]="StepStarted",n[n.StepClicked=3]="StepClicked",n[n.StepCompleted=4]="StepCompleted",n[n.StepAbandonded=5]="StepAbandonded",n[n.WalkthroughCompleted=6]="WalkthroughCompleted",n[n.WalkthroughAbandoned=7]="WalkthroughAbandoned",n[n.WalkthroughResumed=8]="WalkthroughResumed",n[n.StepRevisited=9]="StepRevisited",(n=t.WalkthroughTriggerType||(t.WalkthroughTriggerType={}))[n.Click=1]="Click",n[n.PageVisit=2]="PageVisit",n[n.Event=3]="Event",n[n.Anchor=4]="Anchor",(n=t.AnchorActionType||(t.AnchorActionType={}))[n.Click=1]="Click",n[n.Hover=2]="Hover",(n=t.ContainerType||(t.ContainerType={}))[n.Body=1]="Body",n[n.Parent=2]="Parent",(n=t.StepNumberPosition||(t.StepNumberPosition={}))[n.TopLeft=0]="TopLeft",n[n.TopCenter=1]="TopCenter",n[n.TopRight=2]="TopRight",n[n.BottomLeft=3]="BottomLeft",n[n.BottomCenter=4]="BottomCenter",n[n.BottomRight=5]="BottomRight",(n=t.StyleConfigPopUpWidth||(t.StyleConfigPopUpWidth={}))[n.Small=340]="Small",n[n.Medium=660]="Medium",n[n.Large=980]="Large",(n=t.StyleConfigSliderWidth||(t.StyleConfigSliderWidth={}))[n.Small=350]="Small",n[n.Medium=660]="Medium",n[n.Large=980]="Large",(n=t.StyleConfigTooltipWidth||(t.StyleConfigTooltipWidth={}))[n.Small=300]="Small",n[n.Medium=425]="Medium",n[n.Large=550]="Large",(n=t.LaunchIconPosition||(t.LaunchIconPosition={}))[n.TopLeft=0]="TopLeft",n[n.TopCenter=1]="TopCenter",n[n.TopRight=2]="TopRight",n[n.LeftCenter=3]="LeftCenter",n[n.RightCenter=4]="RightCenter",n[n.BottomLeft=5]="BottomLeft",n[n.BottomCenter=6]="BottomCenter",n[n.BottomRight=7]="BottomRight",(n=t.LaunchIconType||(t.LaunchIconType={}))[n.Float=0]="Float",n[n.Tabbed=1]="Tabbed",(n=t.LaunchTrigger||(t.LaunchTrigger={}))[n.ClickableIcon=1]="ClickableIcon",n[n.JavascriptEvent=2]="JavascriptEvent",(n=t.LaunchAvatarType||(t.LaunchAvatarType={}))[n.Custom=1]="Custom",n[n.Heart=2]="Heart",n[n.Heartbeat=3]="Heartbeat",n[n.LightBulb=4]="LightBulb",n[n.Shield=5]="Shield",n[n.Info=6]="Info",n[n.ConciergeBell=7]="ConciergeBell",(n=t.UIPosition||(t.UIPosition={}))[n.SuccessPanel=1]="SuccessPanel",n[n.LaunchIcon=2]="LaunchIcon",(n=t.SuccessCenterLocation||(t.SuccessCenterLocation={}))[n.InAppOverlay=1]="InAppOverlay",n[n.NewTab=2]="NewTab",(n=t.InAppOverlayPosition||(t.InAppOverlayPosition={}))[n.Right=1]="Right",n[n.Left=2]="Left",(n=t.SuccessCenterWidgetType||(t.SuccessCenterWidgetType={})).AccountRoles="accountroles",n.InAppAnnouncements="inappannouncements",n.Surveys="surveys",n.JourneyChecklist="journeychecklist",n.ExternalJourneyReport="externaljourneyreport",n.CustomTables="customtables",n.Text="text",n.IFrame="iframe",(t=t.WidthUnitType||(t.WidthUnitType={}))[t.Pixels=1]="Pixels",t[t.Percentage=2]="Percentage"},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModelUtils=void 0;var c=t(6),t=(l.getNonMutatedValue=function(e,t){var n=Object.prototype.toString.call(t);return"[object Object]"===n&&"assign"in Object?Object.assign({},t):"[object Array]"===n?[].concat(t):"[object Function]"===n?t.bind(e):t},l.assignDefined=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=t.length,o=0;o<i;o++){var s,r,a=t[o];for(s in a)c.CoreUtils.hasOwnProp(e,s)&&(void 0!==(r=a[s])&&(e[s]=l.getNonMutatedValue(e,r)))}return e},l.create=function(n,i,o){return void 0===o&&(o=!1),i&&Object.keys(i).forEach(function(e){var t;o&&!c.CoreUtils.hasOwnProp(n,e)||(t=i[e],n[e]=l.getNonMutatedValue(n,t))}),n},l);function l(){}exports.ModelUtils=t},function(e,exports,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReleaseGates=exports.FeatureFlags=void 0;var i,o,s=t(0);(t=i=exports.FeatureFlags||(exports.FeatureFlags={})).PageTags="pageTaggingEnabled",t.Walkthroughs="walkthroughsEnabled",t.SuccessPanelAvatarPositionEnabled="successPanelAvatarPositionEnabled",t.SuccessCentersEnabled="successCentersEnabled",(t=o=exports.ReleaseGates||(exports.ReleaseGates={})).JourneyChecklistReleased="journeyChecklistReleased",t.JourneyChecklistPhaseTwoReleased="journeyChecklistPhaseTwoReleased",t.SuccessCentersReleased="successCentersReleased",t.DevlessPreviousWalkthroughStepReleased="devlessPreviousWalkthroughStepReleased";r.prototype.setTenantId=function(e){this._tenantId=e},r.prototype.currentTenantId=function(){return this._tenantId},Object.defineProperty(r.prototype,"accountOwner",{get:function(){return this._accountOwner},enumerable:!1,configurable:!0}),r.prototype.setAccountOwner=function(e){this._accountOwner=e,this.storageSvc.remove(r.storageKeys.UserAccount)},Object.defineProperty(r.prototype,"contact",{get:function(){return this._contact},enumerable:!1,configurable:!0}),r.prototype.SetContact=function(e){this._contact=e},r.prototype.SetUIFontFamilyMapping=function(e){this._uiFontFamilyMapping=e},r.prototype.buildUIFontFamilyCssRequestUrlFromConfig=function(e){if(!e)return null;var t,n=e.uiFontFamilyIds||[];e.fontFamilyId&&"number"==typeof e.fontFamilyId&&n.push(e.fontFamilyId),!e.fontFamily||(t=this.getUIFontFamilyMappingId(e.fontFamily))&&n.push(t);e=this.getUIFontFamilyMappingId(e.ctaFontFamily);return e&&n.push(e),this.buildUIFontFamilyCssRequestUrl(n)},r.prototype.buildUIFontFamilyCssRequestUrl=function(e){for(var n=e||[],i=[],t=n.length,o=this,s=0;s<t;s++)!function(e){var t=n[e],e=o._uiFontFamilyMapping.filter(function(e){return e.id===t}),e=0<e.length?e[0]:null;e&&e.queryPart&&i.push(e.queryPart)}(s);return 0<i.length?this.GOOGLE_CSS2_REQUEST_BASE+"?"+i.join("&")+"&display=swap":null},r.prototype.getUIFontFamilyMappingId=function(e){if(s.CoreUtils.isNullOrUndefined(e))return null;if("number"==typeof e)return e;var t=e.replace(/"/g,""),e=t.indexOf(","),n=t.substr(0,e),e=this._uiFontFamilyMapping.filter(function(e){return e.family.toUpperCase()===n.toUpperCase()});return 0<e.length?e[0].id:null},r.prototype.getUIFontFamilyMappingDisplayValue=function(t){if("string"==typeof t)return t;var e=this._uiFontFamilyMapping.filter(function(e){return e.id===t});return 0<e.length?e[0].styleValue:""},r.prototype.getFullUIFontFamilyCssRequestUrl=function(){var e=this._uiFontFamilyMapping.map(function(e){return e.queryPart});return 0===e.length?null:this.GOOGLE_CSS2_REQUEST_BASE+"?"+e.join("&")+"&display=swap"},r.prototype.resetContact=function(){this._contact={id:null},this.storageSvc.remove(r.storageKeys.Contact)},r.prototype.FeatureEnabled=function(e){try{return!!this.featureFlags[e]}catch(e){return!1}},r.prototype.setFeatureFlags=function(e){this.featureFlags=n({},e)},r.prototype.getFeatureFlags=function(){return this.featureFlags},r.storageKeys={Contact:"CONTACT_KEY",UserAccount:"USERACCOUNT_KEY"},t=r;function r(e){this.storageSvc=e,this._uiFontFamilyMapping=[],this.GOOGLE_CSS2_REQUEST_BASE="https://fonts.googleapis.com/css2",this.featureFlags={},this._accountOwner=null,this._tenantId=null,this.resetContact(),this._pageTagConfig={pageTags:[],pageTagVersion:"-1"},this.featureFlags={},this.featureFlags[i.PageTags]=!1,this.featureFlags[i.Walkthroughs]=!1,this.featureFlags[i.SuccessCentersEnabled]=!1,this.featureFlags[o.JourneyChecklistReleased]=!1,this.featureFlags[o.JourneyChecklistPhaseTwoReleased]=!1,this.featureFlags[o.SuccessCentersReleased]=!1}exports.default=t},function(e,exports,t){"use strict";var f=this&&this.__assign||function(){return(f=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CoreUtils=void 0;var m=t(14),g=t(15),v=t(16),y=t(3),S=t(17);!function(h){function n(e,t,n,i){var o="";n&&((i=i).setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toUTCString()),document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+o+"; path=/"}h.areCookiesEnabled=function(){try{document.cookie="czcookietest=1; SameSite=Lax";var e=-1!==document.cookie.indexOf("czcookietest=");return document.cookie="czcookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}},h.createCookie=n,h.readCookie=function(e){for(var t=encodeURIComponent(e)+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return null},h.eraseCookie=function(e,t){n(e,"",-1,t)},h.loadScript=function(e,t){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",e),n.onload=function(){return t()},document.getElementsByTagName("head")[0].appendChild(n)},h.refreshScript=function(e,t){t=t||{};var n=document.createElement("script");n.type="text/javascript",t.onError&&(n.onerror=function(){return t.onError()}),t.onLoad&&(n.onload=function(){return t.onLoad()}),n.src=e+(t.includeTimeStamp?"?"+t.timeStamp:""),n.async=!0,document.getElementsByTagName("head")[0].appendChild(n)},h.createElementFromHTML=function(e,t){return(e=e.createElement("div")).innerHTML=t.trim(),e.firstChild},h.closest=function(e,t){for(var n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n};e;){if(n.call(e,t))return e;e=e.parentElement}},function(e){e.inIframe=function(){try{return window!==window.parent}catch(e){return!0}},e.isLegacyIE=function(){return!navigator||!navigator.userAgent||0<=navigator.userAgent.indexOf("MSIE")},e.isXHTML=function(){return document&&document.doctype&&document.doctype.systemId&&-1<(document.doctype.systemId||"").toLowerCase().indexOf("xhtml")};var y=function(){};e.BrowserInfo=y,e.getBrowserInfo=function(){var e=new y;try{var t="";screen.width&&(t+=(screen.width||"")+" x "+(screen.height||""));var n,i=navigator.appVersion,o=navigator.userAgent,s=navigator.appName,r=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10),c=void 0,l=void 0;-1!==(c=o.indexOf("Opera"))&&(s="Opera",r=o.substring(c+6),-1!==(c=o.indexOf("Version"))&&(r=o.substring(c+8))),-1!==(c=o.indexOf("OPR"))?(s="Opera",r=o.substring(c+4)):-1!==(c=o.indexOf("Edge"))?(s="Microsoft Edge",r=o.substring(c+5)):-1!==(c=o.indexOf("MSIE"))?(s="Microsoft Internet Explorer",r=o.substring(c+5)):-1!==(c=o.indexOf("Chrome"))?(s="Chrome",r=o.substring(c+7)):-1!==(c=o.indexOf("Safari"))?(s="Safari",r=o.substring(c+7),-1!==(c=o.indexOf("Version"))&&(r=o.substring(c+8))):-1!==(c=o.indexOf("Firefox"))?(s="Firefox",r=o.substring(c+8)):-1!==o.indexOf("Trident/")?(s="Microsoft Internet Explorer",r=o.substring(o.indexOf("rv:")+3)):(n=o.lastIndexOf(" ")+1)<(c=o.lastIndexOf("/"))&&(s=o.substring(n,c),r=o.substring(c+1),s.toLowerCase()===s.toUpperCase()&&(s=navigator.appName)),-1!==(l=(r=-1!==(l=(r=-1!==(l=r.indexOf(";"))?r.substring(0,l):r).indexOf(" "))?r.substring(0,l):r).indexOf(")"))&&(r=r.substring(0,l)),a=parseInt(""+r,10),isNaN(a)&&(r=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10));var u=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(i),h=!!navigator.cookieEnabled;void 0!==navigator.cookieEnabled||h||(document.cookie="testcookie",h=-1!==document.cookie.indexOf("testcookie"));var d,p="-",f=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(d in f){var m=f[d];if(m.r.test(o)){p=m.s;break}}var g="-",v=void 0;switch(/Windows/.test(p)&&(g=(v=/Windows (.*)/.exec(p))[1],p="Windows"),p){case"Mac OS X":g=(v=/Mac OS X (1[\d][._\d]+)/.exec(o))[1];break;case"Android":g=(v=/Android ([._\d]+)/.exec(o))[1];break;case"iOS":g=(v=/OS (\d+)_(\d+)_?(\d+)?/.exec(i))[1]+"."+v[2]+"."+(0|v[3])}e={screen:t,browser:s,browserVersion:r,browserMajorVersion:a,mobile:u,os:p,osVersion:g,cookies:h}}catch(e){}return e}}(h.FeatureDetection||(h.FeatureDetection={})),h.convertFormSerializedArrayToObject=function(e){var t={};return e.forEach(function(e){t[e.name]=e.value||""}),t},h.expandFlattenedObject=function(e){var t,n={};for(t in e)!function(e,t,n){for(var i=t.split("."),o=e,s=0;s<i.length;s++){var r=i[s];if(s===i.length-1){o[r]=n;break}void 0===o[r]&&(o[r]={}),o=o[r]}}(n,t,e[t]||"");return n},h.extend=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e=e||{};for(var i=1;i<arguments.length;i++)if(arguments[i])for(var o in arguments[i])arguments[i].hasOwnProperty(o)&&(e[o]=arguments[i][o]);return e};var i,e,t=["ng-dirty","ng-touched","ng-untouched","ng-submitted","ng-pristine","ng-valid","ng-scope","ng-isolate-scope","active"];function r(e){return e&&""!==e&&0<e.length?e.split(" ").filter(function(e){return-1===t.indexOf(e.toLowerCase())}).join(" "):""}function a(e){if(e&&""!==e&&0<e.length){for(var t=function(e){return 0!==e.length},n=e.split(" ").filter(t),i=0;i<n.length;i++)n[i]=v.StyleUtils.cssEscape(n[i]);return"."+n.filter(t).join(".")}return""}function o(e){var t;if(0===e.length)return t;switch(e.get(0).tagName.toLowerCase()){case"html":case"body":break;case"select":t=e.val();break;case"img":t=e.attr("alt");break;case"input":case"textarea":t=e.val();break;default:t=e.text()}return t}function s(e){var t;return!i.isNullOrEmpty(e)&&(t=parseInt(e.replace(/[^0-9.]/g,"")),isNaN(t))?null:t}function d(e){var t=S.hashSymbol;-1!==e.indexOf(S.hashBang)&&(t=S.hashBang);e=e.split(t);return[t].concat(e[1])}function c(e){var t={replacement:e,extraPartString:""};if(h.Strings.isNullOrEmpty(e))return t;var n=new RegExp(S.semiColonDelimiter).exec(e),n=null===n?-1:n.index;return-1!==n&&(t.extraPartString=e.substring(n),t.replacement=e.substring(0,n)),t}h.removeKnownClasses=r,h.convertClassStringToEscapedSelector=a,h.buildFullDomSelector=function(e){for(var t=h.getParentsOfElement(e),n=[],i=0;i<t.length;i++)n.push(h.buildElementSelector(t[i]));return(n=n.reverse()).concat([h.buildElementSelector(e)]).join(">")},h.buildElementSelector=function(t){var n=t,e=t.tagName,i=(n.getAttribute("id")||"").trim(),t="";if(""!==i&&(i="#"+i),-1===["html","body"].indexOf(n.tagName.toLowerCase())){try{for(var o=[],s=0;s<n.classList.length;s++)o.push(n.classList[s]);t=(o.join(" ")||"").trim()}catch(e){t=(n.getAttribute("class")||"").trim()}t=a(t=r(t))}return"input"===e.toLowerCase()&&(e+="[type="+n.getAttribute("type")+"]"),e+i+t},h.getTextFromElement=o,h.getIntFromElement=function(e){return s(o(e))},h.getIntFromString=s,h.isElementInViewport=function(e){if(!e)return!1;var t=e.getBoundingClientRect(),n=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;return 0<=t.top&&0<=t.left&&t.bottom<=e&&t.right<=n},h.getParentsOfElement=function(e){for(var t=[],n=e.ownerDocument,i=e.parentNode;i!=n;){var o=i;t.push(o),i=o.parentNode}return t},(h.Times||(h.Times={})).formatWithAMPM=function(e){var t=12<=(n=e.getHours())?"pm":"am",n=(n%=12)||12,e=e.getMinutes();return n+":"+(e<10?"0"+e:e)+" "+t},(h.Dates||(h.Dates={})).formatWithSlashes=function(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()},(e=i=h.Strings||(h.Strings={})).isNullOrEmpty=function(e){return!("string"==typeof e&&0<e.trim().length)},e.escapeHtml=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>''\\/]/g,function(e){return t[e]})},(h.Numbers||(h.Numbers={})).isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},(e=h.Urls||(h.Urls={})).parseUrlString=function(e){var t=e.match(/^(https?:)?\/\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/)||{};(t={protocol:(t={href:e,protocol:t[1]||":",host:t[2]||"",hostname:t[3]||"",port:t[4]||"",pathname:t[5]||"",search:t[6]||"",hash:t[7]||""}).protocol,host:t.host,hostname:t.hostname,port:t.port,pathname:t.pathname,hash:t.hash,search:t.search,extra:""}).hash&&-1!==t.hash.indexOf("?")&&(n=t.hash.split("?"),t.hash=n[0],t.search="?"+n[1]);var n=c(t.pathname);return t.pathname!==n.replacement&&(t.pathname=n.replacement,t.extra+=n.extraPartString),n=c(t.hash),t.hash!==n.replacement&&(t.hash=n.replacement,t.extra+=n.extraPartString),n=c(t.search),t.search!==n.replacement&&(t.search=n.replacement,t.extra+=n.extraPartString),t},e.getChurnZeroScriptSrc=function(e){if(e=e.querySelector("script[src*='churnzero.js']")){e=e.getAttribute("src");if(e)return e=e.substring(0,e.lastIndexOf("/")+1)}return""},e.buildClientSideUrls=function(e){var t=h.Urls.parseUrlString(e),n="https:",i="https:",o="p";return 0<=t.host.indexOf("localhost:53156")?(n="http://localhost:53156/",i="http://localhost:53156/external/",o="d"):0<=t.host.indexOf("localhost:53157")?(n="https://analytics.localhost:53157/",i="https://analytics.localhost:53157/external/",o="d"):0<=t.host.indexOf("apptest.churnzerolabs.com")||0<=t.host.indexOf("analyticstest.churnzerolabs.com")?(n+="//analyticstest.churnzerolabs.com/",i+="//analyticstest.churnzerolabs.com/external/",o="t"):0<=t.host.indexOf("appstaging.churnzerolabs.com")?(n+="//appstaging.churnzerolabs.com/",i+="//appstaging.churnzerolabs.com/external/",o="s"):0<=t.host.indexOf("eu1analytics.churnzero.net")?(n+="//eu1analytics.churnzero.net/",i+="//eu1analytics.churnzero.net/external/"):(n+="//analytics.churnzero.net/",i+="//analytics.churnzero.net/external/"),{scriptSrc:e,cdn:i,baseApiUrl:n,sockets:n+"api/v1/sockets/",environment:o}},e.buildQueryStringString=function(e){var t,n=[],i="";for(t in e)e.hasOwnProperty(t)&&n.push(t+"="+e[t]);return i=n&&0<n.length?"?"+n.join("&"):i},e.parseUrlToLocationParts=function(e){var t=h.Urls.parseUrlString(e),i=[S.hashSymbol,S.hashBang,S.emptyString],n=[];h.Strings.isNullOrEmpty(t.pathname)||(n=(o=t.pathname.split(S.slash)).map(function(e,t){var n=-1!==i.indexOf(e);return{value:e,index:t,hidden:n,prefix:n?S.emptyString:S.slash,include:!0}}));var o,s,r=[];h.Strings.isNullOrEmpty(t.hash)||(r=(o=(s=1===(o=t.hash.split(S.slash)).length)?d(t.hash):o).map(function(e,t){var n=-1!==i.indexOf(e);return{value:e,index:t,hidden:n,prefix:n||s?S.emptyString:S.slash,include:!0}}));var a,c=[];h.Strings.isNullOrEmpty(t.search)||(o=t.search.split(S.ampersand),-1!=(e=0!=(a=(c=o.map(function(e,t){var n=-1!==i.indexOf(e);return{value:e,index:t,hidden:n,prefix:n?S.emptyString:S.ampersand,include:!0}})).length-1)&&c[a].value?c[a].value.indexOf(S.semiColon):-1)&&(l=c[a].value.substring(e),c[a].value=c[a].value.substring(0,e),l=l.split(S.semiColon),c=c.concat(l.map(function(e,t){var n=-1!==i.indexOf(e);return{value:e,index:c.length+t,hidden:n,prefix:0===e.length?S.semiColon:S.emptyString,include:!0}}))));var l=[];return h.Strings.isNullOrEmpty(t.extra)||(l=(o=t.extra.split(new RegExp(S.semiColonDelimiter))).map(function(e,t){return{value:e,index:t,hidden:-1!==i.indexOf(e),prefix:S.semiColon,include:!0}})),{pathParts:n,hashParts:r,searchParts:c,extraParts:l}},e.buildRegexFromLocationParts=function(e,t){var n=h.Urls.parseUrlString(e);function i(e){return"(?:"+e+")"}(t=t?f({},t):{pathParts:[],hashParts:[],searchParts:[],extraParts:[],allowChildPaths:!0,allowChildStates:!0,excludeSearchParts:!0}).pathParts||(t.pathParts=[]),t.hashParts||(t.hashParts=[]),t.searchParts||(t.searchParts=[]),t.extraParts||(t.extraParts=[]),!1!==t.allowChildPaths&&(t.allowChildPaths=!0),!1!==t.allowChildStates&&(t.allowChildStates=!0),!1!==t.excludeSearchParts&&(t.excludeSearchParts=!0),!1!==t.excludeExtraParts&&(t.excludeExtraParts=!0),n.hash&&-1!==n.hash.indexOf(S.questionMark)&&(c=n.hash.split(S.questionMark),n.hash=c[0],n.search=c[1]);var o,s,e=function(r,a,c,l){return void 0===a&&(a="[a-zA-Z0-9\\-_~%]+"),void 0===c&&(c="\\/"),void 0===l&&(l=!0),function(e,t){var n=0===t,i=null;if((r||[]).forEach(function(e){e.index===t&&null===i&&(i=e)}),null!==i&&i.value.trim()!==S.emptyString){var o=i.value,o=(o=n&&0===o.indexOf("?")?o.replace("?",""):o).replace(/[[\]\\^$.|?*+(){}#]/g,function(e){return"\\"+e}),s="",s="function"==typeof c?c(o,t,i):c;return"(?:"+(s=n&&l?"":s)+(i.include?o:"function"==typeof a?a(o):a)+")"+(i.include?"":"+")}}};h.Strings.isNullOrEmpty(n.pathname)||(l=(c=n.pathname.split(S.slash)).map(e(t.pathParts)).filter(function(e){return void 0!==e}),n.pathname=l.join("")),h.Strings.isNullOrEmpty(n.hash)||((o=1===(c=n.hash.split(S.slash)).length)&&(c=d(n.hash)),t.hashParts&&1===t.hashParts.length&&(a=f(f({},t.hashParts[0]),{index:1,prefix:S.emptyString}),(r=new m.LocationPart).index=0,r.hidden=!0,r.include=!0,r.prefix=S.emptyString,r.value=S.hashSymbol,t.hashParts=[r,a]),l=c.map(e(t.hashParts,S.urlPathChars,function(e,t,n){return h.hasOwnProp(n,"prefix")?n.prefix===S.slash?S.escapedSlash:n.prefix:o?S.emptyString:S.escapedSlash})).filter(function(e){return void 0!==e}),n.hash=l.join(S.emptyString)),h.Strings.isNullOrEmpty(n.search)||(l=(c=n.search.split(S.ampersand)).map(e(t.searchParts,function(e){return e.split("=")[0]+"=?[a-zA-Z0-9\\-_~%]*"},function(e,t,n){return h.hasOwnProp(n,"prefix")?n.prefix===S.slash?S.escapedSlash:n.prefix:S.ampersand})).filter(function(e){return void 0!==e}),n.search="\\?"+l.join(S.emptyString)),h.Strings.isNullOrEmpty(n.extra)||(c=n.extra.split(new RegExp(S.semiColonDelimiter)),s=S.urlPathChars.replace(S.semiColon,S.emptyString),l=c.map(e(t.extraParts,function(e){var t=e.split("="),e=t[0];return e===t?e:e+"="+s},function(e,t,n){return h.hasOwnProp(n,"prefix")?n.prefix===S.slash?S.escapedSlash:n.prefix:S.semiColon})).filter(function(e){return void 0!==e}),n.extra=l.join(""));var r=(r=n.host.replace(/(\*|%2A){2}\./g,"(?:[^.]+\\.){0,}")).replace(/(\*|%2A)/g,"[^.]+"),a=(n.protocol!==S.colon?n.protocol:S.emptyString)+"\\/\\/"+r,c=!h.Strings.isNullOrEmpty(n.pathname),e=!h.Strings.isNullOrEmpty(n.hash),l=!h.Strings.isNullOrEmpty(n.search),r=!h.Strings.isNullOrEmpty(n.extra);c&&(a+=n.pathname),t.allowChildPaths?a+=i("\\/"+S.urlPathChars+"\\/?")+"*":a+="(?:\\/?)",c="",e?(u="",u=n.hash,t.allowChildStates?u+=i("\\/"+S.urlPathChars+"\\/?")+"*":u+="\\/?",c+=u):t.allowChildStates&&(c+="(?:[#!][^?]*)?"),e="",l&&!t.excludeSearchParts?e=n.search+"[^#!]*":(l||t.excludeSearchParts)&&(e="(?:\\?[^#!]*)"+(t.excludeSearchParts?"?":""));var u=!h.Strings.isNullOrEmpty(c),l=!h.Strings.isNullOrEmpty(e);return u&&l?a+="("+i(i(c)+i(e))+"|"+i(i(e)+i(c))+")":u?a+=c:l&&(a+=e),e=i(";["+S.urlPathChars.replace(S.semiColon,S.emptyString)+"]*;?"),r&&!t.excludeExtraParts?(n.extra+=i("(?:;?)|"+e)+"*",a+=n.extra):(r||t.excludeExtraParts)&&(a+=i("(?:;?)|"+e)+"*"),(a+=i(S.fullStop)).trim()},e.checkUrlAgainstPageTag=function(e,t){if(h.Strings.isNullOrEmpty(e)||h.Strings.isNullOrEmpty(t.location))return!1;var n,i=void 0;return null!==t.locationOptionsJson&&void 0!==t.locationOptionsJson&&t.isCustomLocation?i=g.LocationOptions.fromJson(t.locationOptionsJson):(i=new g.LocationOptions(h.Urls.parseUrlToLocationParts(t.location)),t.isCustomLocation||null===t.locationOptionsJson||void 0===t.locationOptionsJson||(n=g.LocationOptions.fromJson(t.locationOptionsJson),i.allowChildPaths=n.allowChildPaths,i.allowChildStates=n.allowChildStates,i.excludeSearchParts=n.excludeSearchParts)),i=h.Urls.buildRegexFromLocationParts(t.location,i),new RegExp(i).test(e)},h.noop=function(){},h.isObjectDigestible=function(e){return void 0!==e.onDigest},h.isObject=function(e){return e===Object(e)},h.isArray=function(e){return Array.isArray(e)};var l=["string","number","bigint","boolean","undefined","symbol","null"];function u(e){return-1<l.indexOf(typeof e)}function p(e){var t=e.selector;return!t||0===t.length||"*"===t[t.length-1]||e.selectorTypeId===y.SelectorTypes.Custom&&e.excludeChildren||e.selectorTypeId===y.SelectorTypes.Intermediate&&e.excludeChildren?t:t+", "+t+" *"}h.isPrimitiveType=u,h.clone=function e(t){if(null==t)return t;var n,i,o;if(Array.isArray(t))return e({value:t}).value;if(u(t))return n=t;for(i in n=Object.create(t),Object.keys(t).forEach(function(e){n[e]=t[e]}),n)n[i]instanceof Date?((o=new Date).setTime(n[i].getTime()),n[i]=o):Array.isArray(n[i])?(o=n[i].map(e),n[i]=o):"object"==typeof n[i]&&(n[i]=e(n[i]));return n},h.numKeys=function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},h.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},h.isNullOrUndefined=function(e){return null==e},h.buildEventMapSelector=p,h.concatEventMapSelectors=function(e){return e.map(p).filter(function(e){return e&&0<e.length}).join(", ")},h.concatWalkthroughSelectors=function(e){return e.map(function(e){return p(e.triggerConfig)}).filter(function(e){return e&&0<e.length}).join(", ")},h.sortArrayBy=function(n){return function(e,t){return e[n]<t[n]?-1:e[n]>t[n]?1:0}},h.hasOwnProp=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},h.debounce=function(n,i){var o;return void 0===i&&(i=100),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];clearTimeout(o),o=setTimeout(function(){o=null,n.apply(void 0,e)},i)}}}(exports.CoreUtils||(exports.CoreUtils={}))},function(e,exports,t){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalkthroughStyleConfig=void 0;var o,t=t(9),n=(o=t.StyleConfig,n(s,o),s);function s(){return o.call(this)||this}exports.WalkthroughStyleConfig=n},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalkthroughTriggerConfig=void 0,exports.WalkthroughTriggerConfig=function(){}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StyleConfig=void 0,exports.StyleConfig=function(){}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalkthroughStep=exports.WalkthroughStepType=void 0;var n=t(22),i=t(11),o=t(4),s=t(7);(t=exports.WalkthroughStepType||(exports.WalkthroughStepType={}))[t.PopUp=1]="PopUp",t[t.Slider=2]="Slider",t[t.Tooltip=3]="Tooltip";Object.defineProperty(r.prototype,"stepType",{get:function(){return this.stepTypeId},set:function(e){this.stepTypeId=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stepConfig",{get:function(){if(!i.DataTypeUtils.isStringNullOrEmpty(this.stepConfigJson))return this._stepConfig||(this._stepConfig=n.WalkthroughStepConfig.fromJSONString(this.stepConfigJson,this.stepTypeId)),this._stepConfig},set:function(e){var t=((this._stepConfig=e)||{}).toJSON;t&&(e.toJSON=void 0),this.stepConfigJson=JSON.stringify(e),t&&(e.toJSON=t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"styleConfig",{get:function(){if(this._styleConfig instanceof s.WalkthroughStyleConfig)return this._styleConfig;try{var e=JSON.parse(this.styleConfigJson);this._styleConfig=o.ModelUtils.create(new s.WalkthroughStyleConfig,e)}catch(e){this._styleConfig=new s.WalkthroughStyleConfig}return this._styleConfig},set:function(e){this._styleConfig=e,this.styleConfigJson=JSON.stringify(e)},enumerable:!1,configurable:!0}),r.fromJSONString=function(e){return r.fromObject(JSON.parse(e))},r.fromObject=function(e){e=o.ModelUtils.create(new r,e);return e.stepConfig=n.WalkthroughStepConfig.fromObject(e.stepConfig,e.stepTypeId),e},t=r;function r(){this.__oid=i.DataTypeUtils.newGuid()}exports.WalkthroughStep=t},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DataTypeUtils=void 0;var n=(i.newGuid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},i.isStringNullOrEmpty=function(e){return!("string"==typeof e&&0<e.trim().length)},i);function i(){}exports.DataTypeUtils=n},function(e,exports,t){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalkthroughClickTriggerConfig=void 0;var o,s=t(4),t=t(8),n=(o=t.WalkthroughTriggerConfig,n(r,o),r.fromJSONString=function(e){return r.fromObject(JSON.parse(e))},r.fromObject=function(e){return s.ModelUtils.create(new r,e)},r);function r(){var e=o.call(this)||this;return e.excludeChildren=!1,e}exports.WalkthroughClickTriggerConfig=n},function(e,exports,t){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndependentLauncher=void 0;var c,s=t(26),r=o(t(1)),n=(c=s.BasePanelDisplay,n(a,c),a.prototype.setLauncherBoundingRectangle=function(){this.panelLauncher&&(this.launcherBoundingRect=this.panelLauncher.getBoundingClientRect())},a.prototype.handleError=function(e,t){this.haltOnError&&this.onHalt();var n=this.errorMessagePrefix;t&&(n+=": "+t),r.default.report(n,e)},a);function a(e,t,n,i,o,s,r,a){a=c.call(this,t,n,i,o,s,r,a)||this;return a.parentDocument=e,a.widgets=[],a.haltOnError=!1,a.errorMessagePrefix="Independent Launcher Handle Error",a}exports.IndependentLauncher=n},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocationPart=void 0,exports.LocationPart=function(){}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocationOptions=void 0;var n=(i.fromJson=function(e,t){var n;void 0===t&&(t=JSON);try{n=t.parse(e)}catch(e){n=void 0}return new i(n)},i);function i(e){var t=void 0===e?{}:e,n=t.pathParts,i=t.hashParts,o=void 0===i?[]:i,s=t.searchParts,e=void 0===s?[]:s,i=t.allowChildStates,s=void 0===i||i,i=t.allowChildPaths,i=void 0===i||i,t=t.excludeSearchParts,t=void 0===t||t;this.pathParts=void 0===n?[]:n,this.hashParts=o,this.searchParts=e,!1!==(this.allowChildStates=s)&&(this.allowChildStates=!0),!1!==(this.allowChildPaths=i)&&(this.allowChildPaths=!0),!1!==(this.excludeSearchParts=t)&&(this.excludeSearchParts=!0)}exports.LocationOptions=n},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StyleUtils=void 0;var o,s=t(6);(o=exports.StyleUtils||(exports.StyleUtils={})).appendStyle=function(n){return function(e,t){return(t||"")+(n||"")}},o.replaceStyleValue=function(n,i){return function(e,t){return(t||"").replace(new RegExp(n,"g"),i)}},o.whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},o.camelCaseToDash=function(e){return e?e.replace(/([A-Z])/g,function(e){return"-"+e[0].toLowerCase()}):null},o.isInViewport=function(e){return s.CoreUtils.isElementInViewport(e)},o.cssEscape=function(e){if(0==arguments.length)return"";for(var t,n=String(e),i=n.length,o=-1,s="",r=n.charCodeAt(0);++o<i;)0!=(t=n.charCodeAt(o))?s+=1<=t&&t<=31||127==t||0==o&&48<=t&&t<=57||1==o&&48<=t&&t<=57&&45==r?"\\"+t.toString(16)+" ":(0!=o||1!=i||45!=t)&&(128<=t||45==t||95==t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122)?n.charAt(o):"\\"+n.charAt(o):s+="ï¿½";return s},o.wrapInRule=function(e,t){return e+" { "+t.join(" ")+" }"},o.mapBrandingItemToCSSProps=function(e){var t,n,i=[];for(t in e)s.CoreUtils.hasOwnProp(e,t)&&(0!==((n=e[t])||"").toString().trim().length&&(n="number"==typeof n?n+"px":n,i.push(o.camelCaseToDash(t)+":"+n+" !important;")));return i},o.inheritValue=function(e,t,n){e&&n&&t&&(e[t]=e[t]||n[t])},o.froalaViewerStyle="html{margin:0px;height:auto;}body{height:auto;padding:10px;background:transparent;color:#000000;position:relative;z-index: 2;-webkit-user-select:auto;margin:0px;overflow:hidden;min-height:20px;}body:after{content:'';display:block;clear:both;}body::-moz-selection{background:#b5d6fd;color:#000;}body::selection{background:#b5d6fd;color:#000;}body, body:focus{outline: transparent solid 0px;}body{background: transparent; position: relative; z-index: 2; user-select: auto;}body a{user-select: auto;}body.fr-disabled{user-select: none;}body [contenteditable='true']{outline: transparent solid 0px;}body img{cursor: pointer;}body table td.fr-selected-cell, body table th.fr-selected-cell{border: 1px double rgb(30, 136, 229);}body table tr{user-select: none;}body table td, body table th{user-select: text;}body .fr-no-selection table td, body .fr-no-selection table th{user-select: none;}body .fr-video{user-select: none;}body .fr-video::after{position: absolute; content: ''; z-index: 1; top: 0px; left: 0px; right: 0px; bottom: 0px; cursor: pointer; display: block; background: transparent;}body .fr-video.fr-active > *{z-index: 2; position: relative;}body .fr-video > *{box-sizing: content-box; max-width: 100%; border: none;}body{overflow-wrap: break-word;}body span[style~='color:'] a{color: inherit;}body strong{font-weight: 700;}body table{border: none; border-collapse: collapse; empty-cells: show; max-width: 100%;}body table td{min-width: 5px;}body table.fr-dashed-borders td, body table.fr-dashed-borders th{border-style: dashed;}body table.fr-alternate-rows tbody tr:nth-child(2n){background: rgb(245, 245, 245);}body table td, body table th{border: 1px solid rgb(221, 221, 221);}body table td:empty, body table th:empty{height: 20px;}body table td.fr-highlighted, body table th.fr-highlighted{border: 1px double red;}body table td.fr-thick, body table th.fr-thick{border-width: 2px;}body table th{background: rgb(230, 230, 230);}body hr{clear: both; user-select: none; break-after: page;}body .fr-file{position: relative;}body .fr-file::after{position: relative; content: 'ð'; font-weight: 400;}body pre{white-space: pre-wrap; overflow-wrap: break-word; overflow: visible;}body[dir='rtl'] blockquote{border-left: none; border-right: 2px solid rgb(94, 53, 177); margin-right: 0px; padding-right: 5px; padding-left: 0px;}body[dir='rtl'] blockquote blockquote{border-color: rgb(0, 188, 212);}body[dir='rtl'] blockquote blockquote blockquote{border-color: rgb(67, 160, 71);}body blockquote{border-left: 2px solid rgb(94, 53, 177); margin-left: 0px; padding-left: 5px; color: rgb(94, 53, 177);}body blockquote blockquote{border-color: rgb(0, 188, 212); color: rgb(0, 188, 212);}body blockquote blockquote blockquote{border-color: rgb(67, 160, 71); color: rgb(67, 160, 71);}body span.fr-emoticon{font-weight: 400; font-family: 'Apple Color Emoji', 'Segoe UI Emoji', NotoColorEmoji, 'Segoe UI Symbol', 'Android Emoji', EmojiSymbols; display: inline; line-height: 0;}body span.fr-emoticon.fr-emoticon-img{font-size: inherit; height: 1em; width: 1em; min-height: 20px; min-width: 20px; display: inline-block; margin: -0.1em 0.1em 0.1em; line-height: 1; vertical-align: middle; background-repeat: no-repeat !important;}body .fr-text-gray{color: rgb(170, 170, 170) !important;}body .fr-text-bordered{border-top: 1px solid rgb(34, 34, 34); border-bottom: 1px solid rgb(34, 34, 34); padding: 10px 0px;}body .fr-text-spaced{letter-spacing: 1px;}body .fr-text-uppercase{text-transform: uppercase;}body .fr-class-highlighted{background-color: rgb(255, 255, 0);}body .fr-class-code{border-color: rgb(204, 204, 204); border-radius: 2px; background: rgb(245, 245, 245); padding: 10px; font-family: 'Courier New', Courier, monospace;}body .fr-class-transparency{opacity: 0.5;}body img{position: relative; max-width: 100%;}body img.fr-dib{margin: 5px auto; display: block; float: none; vertical-align: top;}body img.fr-dib.fr-fil{margin-left: 0px; text-align: left;}body img.fr-dib.fr-fir{margin-right: 0px; text-align: right;}body img.fr-dii{display: inline-block; float: none; vertical-align: bottom; margin-left: 5px; margin-right: 5px; max-width: calc(100% - 10px);}body img.fr-dii.fr-fil{float: left; margin: 5px 5px 5px 0px; max-width: calc(100% - 5px);}body img.fr-dii.fr-fir{float: right; margin: 5px 0px 5px 5px; max-width: calc(100% - 5px);}body span.fr-img-caption{position: relative; max-width: 100%;}body span.fr-img-caption.fr-dib{margin: 5px auto; display: block; float: none; vertical-align: top;}body span.fr-img-caption.fr-dib.fr-fil{margin-left: 0px; text-align: left;}body span.fr-img-caption.fr-dib.fr-fir{margin-right: 0px; text-align: right;}body span.fr-img-caption.fr-dii{display: inline-block; float: none; vertical-align: bottom; margin-left: 5px; margin-right: 5px; max-width: calc(100% - 10px);}body span.fr-img-caption.fr-dii.fr-fil{float: left; margin: 5px 5px 5px 0px; max-width: calc(100% - 5px);}body span.fr-img-caption.fr-dii.fr-fir{float: right; margin: 5px 0px 5px 5px; max-width: calc(100% - 5px);}body .fr-video{text-align: center; position: relative;}body .fr-video.fr-rv{padding-bottom: 56.25%; padding-top: 30px; height: 0px; overflow: hidden;}body .fr-video.fr-rv > iframe, body .fr-video.fr-rv embed, body .fr-video.fr-rv object{top: 0px; left: 0px; width: 100%; height: 100%; position: absolute !important;}body .fr-video > *{box-sizing: content-box; max-width: 100%; border: none;}body .fr-video.fr-dvb{display: block; clear: both;}body .fr-video.fr-dvb.fr-fvl{text-align: left;}body .fr-video.fr-dvb.fr-fvr{text-align: right;}body .fr-video.fr-dvi{display: inline-block;}body .fr-video.fr-dvi.fr-fvl{float: left;}body .fr-video.fr-dvi.fr-fvr{float: right;}body a.fr-strong{font-weight: 700;}body a.fr-green{color: green;}body .fr-img-caption{text-align: center;}body .fr-img-caption .fr-img-wrap{padding: 0px; display: inline-block; margin: auto; text-align: center; width: 100%;}body .fr-img-caption .fr-img-wrap img{display: block; margin: auto; width: 100%;}body .fr-img-caption .fr-img-wrap > span{margin: auto; display: block; padding: 5px 5px 10px; font-size: 14px; font-weight: 400; box-sizing: border-box; opacity: 0.9; width: 100%; text-align: center;}body button.fr-rounded, body input.fr-rounded, body textarea.fr-rounded{border-radius: 10px; background-clip: padding-box;}body button.fr-large, body input.fr-large, body textarea.fr-large{font-size: 24px;}"},function(e,exports,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),i=this&&this.__exportStar||function(e,exports){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(exports,t)||n(exports,e,t)};Object.defineProperty(exports,"__esModule",{value:!0}),i(t(37),exports),i(t(38),exports),i(t(39),exports),i(t(40),exports)},function(e,exports,t){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnnouncementStyleConfig=void 0;var o,t=t(9),n=(o=t.StyleConfig,n(s,o),s);function s(){return o.call(this)||this}exports.AnnouncementStyleConfig=n},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChecklistSettingsConfig=void 0,exports.ChecklistSettingsConfig=function(){}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageTag=void 0;var n=t(4),t=(i.FromObject=function(e){var t=n.ModelUtils.create(new i,e);return e.shouldSetExitModule&&(t.shouldSetExitModule=e.shouldSetExitModule,t.exitModuleName=e.exitModuleName),t},i);function i(e){this.tenantId=e,this.pageName="",this.disabled=!1,this.shouldFireEvent=!0,this.eventName="",this.shouldSetModule=!1,this.moduleName="",this.shouldSetExitModule=!0,this.exitModuleName="Default"}exports.PageTag=t},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Segment=void 0;var n=t(4),t=(i.fromObject=function(e){return n.ModelUtils.create(new i,e)},i);function i(){}exports.Segment=t},function(e,exports,t){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.TooltipStepConfig=exports.SliderStepConfig=exports.PopUpStepConfig=exports.WalkthroughStepConfig=void 0;var o=t(10),s=t(3),t=(r.fromJSONString=function(e,t){switch(t){case o.WalkthroughStepType.Slider:return h.fromJSONString(e);case o.WalkthroughStepType.PopUp:return c.fromJSONString(e);case o.WalkthroughStepType.Tooltip:return f.fromJSONString(e);default:return new r}},r.fromObject=function(e,t){switch(t){case o.WalkthroughStepType.Slider:return h.fromObject(e);case o.WalkthroughStepType.PopUp:return c.fromObject(e);case o.WalkthroughStepType.Tooltip:return f.fromObject(e);default:return new r}},r);function r(){this.backgroundColor="#FFFFFF",this.closeColor="#000000",this.borderRadius=5,this.fontFamily="",this.ctaText="Got it!",this.ctaButtonColor="#FFFFFF",this.ctaButtonBorderColor="#000000",this.ctaBackgroundColor="#CCCCCC",this.ctaTextColor="#000000",this.ctaAlignment="center"}exports.WalkthroughStepConfig=t;var a,c=(n(l,a=t),l.fromJSONString=function(e){return l.fromObject(JSON.parse(e))},l.fromObject=function(t){var n=new l;return t&&Object.keys(t).forEach(function(e){n[e]=t[e]}),n},l);function l(){var e=a.call(this)||this;return e.width="340px",e}exports.PopUpStepConfig=c;var u,h=(n(d,u=t),d.fromJSONString=function(e){return d.fromObject(JSON.parse(e))},d.fromObject=function(t){var n=new d;return t&&Object.keys(t).forEach(function(e){n[e]=t[e]}),n},d);function d(){var e=u.call(this)||this;return e.position=s.AnnouncementPosition.SlideTopCenter,e}exports.SliderStepConfig=h;var p,f=(n(m,p=t),m.fromJSONString=function(e){return m.fromObject(JSON.parse(e))},m.fromObject=function(t){var n=new m;return t&&Object.keys(t).forEach(function(e){n[e]=t[e]}),n},m);function m(){var e=p.call(this)||this;return e.position=s.TooltipPosition.Left,e.container=s.ContainerType.Body,e}exports.TooltipStepConfig=f},function(e,exports,t){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalkthroughPageVisitTriggerConfig=void 0;var o,s=t(4),t=t(8),n=(o=t.WalkthroughTriggerConfig,n(r,o),r.fromJSONString=function(e){return r.fromObject(JSON.parse(e))},r.fromObject=function(e){return s.ModelUtils.create(new r,e)},r);function r(){return o.call(this)||this}exports.WalkthroughPageVisitTriggerConfig=n},function(e,exports,t){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.WalkthroughAnchorTriggerConfig=exports.DEFAULT_ANCHOR_ICON_STYLE_CONFIG=exports.AnchorIconStyleConfig=exports.AnchorHoverTextPosition=exports.AnchorSizePreset=exports.AnchorSizeType=exports.AnchorDisplayType=exports.AnchorPositionType=void 0;var o,s,r,a,c,l=t(3),u=t(4),h=t(8),d=t(12);(a=o=exports.AnchorPositionType||(exports.AnchorPositionType={}))[a.Inline=1]="Inline",a[a.TopRight=2]="TopRight",a[a.Right=3]="Right",a[a.BottomRight=4]="BottomRight",a[a.Bottom=5]="Bottom",a[a.BottomLeft=6]="BottomLeft",a[a.Left=7]="Left",a[a.TopLeft=8]="TopLeft",a[a.Top=9]="Top",(c=s=exports.AnchorDisplayType||(exports.AnchorDisplayType={}))[c.AlwaysShow=1]="AlwaysShow",c[c.OnlyOnHover=2]="OnlyOnHover",(t=r=exports.AnchorSizeType||(exports.AnchorSizeType={}))[t.Small=1]="Small",t[t.Medium=2]="Medium",t[t.Large=3]="Large",t[t.Custom=4]="Custom",(c=a=exports.AnchorSizePreset||(exports.AnchorSizePreset={}))[c.Small=16]="Small",c[c.Medium=32]="Medium",c[c.Large=64]="Large",(c=t=exports.AnchorHoverTextPosition||(exports.AnchorHoverTextPosition={}))[c.Right=1]="Right",c[c.Bottom=2]="Bottom",c[c.Left=3]="Left",c[c.Top=4]="Top";var p=function(){};exports.AnchorIconStyleConfig=p,exports.DEFAULT_ANCHOR_ICON_STYLE_CONFIG=u.ModelUtils.create(new p,{iconColor:"#ffffff",iconBackgroundColor:"#000000",iconBorderColor:"#ffffff",size:a.Small,sizeTypeId:r.Small,positionTypeId:o.Inline,displayTypeId:s.AlwaysShow,hoverTextEnabled:!0,hoverText:"Click to see more!",hoverTextColor:"#ffffff",hoverTextBackgroundColor:"#000000",hoverTextPositionId:t.Right});var f,n=(f=h.WalkthroughTriggerConfig,n(m,f),m.fromJSONString=function(e){return d.WalkthroughClickTriggerConfig.fromObject(JSON.parse(e))},m.fromObject=function(e){return u.ModelUtils.create(new d.WalkthroughClickTriggerConfig,e)},m);function m(){var e=f.call(this)||this;return e.triggerActionId=l.AnchorActionType.Click,e.triggerActionDelay=0,e.containerType=l.ContainerType.Body,e.iconType="",e.iconStyleConfig=new p,e}exports.WalkthroughAnchorTriggerConfig=n},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=(i.prototype.Get=function(e,t,n){return this.http("GET",e,null,!1,t,n)},i.prototype.Post=function(e,t,n,i,o){return this.http("POST",e,t,n,i,o)},i.prototype.http=function(e,t,n,i,o,s){var r=this,a=void 0;try{a=this.XMLHttpRequestFactory()}catch(e){}if(!a)return s&&s("XHR Unavailable Failed",n),null;a.onload=function(){if(200===a.status||204===a.status){if(o){var e=a.responseText;return"{"!==e.substring(0,1)&&"["!==e.substring(0,1)||(e=r.decode(e)),o(e)}}else s&&s(a.responseText,n)},a.onabort=function(){s&&s("Request Aborted",n)},a.onerror=function(){s&&s("Request Failed",n)};var c=null;n&&(c="="+encodeURIComponent(this.encode(n)));try{a.open(e,t),a.withCredentials=i,a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c?a.send(c):a.send()}catch(e){s&&s("Request Failed",n)}return a},i);function i(e,t){e?(this.encode=e.encode,this.decode=e.decode):(this.encode=JSON.stringify,this.decode=JSON.parse),this.XMLHttpRequestFactory=function(){return new(t?"function"==typeof t?t():t:XMLHttpRequest)}}exports.default=n},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BasePanelDisplay=void 0;var n=t(0),t=(Object.defineProperty(i.prototype,"basePanelVisible",{get:function(){return void 0===this._basePanelVisible&&(this._basePanelVisible=this.storageSvc.get(this.panelOpenStatusKey,this._basePanelVisible)),this._basePanelVisible},set:function(e){this._basePanelVisible=e,this.storageSvc.set(this.panelOpenStatusKey,this._basePanelVisible)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"basePanel",{get:function(){return this.windowSvc.czq("#cz-csm-panel")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"panelToggle",{get:function(){return this.windowSvc.czq("#czChatButtonWrapper")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"panelToggleContent",{get:function(){return this.panelToggle.find(".cz-chat-button-2")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"alertMessageBody",{get:function(){return this.windowSvc.czq(".cz-alert-message-body")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"unreadBadge",{get:function(){return this.windowSvc.czq(".cz-unread-badge")},enumerable:!1,configurable:!0}),i.prototype.getLauncherBoundingRectangle=function(e){return null!==this.launcherBoundingRect&&!e||this.setLauncherBoundingRectangle(),this.launcherBoundingRect},i.prototype.removeAllInjectedHtml=function(){this.windowSvc.czq("link#cz-styles, div#cz-panel-container").remove()},i.prototype.loadCZStyles=function(){this.baseStylesLoaded||(this.baseStylesLoaded=!0)},i.prototype.openBasePanel=function(e,t){this.basePanelVisible&&!e||(this.hidePanelToggle(),this.basePanel.removeClass("hidden").removeClass("panel-"+this.sessionSvc.PanelPosition+"-collapsed").addClass("panel-"+this.sessionSvc.PanelPosition).one(n.StyleUtils.whichTransitionEvent(),function(){"function"==typeof t&&t()}),this.alertMessageBody.attr("style",n.StyleUtils.replaceStyleValue("block","none")),this.basePanelVisible=!0,this.appSvc.pubsub.publish(n.ChurnZeroAppEvents.PanelShow))},i.prototype.closeBasePanel=function(e){this.basePanelVisible&&(this.showPanelToggle(),this.basePanel.removeClass("panel-"+this.sessionSvc.PanelPosition).addClass("panel-"+this.sessionSvc.PanelPosition+"-collapsed").one(n.StyleUtils.whichTransitionEvent(),function(){"function"==typeof e&&e()}),this.basePanelVisible=!1,this.appSvc.pubsub.publish(n.ChurnZeroAppEvents.PanelHide))},i.prototype.setupBasePanelFunctionality=function(){var e,t=this;this.setupBaseToggleFunctionality(),this.basePanel.addClass("panel-"+this.sessionSvc.PanelPosition+"-collapsed"),this.sessionSvc.PanelEnabled&&((e=this.alertMessageBody).addClass("alert-message-"+this.sessionSvc.PanelPosition),e.addClass("alert-message-"+this.sessionSvc.AvatarType),e.on(this.windowSvc.namespaceEvent("mousedown"),function(){return t.show()}))},i.prototype.setupBaseToggleFunctionality=function(){var e=this,t=this.panelToggle.get(0);"tabbed"===this.sessionSvc.AvatarType?(t.className+=" tabbed-avatar",t.className+=" "+this.tabbedAvatarPosition+"-tab",t.className+=" "+this.sessionSvc.PanelPosition+"-tab"):t.className+=" floating-avatar-"+this.sessionSvc.PanelPosition,this.panelToggleContent.on(this.windowSvc.namespaceEvent("click"),function(){return e.show()})},i.prototype.hasConfigOffsets=function(e,t){return n.CoreUtils.Numbers.isNumeric(e)||n.CoreUtils.Numbers.isNumeric(t)},i.prototype.addConfigOffsetsToElement=function(e,t,n){e=this.windowSvc.offset(e),e.top,e.left},i.prototype.getPositionalClassFromConfig=function(e){switch(e){case n.LaunchIconPosition.TopCenter:return"pos-top-center";case n.LaunchIconPosition.TopRight:return"pos-top-right";case n.LaunchIconPosition.LeftCenter:return"pos-left-center";case n.LaunchIconPosition.RightCenter:return"pos-right-center";case n.LaunchIconPosition.BottomLeft:return"pos-bottom-left";case n.LaunchIconPosition.BottomCenter:return"pos-bottom-center";case n.LaunchIconPosition.BottomRight:return"pos-bottom-right";default:return"pos-top-left"}},i);function i(e,t,n,i,o,s,r){this.appSvc=e,this.tenantSvc=t,this.windowSvc=n,this.storageSvc=i,this.sessionSvc=o,this.messageSvc=s,this.templateCache=r,this.tabbedAvatarPosition="bottom",this.panelOpenStatusKey="PANEL_OPEN_STATUS",this.panelWidgets=[]}exports.BasePanelDisplay=t},function(e,exports,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JourneyChecklistWidget=void 0;var p,g=t(0),o=t(28);(t=p=p||{}).Achievement="achievement",t.Task="task";v.prototype.getId=function(){var e;return null===(e=this.checklist)||void 0===e?void 0:e.id},v.prototype.getContainer=function(){return this.domWrapper},v.prototype.isCompleteBannerVisible=function(){var e;return null===(e=null===(e=this.completeBanner)||void 0===e?void 0:e.classList)||void 0===e?void 0:e.contains("in")},v.prototype.onDigest=function(){},v.prototype.onHalt=function(){var e;if(g.PubSuber.removeAll(this.subIds),null!==(e=this.progressGauge)&&void 0!==e&&e.destroy(),this.progressGauge=null,this.domWrapper){for(this.domWrapper.removeEventListener("click",this.onClickDelegate),this.domWrapper.removeEventListener("change",this.onChangeDelegate);this.domWrapper.lastChild;)this.domWrapper.removeChild(this.domWrapper.firstChild);null!==(e=this.domWrapper.parentElement)&&void 0!==e&&e.removeChild(this.domWrapper),this.completeBanner=null,this.domWrapper=null}},v.prototype.setData=function(e){this.checklist=n({},e)},v.prototype.build=function(){if(0!==this.checklist.milestones.length&&this.domWrapper){for(;this.domWrapper.firstChild;)this.domWrapper.removeChild(this.domWrapper.lastChild);this.totalItemCount=0,this.completedItemCount=0,this.completeBanner=this.parentDoc.createElement("div"),this.completeBanner.classList.add(v.DOM_PREFIX+"-complete-banner"),this.populateCompleteBannerMarkup(this.completeBanner,this.checklist.completeMessage),this.domWrapper.appendChild(this.completeBanner),this.checklist.isMarkedComplete&&(this.completeBanner.classList.add("is-complete"),(i=this.getChecklistCompletedTooltip())&&(this.completeBanner.title=i));var e=this.parentDoc.createElement("div");e.classList.add(v.DOM_PREFIX+"-index"),this.domWrapper.appendChild(e);var t=this.checklist.shouldDisplayMilestones,n=this.parentDoc.createElement("header"),i=this.parentDoc.createElement("h3");i.className=v.DOM_PREFIX+"-header",i.textContent=this.checklist.title,n.className=v.DOM_PREFIX+"-header-wrapper",n.appendChild(i),t&&this.domWrapper.classList.add("with-ms-names"),e.appendChild(n),this.appendMilestoneMarkup(e,t),null===this.progressGauge&&(this.progressGauge=new o.ProgressGauge(this.parentDoc,this.windowSvc,50,50,20,""));e=this.getGaugePercentComplete(),t=this.getGaugeTitle();this.progressGauge.update(e,t),"function"==typeof this.onUpdate&&this.onUpdate({percentComplete:e,title:t}),n.appendChild(this.progressGauge.getContainer()),this.checkIfAllCompleted()}},v.prototype.getItemCounts=function(){return{total:this.totalItemCount,completed:this.completedItemCount}},v.prototype.handleRefresh=function(){var e,t=this;null!==(e=this.checklist)&&void 0!==e&&e.id&&(0!==(e=((null===(e=this.checklistSvc.getChecklistConfig())||void 0===e?void 0:e.items)||[]).filter(function(e){return e.id===t.checklist.id})).length?(this.setData(e[0]),this.build()):this.onHalt())},v.prototype.onClickDelegate=function(e){var t=e.target,n=g.CoreUtils.closest(t,"."+v.DOM_PREFIX+"-milestone-heading-btn");if(n)this.onMilestoneHeadingClick(n);else if(t.hasAttribute("data-cl-complete-btn")){var e=e.view.document.querySelector("."+v.DOM_PREFIX+"-complete-banner");if(e&&e.classList.add("is-pending"),null!==(e=this.checklist)&&void 0!==e&&e.journeyAccountInstanceId){for(var i=this.checklist.milestones.length,o=[],s=0;s<i;s++){for(var r=this.checklist.milestones[s],a=r.achievements,c=r.tasks,l=a.length,u=c.length,h=0;h<l;h++){var d=a[h];o.push(d.stepId)}for(h=0;h<u;h++){var p=c[h];o.push(p.stepId)}}for(var f=this.domWrapper.querySelectorAll("fieldset"),m=f.length,s=0;s<m;s++)f[s].disabled=!0;e={journeyAccountInstanceId:this.checklist.journeyAccountInstanceId,completedStepIds:o};this.checklistSvc.markChecklistComplete(e)}}},v.prototype.onChangeDelegate=function(e){var t,n,i=e.target;"INPUT"===i.tagName&&"checkbox"===i.getAttribute("type")&&(e=(n=i).getAttribute("data-item-step-id"),i=n.getAttribute("data-item-type"),e&&i&&null!==(t=this.checklist)&&void 0!==t&&t.journeyAccountInstanceId&&(n=n.checked,i={stepType:i,stepId:parseInt(e,10),journeyAccountInstanceId:this.checklist.journeyAccountInstanceId,isComplete:n},n?this.completedItemCount++:this.completedItemCount--,e=this.getGaugePercentComplete(),n=this.getGaugeTitle(),this.progressGauge&&this.progressGauge.update(e,n),"function"==typeof this.onUpdate&&this.onUpdate({percentComplete:e,title:n}),this.checkIfAllCompleted(),this.checklistSvc.toggleItem(i)))},v.prototype.onMilestoneHeadingClick=function(e){var t=e.parentElement.getElementsByTagName("fieldset"),n=e.getElementsByTagName("span");0!==t.length&&0!==n.length&&(e=t[0],t=n[0],n=e.classList.contains("cz-hidden"),e.classList.toggle("cz-hidden"),n?(t.classList.remove("caret-left"),t.classList.add("caret-down")):(t.classList.remove("caret-down"),t.classList.add("caret-left")))},v.prototype.appendMilestoneMarkup=function(e,t){for(var n=this.checklist.milestones.length,i=0;i<n;i++){var o,s,r,a,c,l=this.checklist.milestones[i],u=l.achievements,h=l.tasks,d=l.hasStarted;0===u.length&&0===h.length||(o=this.parentDoc.createElement("section"),s=this.parentDoc.createElement("fieldset"),this.totalItemCount+=u.length+h.length,o.className=v.DOM_PREFIX+"-milestone",t&&(r=this.parentDoc.createElement("button"),a=this.parentDoc.createElement("h5"),c=this.parentDoc.createElement("span"),r.className=v.DOM_PREFIX+"-milestone-heading-btn",r.type="button",a.className=v.DOM_PREFIX+"-milestone-heading",a.textContent=l.name,c.className=v.DOM_PREFIX+"-milestone-heading-caret caret-down",r.appendChild(a),r.appendChild(c),o.appendChild(r)),o.appendChild(s),this.appendItemMarkup(s,u,p.Achievement),this.appendItemMarkup(s,h,p.Task),d||(o.classList.add("unstarted"),s.setAttribute("disabled",""),s.setAttribute("title","Milestone has not started yet.")),this.checklist.isMarkedComplete&&(s.disabled=!0),e.appendChild(o))}},v.prototype.appendItemMarkup=function(e,t,n){for(var i=t.length,o=0;o<i;o++){var s=t[o],r=void 0,a=v.DOM_PREFIX+"-"+n+"-item-"+s.id,c=this.parentDoc.createElement("div"),l=this.parentDoc.createElement("input"),u=this.parentDoc.createElement("label");c.className=v.DOM_PREFIX+"-item",l.id=a,l.type="checkbox",l.setAttribute("data-item-type",n),s.stepId&&l.setAttribute("data-item-step-id",s.stepId.toString()),u.className=v.DOM_PREFIX+"-item-label",u.htmlFor=a,u.appendChild(l),s.isCompleted&&(this.completedItemCount++,l.setAttribute("checked",""),u.title=this.getItemCompletedTooltip(s));var h=s.options||{},a=h.shouldIncludeLink,h=h.url;a&&h?((r=this.parentDoc.createElement("a")).target="_blank",r.href=s.options.url,r.rel="noreferrer noopener"):r=this.parentDoc.createElement("span"),r.className=v.DOM_PREFIX+"-item-text",r.textContent=s.name,u.appendChild(r),s.isAutoCompleted&&(l.disabled=!0,u.classList.add("is-auto-completed"),(l=this.parentDoc.createElement("i")).className="czi czi-info-circle",l.title="This Achievement will be completed once criteria is met. This may take a few minutes to be marked complete after meeting criteria.",u.appendChild(l)),c.appendChild(u),e.appendChild(c)}},v.prototype.populateCompleteBannerMarkup=function(e,t){e.innerHTML='\n        <section class="mark-as-complete">\n            <p>All steps are complete.</p>\n            <button type="button" data-cl-complete-btn>Complete Checklist</button>\n        </section>\n        <section class="pending">\n            <p>Checklist is pending completion...</p>\n        </section>\n        <section class="completed-text">\n            <p>'+(t||"Congrats! Your checklist is complete.")+"</p>\n        </section>"},v.prototype.getItemCompletedTooltip=function(e){var t=e.completedDate,n=e.changedByContactFullName,i=e.changedByUserAccountFullName,e=e.isAutoCompleted;if(!t)return"";t=new this.windowSvc.Date(t),i=e?"meeting segment criteria":n||i||null,i=i?" by "+i:"";return"Completed on "+g.CoreUtils.Dates.formatWithSlashes(t)+i},v.prototype.getChecklistCompletedTooltip=function(){if(null===(t=this.checklist)||void 0===t||!t.completedDate)return"";var e=this.checklist,t=e.completedDate,e=e.completedByName,t=new this.windowSvc.Date(t),e=e?" by "+e:"";return"Marked complete on "+g.CoreUtils.Dates.formatWithSlashes(t)+e},v.prototype.getGaugePercentComplete=function(){return 0<this.totalItemCount?Math.floor(this.completedItemCount/this.totalItemCount*100):0},v.prototype.getGaugeTitle=function(){return this.completedItemCount+" / "+this.totalItemCount+" Items Complete"},v.prototype.checkIfAllCompleted=function(){this.completeBanner&&(this.completedItemCount===this.totalItemCount?this.completeBanner.classList.add("in"):this.completeBanner.classList.remove("in"))},v.DOM_PREFIX="cz-journey-checklist",t=v;function v(e,t,n,i,o){this.parentDoc=e,this.windowSvc=t,this.appSvc=n,this.checklistSvc=i,this.onUpdate=o,this.checklist=null,this.totalItemCount=0,this.completedItemCount=0,this.domWrapper=null,this.progressGauge=null,this.completeBanner=null,this.subIds={},this.onClickDelegate=this.onClickDelegate.bind(this),this.onChangeDelegate=this.onChangeDelegate.bind(this),this.handleRefresh=this.handleRefresh.bind(this),this.domWrapper=this.parentDoc.createElement("article"),this.domWrapper.classList.add(v.DOM_PREFIX),this.domWrapper.addEventListener("click",this.onClickDelegate),this.domWrapper.addEventListener("change",this.onChangeDelegate),this.subIds.checklistRefreshedSub=this.appSvc.pubsub.subscribe(g.ChurnZeroAppEvents.JourneyChecklistRefreshed,this.handleRefresh)}exports.JourneyChecklistWidget=t},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProgressGauge=void 0;var c="cz-progress-gauge",n=(i.prototype.getContainer=function(){return this.container||(this.container=this.parentDoc.createElement("aside"),this.container.id=this.containerId,this.container.innerHTML=this.getSvgMarkup()),this.container},i.prototype.destroy=function(){if(this.container){for(;this.svg&&this.svg.firstChild;)this.svg.removeChild(this.svg.lastChild);for(;this.container.firstChild;)this.container.removeChild(this.container.lastChild);this.container&&this.container.parentElement&&this.container.parentElement.removeChild(this.container),this.svg=null,this.container=null}},i.prototype.update=function(e,t){var n=this.getSvg(),i=n.querySelector(".gauge-progress"),o=n.querySelector(".gauge-text");this.percentComplete=e,this.updateDashOffset(),i.setAttribute("stroke-dashoffset",this.dashOffset.toString()),o.textContent=this.percentComplete.toString()+"%",t&&(n=n.querySelector(".gauge-title"),this.title=t,n.textContent=this.title)},i.prototype.updateDashOffset=function(){this.dashOffset=this.circumference*((100-this.percentComplete)/100)},i.prototype.getSvg=function(){var e;return this.svg||(e=this.getContainer(),this.svg=e.querySelector("#"+this.id)),this.svg},i.prototype.getSvgMarkup=function(){return'\n        <svg id="'+this.id+'"\n            class="cz-progress-gauge"\n            width="'+this.width+'"\n            height="'+this.height+'">\n            <title class="gauge-title">'+this.title+'</title>\n            <circle class="gauge-base"\n                cx="'+this.circleX+'"\n                cy="'+this.circleY+'"\n                r="'+this.radius+'"></circle>\n            <circle class="gauge-progress"\n                cx="'+this.circleX+'"\n                cy="'+this.circleY+'"\n                r="'+this.radius+'"\n                stroke-dasharray="'+this.circumference+'"\n                stroke-dashoffset="'+this.dashOffset+'"\n                transform="rotate(-90) translate(-'+this.width+' 0)">\n            </circle>\n            <text class="gauge-text"\n                x="'+this.circleX+'"\n                y="'+this.circleY+'"\n                text-anchor="middle"\n                dominant-baseline="central">'+this.percentComplete+"%</text>\n        </svg>"},i);function i(e,t,n,i,o,s,r){this.parentDoc=e,this.windowSvc=t,this.width=n,this.height=i,this.radius=o,this.title=s,this.percentComplete=0;var a=(new this.windowSvc.Date).valueOf();for(this.id=c+"-"+a;this.parentDoc.getElementById(this.id);)a=(new this.windowSvc.Date).valueOf(),this.id=c+"-"+a;this.containerId="cz-progress-gauge-container-"+a,this.circumference=2*Math.PI*this.radius,this.circleX=this.width/2,this.circleY=this.height/2,"number"==typeof r&&(this.percentComplete=r),this.updateDashOffset()}exports.ProgressGauge=n},function(e,exports,t){"use strict";var s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FrameCommUtil=void 0;var i=t(0),t=(r.setUpLinkAuditEvents=function(i,o){i.document.addEventListener("click",function(e){if(o&&e.target){var t=!1,n=e.target;for(n.classList&&n.classList.contains("fr-video")&&(t=!0);!t&&null!==n&&1===n.nodeType;)"a"===n.nodeName.toLowerCase()?t=!0:n=n.parentElement;t&&(e=s({},o),"a"===n.nodeName.toLowerCase()&&(e.data=s(s({},o.data),{props:{href:n.getAttribute("href")}})),r.postEncryptedMessage(i.parent,e))}})},r.setUpVideoAuditEvents=function(t,i){var e=t.document,o=!1;e.addEventListener("mouseenter",function(e){e=e.target;e&&e.classList&&e.classList.contains("fr-video")&&(o=!0)},!0),e.addEventListener("mouseleave",function(e){e=e.target;e&&e.classList&&e.classList.contains("fr-video")&&(o=!1)},!0),t.addEventListener("blur",function(e){i&&o&&r.postEncryptedMessage(t.parent,s({},i))}),t.addEventListener("message",function(e){var t,n;o&&(t=e.data,n=e.source,e=e.origin,"string"==typeof t&&"czcodeblur"===t.toLowerCase()&&r.postEncryptedMessage(n,s({},i),e))})},r.postEncryptedMessage=function(e,t,n){t=i.iFrameUtils.encrypt(JSON.stringify(t));e.postMessage(t,n||"*")},r);function r(){}exports.FrameCommUtil=t},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DOMUtils=void 0;var n=(i.hasCollision=function(e,t){return!(e.y+e.height<t.y||e.y>t.y+t.height||e.x+e.width<t.x||e.x>t.x+t.width)},i.isFeatureSupported=function(e,t){return t in e},i);function i(){}exports.DOMUtils=n},function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SURVEY_CONTENT_CONTAINER_STYLES=exports.IN_APP_CONTENT_CONTAINER_STYLES=exports.WT_STEP_NUMBER_STYLES=exports.WT_CTA_CONTAINER_STYLES=exports.WT_CONTENT_CONTAINER_STYLES=exports.WT_POPUP_STYLES=void 0;var i=n(t(73)),o=n(t(74)),s=n(t(75)),r=n(t(76)),a=n(t(77));function c(e){return e.replace(/\r\n/g,"")}t=c(n(t(78)).default);exports.WT_POPUP_STYLES=t;a=c(a.default);exports.WT_CONTENT_CONTAINER_STYLES=a;s=c(s.default);exports.WT_CTA_CONTAINER_STYLES=s;r=c(r.default);exports.WT_STEP_NUMBER_STYLES=r;i=c(i.default);exports.IN_APP_CONTENT_CONTAINER_STYLES=i;o=c(o.default);exports.SURVEY_CONTENT_CONTAINER_STYLES=o},function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var d=t(0),c=n(t(33)),l=n(t(86)),u=n(t(1)),t=(Object.defineProperty(h.prototype,"IsConnected",{get:function(){return this._isConnected},enumerable:!1,configurable:!0}),h.prototype.connect=function(t,n,i,o){var s=this;this._apiUrl=t;t=function(e){"function"==typeof o&&o(e),s._connectionXHR=null};try{var e=this.baseUrl("connect"),r={contactKey:this.contactKey,contactExternalIdHash:this.contactHash,accountExternalIdHash:this.accountHash,appKey:this.appKey,additionalData:{browserInfo:d.CoreUtils.FeatureDetection.getBrowserInfo()}};this.urlTracking&&(r.appKeyHost=this.appHost),this._connectionStart=(new this.windowSvc.Date).getTime(),this._connectionXHR=this.httpSvc.Post(e,r,!0,function(e){s._connectionXHR=null,s.connectionSuccessHandler(e,n,i,o)},t)}catch(e){t("Error Connecting")}},h.prototype.connectionSuccessHandler=function(e,t,n,i){var o=new l.default(e);if(!d.CoreUtils.Strings.isNullOrEmpty(o.connectionKey)){var s=!1;return("function"==typeof n&&(!1===(a=n(o))&&(s=!0),"string"==typeof a&&(this._apiUrl=a)),s)?void 0:void this.connectionPoll(o.connectionKey,t,n,i)}if(this._isConnected=!0,this._connectionXHR=null,!o.tenantId||d.CoreUtils.Strings.isNullOrEmpty(o.authKey)){s=o.tenantId?"AuthKey":"TenantId";e||(s="Falsy Response"),s+=" - ";try{s+=Object.prototype.toString.call(e)}catch(e){s+="Sad Times"}var r,n=!0;try{e&&"string"==typeof e&&(r=e.trim(),n=!("/html>"===r.substring(r.length-"/html>".length,r.length)))}catch(e){n=!0}return n&&u.default.report("SocketRepository.successCallback",new Error("Bad ConnectionInfo - "+s)),"function"==typeof i&&i(e),void(this._connectionXHR=null)}this._authKey=o.authKey,this._tenantId=o.tenantId,this._preventUsageSends=(o.functionality||{}).devlessEnabled||!1;i=h.storageKeys.QueueKey+"-"+this.contactKey;this._queuedSocketMessages=new c.default(this.storageSvc,this.windowSvc,i);e=new c.default(this.storageSvc,this.windowSvc,h.storageKeys.QueueKey+"-"+o.appKey+"-"+this.contactKey);e.length&&(i=e.getAllItems(),this._queuedSocketMessages.unshiftAll(i),e.empty());var a,e=!1;"function"==typeof t&&(!1===(a=t(o))&&(e=!0),"string"==typeof a&&(this._apiUrl=a)),e||(this.pubsub.publish(d.SocketMessageTypes.SOCKETMESSAGETYPE_INITIAL_CONNECTION,o),this.poll())},h.prototype.disconnect=function(){this._isConnected=!1,this._connectionTimer&&(clearTimeout(this._connectionTimer),this._connectionTimer=null),this._connectionXHR&&(this._connectionXHR.abort(),this._connectionXHR=null),this._authKey=null,this._tenantId=null,this._apiUrl=null,this._queuedSocketMessages=null,this._pollTimer&&(clearTimeout(this._pollTimer),this._pollTimer=null),this._pollXHR&&(this._pollXHR.abort(),this._pollXHR=null),this.pubsub.publish(d.SocketMessageTypes.SOCKETMESSAGETYPE_DISCONNECT)},h.prototype.connectionPoll=function(n,i,o,s){function t(e){"function"==typeof s&&s(e),r._connectionXHR=null}var r=this,e=this.baseUrl("connectStatus"),a={appKey:this.appKey,additionalData:{connectionKey:n}};this.windowSvc.window.clearTimeout(this._connectionTimer),this._connectionTimer=this.windowSvc.window.setTimeout(function(){try{r._connectionXHR=r.httpSvc.Post(e,a,!0,function(e){var t=(new r.windowSvc.Date).getTime()-r._connectionStart;e?(r._connectionStart=null,r.connectionSuccessHandler(e,i,o,s)):t<=r._connectionTimeout?r.connectionPoll(n,i,o,s):r.windowSvc.window.setTimeout(function(){r.connect(r._apiUrl,i,o,s)},15e3)},t)}catch(e){t(e)}},1e3)},h.prototype.send=function(e,t,n){t=this.buildProperSocketMessage(e,t);(this.IsConnected?this._queuedSocketMessages:this._disconnectedQueuedSocketMessages).push(t),n&&this.poll()},h.prototype.setPollInterval=function(e){var t=!1;e<this._pollInterval&&0===this._numberOfPollFails&&(t=!0),this._pollInterval=e,t&&this.poll()},h.prototype.resetPollIntervalToDefault=function(){this.setPollInterval(h.defaultPollInterval)},h.prototype.destroy=function(){this.reset()},h.prototype.reset=function(){this.disconnect(),this._disconnectedQueuedSocketMessages.empty()},h.prototype.registerListener=function(e,t){return this.pubsub.subscribe(e,t)},h.prototype.registerMirror=function(e){return this.pubsub.addMirror(e)},h.prototype.publishMirrored=function(e){this.pubsub.publishMirrored(e)},h.prototype.clearAllListeners=function(){this._listeners={}},h.prototype.flush=function(){this.poll()},h.prototype.poll=function(){var n=this;if(!this._polling&&this.IsConnected){this._polling=!0,this._pollTimer&&this.windowSvc.window.clearTimeout(this._pollTimer);try{this.windowSvc.XMLHttpRequestReference()}catch(e){return void this.pollFailure([])}var e=this._disconnectedQueuedSocketMessages.getAllItems();e.length&&(this._queuedSocketMessages.unshiftAll(e),this._disconnectedQueuedSocketMessages.empty());var t=null,i=null,o=null,s=null,r=null;this._pollingData=this._queuedSocketMessages.getAllItems();for(var a=[],c=this._pollingData.length,l=0;l<c;l++){var u=this._pollingData[l];if(!d.CoreUtils.isNullOrUndefined(u))switch(u.socketMessageTypeId){case d.SocketMessageTypes.SOCKETMESSAGETYPE_IS_ACTIVE:this._preventUsageSends||(t=u);break;case d.SocketMessageTypes.SOCKETMESSAGETYPE_CHECK_EVENT_MAP_CONFIG_VERSION:i=u;break;case d.SocketMessageTypes.SOCKETMESSAGETYPE_CheckPageTagConfigVersion:o=u;break;case d.SocketMessageTypes.SOCKETMESSAGETYPE_CheckWalkthroughConfigVersion:s=u;break;case d.SocketMessageTypes.SOCKETMESSAGETYPE_CheckChecklistConfigVersion:r=u;break;case d.SocketMessageTypes.SOCKETMESSAGETYPE_TRACK_EVENT:case d.SocketMessageTypes.SOCKETMESSAGETYPE_SET_ATTRIBUTE:case d.SocketMessageTypes.SOCKETMESSAGETYPE_TIME_IN_APP:case d.SocketMessageTypes.SOCKETMESSAGETYPE_WalkthroughAction:case d.SocketMessageTypes.SOCKETMESSAGETYPE_MESSAGE_READ:case d.SocketMessageTypes.SOCKETMESSAGETYPE_MESSAGE_CLICKED:case d.SocketMessageTypes.SOCKETMESSAGETYPE_ChecklistItemToggle:case d.SocketMessageTypes.SOCKETMESSAGETYPE_ChecklistMarkComplete:this._preventUsageSends||a.push(u);break;default:a.push(u)}}t&&a.push(t),i&&a.push(i),o&&a.push(o),s&&a.push(s),r&&a.push(r),a.forEach(function(e){n.needsSessionIdentifiers(e)&&n.addSessionIdentifiersToObject(e.messageContent)});var h=this.baseUrl("poll");this._lastSocketMessageId&&(h=h+"&lastId="+encodeURIComponent(this._lastSocketMessageId));e=a.filter(function(e){return null!=e});0===a.length?this._pollXHR=this.httpSvc.Get(h,function(e){return n.pollSuccess(e)},function(e,t){return n.pollFailure(t)}):this._pollXHR=this.httpSvc.Post(h,e,!1,function(e){return n.pollSuccess(e)},function(e,t){return n.pollFailure(t)})}},h.prototype.pollSuccess=function(e){var t,n=this;this._pollingData&&this._pollingData.length&&this._queuedSocketMessages&&(t=this._pollingData.map(function(e){return e.id}),this._queuedSocketMessages.removeAll(this._pollingData,function(e){return-1===t.indexOf(e.id)})),this._pollingData=[];for(var i=0;i<e.length;i++)this.pubsub.publish(e[i].socketMessageTypeId,e[i].messageContent),e[i].id&&(this._lastSocketMessageId=e[i].id);this._polling=!1,this._pollXHR=null,this._numberOfPollFails=0,this._isConnected&&(0<this._queuedSocketMessages.length?this.poll():this._pollTimer=this.windowSvc.window.setTimeout(function(){try{n.poll()}catch(e){u.default.report("SocketRepository.pollSuccess",e)}},this._pollInterval))},h.prototype.pollFailure=function(e){var t=this,n=(e=e||[]).length,i=[];if(0<n){for(;0<n;){var o=e.pop();n--,this.needsSessionIdentifiers(o)&&this.removeSessionIdentifiersFromObject(o.messageContent);var s=!1;try{for(var r=void 0,a=((r=(this.IsConnected?this._queuedSocketMessages:this._disconnectedQueuedSocketMessages).getAllItems())||[]).length,c=0;c<a;c++)r[c].id===o.id&&(s=!0,c=a+1)}catch(e){}s||i.unshift(o)}i&&i.length&&(this.IsConnected?this._queuedSocketMessages:this._disconnectedQueuedSocketMessages).unshiftAll(i)}this._polling=!1,this._pollXHR=null,this._numberOfPollFails<5&&this._numberOfPollFails++;this._isConnected&&(this._pollTimer=this.windowSvc.window.setTimeout(function(){try{t.poll()}catch(e){u.default.report("SocketRepository.pollFailure",e)}},this._pollInterval+6e4*this._numberOfPollFails))},h.prototype.buildProperSocketMessage=function(e,t){if(!e)throw new Error("message type can not be blank");e={id:d.DataTypeUtils.newGuid(),socketMessageTypeId:e,messageDate:(new this.windowSvc.Date).toISOString(),messageContent:t};return t&&t.messageKey&&(e.id=t.messageKey),e},h.prototype.baseUrl=function(e){var t={t:this.windowSvc.Date.now(),v:this.appVersion};this._authKey&&(t.socketKey=encodeURIComponent(this._authKey));t=d.CoreUtils.Urls.buildQueryStringString(t),e=""+this._apiUrl+e;return this._tenantId&&(e+="/"+this._tenantId),e+t},h.prototype.hasValidSessionIdentifiers=function(){var e=this.isAppKeyValid(this.appKey),t=!this.urlTracking||this.isAppHostValid(),n=this.isContactKeyValid(this.contactKey);return e&&t&&n},h.prototype.needsSessionIdentifiers=function(e){switch(e.socketMessageTypeId){case d.SocketMessageTypes.SOCKETMESSAGETYPE_SET_ATTRIBUTE:case d.SocketMessageTypes.SOCKETMESSAGETYPE_TRACK_EVENT:case d.SocketMessageTypes.SOCKETMESSAGETYPE_WalkthroughAction:case d.SocketMessageTypes.SOCKETMESSAGETYPE_CheckWalkthroughConfigVersion:case d.SocketMessageTypes.SOCKETMESSAGETYPE_CheckChecklistConfigVersion:case d.SocketMessageTypes.SOCKETMESSAGETYPE_ChecklistItemToggle:case d.SocketMessageTypes.SOCKETMESSAGETYPE_ChecklistMarkComplete:return!0;default:return!1}},h.prototype.addSessionIdentifiersToObject=function(e){e.appKey=this.appKey,this.urlTracking&&(e.appKeyHost=this.appHost);var t=(this.contactKey||"").split(h.separator);e.accountExternalId=t[0],e.contactExternalId=t[1]},h.prototype.removeSessionIdentifiersFromObject=function(e){delete e.appKey,delete e.appKeyHost,delete e.accountExternalId,delete e.contactExternalId},Object.defineProperty(h.prototype,"appKey",{get:function(){return this._appKey},set:function(e){this._appKey=e},enumerable:!1,configurable:!0}),h.prototype.isAppKeyValid=function(e){return!!(e&&0<e.length)},Object.defineProperty(h.prototype,"appHost",{get:function(){return this._appHost},set:function(e){this._appHost=e},enumerable:!1,configurable:!0}),h.prototype.isAppHostValid=function(){return void 0!==this.appHost&&0<this.appHost.length&&0<this.appHost.length},Object.defineProperty(h.prototype,"urlTracking",{get:function(){return this._urlTracking},set:function(e){this._urlTracking=e},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"contactKey",{get:function(){return this._contactKey},set:function(e){this._setDisconnectedQueue(e),e?this._contactKey=e:this._resetContactKey()},enumerable:!1,configurable:!0}),h.prototype.isContactKeyValid=function(e){if(!e)return!1;if(0===e.length||-1===e.indexOf(h.separator))return!1;var t=this.splitContactKey(e);t.accountExternalId=t.accountExternalId||"";var n=!1;void 0!==t.accountExternalId&&null!==t.accountExternalId&&(n=0<t.accountExternalId.length&&t.accountExternalId.length<=100);e=!1;return void 0!==t.contactExternalId&&null!==t.contactExternalId&&(e=0<t.contactExternalId.length),n&&e},h.prototype.splitContactKey=function(e){var t=(e||"").split(h.separator),n=null,e=null;return t&&2===t.length&&(n=t[0],e=t[1]),{accountExternalId:n,contactExternalId:e}},h.prototype.generateContactKey=function(e,t){return""+e+h.separator+t},h.prototype.getContactKeyFromCache=function(){var e=this.storageSvc.get(h.storageKeys.ContactKey,null);return e},Object.defineProperty(h.prototype,"accountHash",{get:function(){return this._accountHash},set:function(e){this._accountHash=e},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"contactHash",{get:function(){return this._contactHash},set:function(e){this._contactHash=e},enumerable:!1,configurable:!0}),h.prototype._setDisconnectedQueue=function(e){var t=""+h.storageKeys.DisconnectedQueueKey;e&&(t+="-"+e);e=new c.default(this.storageSvc,this.windowSvc,t);t===h.storageKeys.DisconnectedQueueKey||this._disconnectedQueuedSocketMessages.key===h.storageKeys.DisconnectedQueueKey||(t=this._disconnectedQueuedSocketMessages.getAllItems()).length&&(e.unshiftAll(t),this._disconnectedQueuedSocketMessages.empty()),this._disconnectedQueuedSocketMessages=e},h.prototype._resetContactKey=function(){this._contactKey=null,this._accountHash=null,this._contactHash=null,this.storageSvc.remove(h.storageKeys.ContactKey)},Object.defineProperty(h.prototype,"appVersion",{get:function(){return this._appVersion},enumerable:!1,configurable:!0}),h.separator="~|~",h.defaultPollInterval=1e4,h.storageKeys={AppKey:"APP_KEY",ContactKey:"CONTACTKEY_KEY",QueueKey:"CZ_QUEUE_KEY",DisconnectedQueueKey:"CZ_DISCONNECTED_QUEUE_KEY",ContactKeyCookie:"ChurnZeroUser"},h);function h(e,t,n){var i=this;this.storageSvc=e,this.httpSvc=t,this.windowSvc=n,this._pollInterval=h.defaultPollInterval,this._isConnected=!1,this._preventUsageSends=!1,this._listeners={},this._pollTimer=null,this._connectionTimer=null,this._connectionStart=null,this._connectionTimeout=6e4,this._lastSocketMessageId="",this._numberOfPollFails=0,this._polling=!1,this._pollingData=[],this._apiUrl=null,this._urlTracking=!0,this._contactKey=null,this._appVersion="s1.02.7187.003",this._disconnectedQueuedSocketMessages=new c.default(this.storageSvc,this.windowSvc,h.storageKeys.DisconnectedQueueKey),this.pubsub=new d.PubSuber(u.default),this.appHost=this.windowSvc.hostName(),this._apiUrl=null,this.windowSvc.addCleanRoomUnload(function(){try{i._connectionXHR&&(i._connectionXHR.abort(),i._connectionXHR=null),i._pollXHR&&(i._pollXHR.abort(),i._pollXHR=null)}catch(e){}})}exports.default=t},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(0),t=(i.prototype._getQueue=function(){var t=this.storageSvc.get(this.key,[]);if(n.CoreUtils.isString(t))try{t=this.windowSvc.JSON.parse(t)}catch(e){t=[]}return t},i.prototype._setQueue=function(e){var t=e;0===e.length?this.storageSvc.remove(this.key):this.storageSvc.set(this.key,t)},i.prototype.push=function(e){try{var t=this._getQueue();t.push(e),this._setQueue(t)}catch(e){return!1}return!0},Object.defineProperty(i.prototype,"length",{get:function(){try{return this._getQueue().length}catch(e){return-1}},enumerable:!1,configurable:!0}),i.prototype.remove=function(t,n){void 0===n&&(n=null);var e=(e=this._getQueue()).filter(function(e){return"function"==typeof n?n(e,t):e!==t});this._setQueue(e)},i.prototype.removeAll=function(t,n){void 0===n&&(n=null);var e=(e=this._getQueue()).filter(function(e){return"function"==typeof n?n(e):-1!==t.indexOf(e)});this._setQueue(e)},i.prototype.shift=function(){var t=null;try{var e=this._getQueue(),t=e.shift();this._setQueue(e)}catch(e){return t}return t},i.prototype.unshift=function(e){var t=-1;try{var n=this._getQueue(),t=n.unshift(e);this._setQueue(n)}catch(e){return t}return t},i.prototype.unshiftAll=function(e){try{var t=this._getQueue();this._setQueue(e.concat(t))}catch(e){}},i.prototype.empty=function(){try{this._setQueue([])}catch(e){}},i.prototype.getAllItems=function(){return this._getQueue()},i);function i(e,t,n){this.storageSvc=e,this.windowSvc=t,this.key=n;try{var i=this._getQueue();this.storageSvc.remove(this.key),this.key=this.storageSvc.encode(this.key),i.length&&this._setQueue(i)}catch(e){}}exports.default=t},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});t=n(0),i=i(n(1));n(55);n=n(56);if(!t.CoreUtils.FeatureDetection.isLegacyIE()){var o=window.ChurnZero||[];window.ChurnZero=(0,n.ChurnZeroExt)(o)||{};try{var s=function(){window.ChurnZero.boot(o)};"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?s():document.addEventListener("DOMContentLoaded",s)}catch(e){i.default.report("App.Main",e)}}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PubSuber=exports.PubSubSubscription=exports.PubSubMessage=void 0;var c=t(6);exports.PubSubMessage=function(){},exports.PubSubSubscription=function(){};n.prototype.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},n.prototype.addMirror=function(e){var t=this,n=this.mirrors.push(e)-1;return{remove:function(){delete t.mirrors[n]}}},n.prototype.subscribe=function(e,t){var n=this;c.CoreUtils.hasOwnProp(this.topics,e)||(this.topics[e]=[]);var i=this.topics[e].push(t)-1;return{remove:function(){try{delete n.topics[e][i]}catch(e){if(!n.ErrorLogger)return;n.ErrorLogger.report("PubSuber.remove",e)}}}},n.prototype.publish=function(i,e,o,t){void 0===o&&(o=!1),void 0===t&&(t=this.sourceId);var s,r,a,n=c.CoreUtils.hasOwnProp(this.topics,i);!n&&0===this.mirrors.length||(s={sourceId:this.sourceId,topic:i,info:e},a=t!==(r=this).sourceId,n&&this.topics[i].forEach(function(e,t,n){if(null!=e&&(!o||a))try{e(s)}catch(e){if(!r.ErrorLogger)return;r.ErrorLogger.isFreedScriptError(e)?n[t]=void 0:r.ErrorLogger.report("PubSuber.publish."+i,e)}}),!o&&this.mirrors.length&&this.mirrors.forEach(function(e,t,n){if(null!=e)try{e(s)}catch(e){if(!r.ErrorLogger)return;r.ErrorLogger.isFreedScriptError(e)?n[t]=void 0:r.ErrorLogger.report("PubSuber.publishMirrored."+i,e)}}))},n.prototype.publishMirrored=function(e){this.publish(e.topic,e.info,!0,e.sourceId)},n.removeAll=function(e){for(var t in e)c.CoreUtils.hasOwnProp(e,t)&&e[t]&&(e[t].remove(),e[t]=null)},t=n;function n(e){this.ErrorLogger=e,this.sourceId=this.guid(),this.topics={},this.mirrors=[]}exports.PubSuber=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnouncementType=void 0,(t=t.AnnouncementType||(t.AnnouncementType={}))[t.Basic=0]="Basic",t[t.Nps=1]="Nps",t[t.CustomSurvey=2]="CustomSurvey"},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.urlPathChars=exports.semiColonDelimiter=exports.fullStop=void 0;exports.fullStop="\\z|$",exports.semiColonDelimiter=";",exports.urlPathChars="[a-zA-Z0-9\\.\\-_~\\$&'()*+,;=:@%]*"},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.questionMark=exports.hashBang=exports.hashSymbol=exports.semiColon=exports.colon=exports.ampersand=exports.emptyString=exports.escapedSlash=exports.slash=void 0;exports.emptyString="",exports.slash="/",exports.escapedSlash="\\/",exports.ampersand="&",exports.colon=":",exports.semiColon=";",exports.hashSymbol="#",exports.hashBang="#!",exports.questionMark="?"},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GLOBAL_CHECKLIST_SETTINGS_CONFIG_TENANT_ITEM_NAME=exports.CZ_DEFAULT_CHECKLIST_SETTINGS_CONFIG=exports.CZ_DEFAULT_ANNOUNCEMENT_STYLE_CONFIG=exports.GLOBAL_ANNOUNCEMENTS_STYLE_CONFIG_TENANT_ITEM_NAME=exports.GLOBAL_STYLE_CONFIG_TENANT_ITEM_NAME=exports.CZ_DEFAULT_STYLE_CONFIG=void 0;var n=t(3),i=t(7),o=t(18),t=t(19),i=new i.WalkthroughStyleConfig;(exports.CZ_DEFAULT_STYLE_CONFIG=i).fontSize=14,i.fontFamily="Arial,Helvetica,sans-serif",i.textAlignment="center",i.backgroundColor="#ffffff",i.fontColor="#000000",i.borderRadius=5,i.borderWidth=0,i.borderColor="#ffffff",i.shouldHideClose=!1,i.closeColor="#000000",i.closeHoverColor=void 0,i.shouldShowStepNumber=!1,i.stepNumberPosition=n.StepNumberPosition.TopLeft,i.stepNumberColor="#000000",i.shouldShowPrevStep=!1,i.anchorZIndex=999997,i.ctaText="Got it!",i.ctaFontSize=14,i.ctaFontFamily="Arial,Helvetica,sans-serif",i.ctaAlignment="center",i.ctaBackgroundColor="#cccccc",i.ctaTextColor="#000000",i.ctaButtonColor="#ffffff",i.ctaButtonBorderColor="#ffffff",i.ctaButtonHoverColor=void 0,i.uiFontFamilyIds=void 0,i.popupWidth=n.StyleConfigPopUpWidth.Small,i.sliderWidth=n.StyleConfigSliderWidth.Small,i.tooltipWidth=n.StyleConfigTooltipWidth.Small,i.prevStepText="Previous",i.prevStepFontSize=14,i.prevStepFontFamilyId=1,i.prevStepAlignment="center",i.prevStepTextColor="#007bff",i.prevStepButtonColor="transparent",i.prevStepButtonBorderColor="transparent",i.prevStepButtonHoverColor=void 0;o=new o.AnnouncementStyleConfig;(exports.CZ_DEFAULT_ANNOUNCEMENT_STYLE_CONFIG=o).fontSize=14,o.fontFamily="Arial,Helvetica,sans-serif",o.textAlignment="center",o.backgroundColor="#ffffff",o.fontColor="#000000",o.borderRadius=5,o.borderWidth=0,o.borderColor="#ffffff",o.closeColor="#000000",o.closeHoverColor=void 0,o.uiFontFamilyIds=void 0,o.popupWidth=n.StyleConfigPopUpWidth.Small,o.sliderWidth=n.StyleConfigSliderWidth.Small;t=new t.ChecklistSettingsConfig;(exports.CZ_DEFAULT_CHECKLIST_SETTINGS_CONFIG=t).launchIconPosition=n.LaunchIconPosition.BottomRight,t.launchIconType=n.LaunchIconType.Float,t.titleFontSize=16,t.itemFontSize=14,t.fontFamilyId="Arial",t.textAlignment="left",t.color="#000",t.hyperlinkColor="#218bc3",t.backgroundColor="#fff",t.markAsCompleteBackgroundColor="#e8e8e8",t.markAsCompleteTextColor="#000",t.completeButtonBackgroundColor="#64bd63",t.completeButtonTextColor="#fff",t.completeMessageBackgroundColor="#b6d7a8",t.completeMessageTextColor="#000",t.launcherBackgroundColor="#fff",t.progressRemainingColor="#dedede",t.progressCompleteColor="#218bc3",t.progressBackgroundColor="#fff",t.progressTextColor="#000";exports.GLOBAL_STYLE_CONFIG_TENANT_ITEM_NAME="GlobalStyleConfig";exports.GLOBAL_ANNOUNCEMENTS_STYLE_CONFIG_TENANT_ITEM_NAME="AnnouncementsGlobalStyleConfig";exports.GLOBAL_CHECKLIST_SETTINGS_CONFIG_TENANT_ITEM_NAME="ChecklistSettingsGlobalConfig"},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SUCCESS_CENTER_DEFAULT_WIDTH_UNIT=exports.SUCCESS_CENTER_DEFAULT_WIDTH=void 0;t=t(3);exports.SUCCESS_CENTER_DEFAULT_WIDTH=800,exports.SUCCESS_CENTER_DEFAULT_WIDTH_UNIT=t.WidthUnitType.Pixels},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ActivityMonitor=void 0;var n=(i.prototype.Start=function(){this.onStart()},i.prototype.Stop=function(){this.onHalt()},i.prototype.isActive=function(){return this.active},i.prototype.addIdleCallback=function(e){this.onIdleCallbacks.push(e)},i.prototype.addActiveCallback=function(e){this.onActiveCallbacks.push(e)},i.prototype.addIdlePrecheck=function(e){this.externalActiveChecks.push(e)},i.prototype.onStart=function(){var e=this;this.setEventNames(),this.initEvents(),this.triggerUserActive("onStart"),this.visibilityCheckInterval=this.windowRef.setInterval(function(){try{e.checkIdleTimeout()}catch(e){}},this.visibilityCheckIntervalMs),this.isHalted=!1},i.prototype.onHalt=function(){this.isHalted=!0,this.clearIdleDebounce(),this.visibilityCheckInterval&&(this.windowRef.clearInterval(this.visibilityCheckInterval),this.visibilityCheckInterval=null),this.triggerUserIdle("Halting"),this.startId&&(this.startId.remove(),this.startId=null),this.haltId&&(this.haltId.remove(),this.haltId=null),this.visibilityAPIFunction&&(this.windowRef.document.removeEventListener(this.visibilityChangeEventName,this.visibilityAPIFunction),this.visibilityAPIFunction=null),this.windowBlurFunction&&(this.windowRef.removeEventListener("blur",this.windowBlurFunction),this.windowBlurFunction=null),this.windowFocusFunction&&(this.windowRef.removeEventListener("focus",this.windowFocusFunction),this.windowFocusFunction=null),this.resetIdleCountdownFunction&&(this.windowRef.document.removeEventListener("mousemove",this.resetIdleCountdownFunction),this.windowRef.document.removeEventListener("keyup",this.resetIdleCountdownFunction),this.windowRef.document.removeEventListener("touchstart",this.resetIdleCountdownFunction),this.windowRef.removeEventListener("scroll",this.resetIdleCountdownFunction),this.resetIdleCountdownFunction=null)},i.prototype.checkIdleTimeout=function(){var e=this.currentIdleTimeMs>this.idleTimeoutMs;!1===this.idleTimeoutExpired&&e?(this.idleTimeoutExpired=!0,this.triggerUserIdle("Idle Timeout")):(e&&this.active&&null===this.setIdleDebounce&&this.triggerUserIdle("still active and over idle time"),this.currentIdleTimeMs+=this.visibilityCheckIntervalMs)},i.prototype.setEventNames=function(){void 0!==this.windowRef.document.hidden?(this.hiddenPropName="hidden",this.visibilityChangeEventName="visibilitychange"):void 0!==this.windowRef.document.msHidden?(this.hiddenPropName="msHidden",this.visibilityChangeEventName="msvisibilitychange"):void 0!==this.windowRef.document.webkitHidden&&(this.hiddenPropName="webkitHidden",this.visibilityChangeEventName="webkitvisibilitychange")},i.prototype.initEvents=function(){var n=this;this.visibilityAPIFunction=function(){var t;try{n.windowRef.document[n.hiddenPropName]?n.triggerUserIdle("Document Visibility API"):n.triggerUserActive("Document Visibility API")}catch(e){null!==(t=n.ErrorLogger)&&void 0!==t&&t.report("ActivityMonitor.visibilityAPIFunction",e)}},this.windowRef.document.addEventListener(this.visibilityChangeEventName,this.visibilityAPIFunction,!1),this.windowBlurFunction=function(e){var t;try{n.isIframeActive()||n.triggerUserIdle("Window Blur")}catch(e){null!==(t=n.ErrorLogger)&&void 0!==t&&t.report("ActivityMonitor.windowBlurFunction",e)}},this.windowRef.addEventListener("blur",this.windowBlurFunction),this.windowFocusFunction=function(){var t;try{n.triggerUserActive("Window Focus")}catch(e){null!==(t=n.ErrorLogger)&&void 0!==t&&t.report("ActivityMonitor.windowFocusFunction",e)}},this.windowRef.addEventListener("focus",this.windowFocusFunction),this.resetIdleCountdownFunction=function(t){try{n.resetIdleCountdown(t)}catch(e){null!==(t=n.ErrorLogger)&&void 0!==t&&t.report("ActivityMonitor.resetIdleCountdownFunction",e)}},this.windowRef.document.addEventListener("mousemove",this.resetIdleCountdownFunction),this.windowRef.document.addEventListener("keyup",this.resetIdleCountdownFunction),this.windowRef.document.addEventListener("touchstart",this.resetIdleCountdownFunction),this.windowRef.addEventListener("scroll",this.resetIdleCountdownFunction)},i.prototype.triggerUserActive=function(e){var t,n;if(this.clearIdleDebounce(),!this.active){for(var i=0;i<this.onActiveCallbacks.length;i++)null!==(n=(t=this.onActiveCallbacks)[i])&&void 0!==n&&n.call(t);this.active=!0}},i.prototype.triggerUserIdle=function(e){var c=this;this.active&&(this.clearIdleDebounce(),this.setIdleDebounce=this.windowRef.setTimeout(function(){for(var e,t,n,i,o,s=null!==(e=null===(e=c.externalActiveChecks)||void 0===e?void 0:e.length)&&void 0!==e?e:0,r=!0,a=0;a<s&&r;a++)try{!0===(null===(n=(t=c.externalActiveChecks)[a])||void 0===n?void 0:n.call(t))&&(r=!1)}catch(e){}if(r){for(a=0;a<c.onIdleCallbacks.length;a++)null!==(o=(i=c.onIdleCallbacks)[a])&&void 0!==o&&o.call(i);c.active=!1}else c.clearIdleDebounce()},500))},i.prototype.resetIdleCountdown=function(e){this.idleTimeoutExpired&&this.triggerUserActive(e.type),this.idleTimeoutExpired=!1,this.currentIdleTimeMs=0},i.prototype.isIframeActive=function(){return this.windowRef.document.activeElement&&"IFRAME"===(this.windowRef.document.activeElement.tagName||"").toUpperCase()},i.prototype.clearIdleDebounce=function(){this.windowRef.clearTimeout(this.setIdleDebounce),this.setIdleDebounce=null},i);function i(e,t,n){this.windowRef=e,this.ErrorLogger=t,this.idleTimeoutMs=9e5,this.visibilityCheckIntervalMs=500,this.currentIdleTimeMs=0,this.active=!1,this.idleTimeoutExpired=!1,this.onActiveCallbacks=[],this.onIdleCallbacks=[],this.externalActiveChecks=[],this.setIdleDebounce=null,this.isHalted=!1,n&&(this.idleTimeoutMs=n)}exports.ActivityMonitor=n},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventMap=void 0;var n=t(3),i=t(4),t=(o.fromJSONString=function(e){return o.fromObject(JSON.parse(e))},o.fromObject=function(e){return i.ModelUtils.create(new o,e)},o);function o(e){this.disabled=!1,this.locationTypeId=n.LocationTypes.Site,this.location="*",this.selectorTypeId=n.SelectorTypes.Suggested,this.descriptionSelectorTypeId=n.SelectorTypes.Suggested,this.quantitySelectorTypeId=n.SelectorTypes.Suggested,this.tenantId=e,this.hidden=!1,this.excludeChildren=!1,this.createdDate="",this.updatedDate=""}exports.EventMap=t},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.JourneyChecklistOptions=void 0,exports.JourneyChecklistOptions=function(){this.isVisible=!1,this.shouldIncludeLink=!1,this.url=void 0}},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Walkthrough=void 0;var o=t(10),n=t(7),i=t(3),s=t(11),r=t(4),a=t(20),c=t(21),l=t(23),u=t(12),h=t(24),t=(Object.defineProperty(d.prototype,"triggerType",{get:function(){return this.triggerTypeId},set:function(e){this.triggerTypeId=e},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"triggerConfig",{get:function(){if(!this._triggerConfig)switch(this.triggerTypeId){case i.WalkthroughTriggerType.PageVisit:this._triggerConfig=l.WalkthroughPageVisitTriggerConfig.fromJSONString(this.triggerConfigJson);break;case i.WalkthroughTriggerType.Click:this._triggerConfig=u.WalkthroughClickTriggerConfig.fromJSONString(this.triggerConfigJson);break;case i.WalkthroughTriggerType.Anchor:this._triggerConfig=h.WalkthroughAnchorTriggerConfig.fromJSONString(this.triggerConfigJson)}return this._triggerConfig},set:function(e){var t=(this._triggerConfig=e).toJSON;t&&(e.toJSON=void 0),this.triggerConfigJson=JSON.stringify(e),t&&(e.toJSON=t)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"styleConfig",{get:function(){if(this._styleConfig instanceof n.WalkthroughStyleConfig)return this._styleConfig;try{var e=JSON.parse(this.styleConfigJson);this._styleConfig=r.ModelUtils.create(new n.WalkthroughStyleConfig,e)}catch(e){this._styleConfig=new n.WalkthroughStyleConfig}return this._styleConfig},set:function(e){this._styleConfig=e,this.styleConfigJson=JSON.stringify(e)},enumerable:!1,configurable:!0}),d.fromJSONString=function(e){return d.fromObject(JSON.parse(e))},d.fromObject=function(e){var t=r.ModelUtils.create(new d,e);t.pageTag&&(t.pageTag=a.PageTag.FromObject(t.pageTag));for(var n=0;n<t.steps.length;n++)t.steps[n]&&(t.steps[n]=o.WalkthroughStep.fromObject(t.steps[n]));for(var i=[],n=0;n<t.segments.length;n++)i.push(c.Segment.fromObject(t.segments[n]));return t.segments=i,t},d.prototype.toJSON=function(){var e,t={};for(e in this)-1===d.toJSONIgnoreProps.indexOf(e)&&(t[e]=this[e]);return t},d.toJSONIgnoreProps=["__oid","_triggerConfig","triggerConfig","_styleConfig","styleConfig"],d);function d(){this.__oid=s.DataTypeUtils.newGuid(),this.steps=[],this.segments=[],this.recurrence=!0,this.disabled=!0}exports.Walkthrough=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AjaxUtils=t.RequestOptions=void 0;var i=n(51),o=function(e){for(var t in this.type="GET",this.contentType="application/x-www-form-urlencoded; charset=UTF-8",this.withCredentials=!1,this)this.hasOwnProperty(t)&&void 0!==e[t]&&(this[t]=e[t])};function s(e){return new i.Promise(function(t,n){var i=new XMLHttpRequest;i.open(e.type,e.url,!0),!0===e.withCredentials&&(i.withCredentials=!0),i.setRequestHeader("Content-Type",e.contentType),i.onload=function(){var e;200===i.status?t(i.response):((e=Error(i.statusText)).status=i.status,n(e))},i.onerror=function(){n(Error("Network Error"))},e.data?i.send(e.data):i.send()})}t.RequestOptions=o,(t=t.AjaxUtils||(t.AjaxUtils={})).get=function(e,t){return(t=new o(t)).type="GET",t.url=e,s(t)},t.post=function(e,t,n){return(n=new o(n)).type="POST",n.url=e,n.data=t,s(n)},t.makeRequest=s},function(e,exports,t){!function(ae,ce){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.5+7f2b526d
 */
e.exports=function(){"use strict";function n(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function l(e){return typeof e==="function"}var e=void 0;if(Array.isArray)e=Array.isArray;else e=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var i=e,o=0,t=void 0,s=void 0,r=function e(t,n){b[o]=t;b[o+1]=n;o+=2;if(o===2)if(s)s(C);else E()};function a(e){s=e}function c(e){r=e}var u=typeof window!=="undefined"?window:undefined,h=u||{},d=h.MutationObserver||h.WebKitMutationObserver,p=typeof self==="undefined"&&typeof ae!=="undefined"&&{}.toString.call(ae)==="[object process]",f=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function m(){return function(){return ae.nextTick(C)}}function g(){if(typeof t!=="undefined")return function(){t(C)};return S()}function v(){var e=0;var t=new d(C);var n=document.createTextNode("");t.observe(n,{characterData:true});return function(){n.data=e=++e%2}}function y(){var e=new MessageChannel;e.port1.onmessage=C;return function(){return e.port2.postMessage(0)}}function S(){var e=setTimeout;return function(){return e(C,1)}}var b=new Array(1e3);function C(){for(var e=0;e<o;e+=2){var t=b[e];var n=b[e+1];t(n);b[e]=undefined;b[e+1]=undefined}o=0}function w(){try{var e=Function("return this")().require("vertx");t=e.runOnLoop||e.runOnContext;return g()}catch(e){return S()}}var E=void 0;if(p)E=m();else if(d)E=v();else if(f)E=y();else if(u===undefined&&"function"==="function")E=w();else E=S();function T(e,t){var n=this;var i=new this.constructor(P);if(i[k]===undefined)Z(i);var o=n._state;if(o){var s=arguments[o-1];r(function(){return q(o,i,s,n._result)})}else j(n,i,e,t);return i}function A(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t)return e;var n=new t(P);H(n,e);return n}var k=Math.random().toString(36).substring(2);function P(){}var _=void 0,I=1,L=2,x={error:null};function F(){return new TypeError("You cannot resolve a promise with itself")}function O(){return new TypeError("A promises callback cannot return that same promise.")}function M(e){try{return e.then}catch(e){x.error=e;return x}}function D(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function N(e,i,o){r(function(t){var n=false;var e=D(o,i,function(e){if(n)return;n=true;if(i!==e)H(t,e);else z(t,e)},function(e){if(n)return;n=true;B(t,e)},"Settle: "+(t._label||" unknown promise"));if(!n&&e){n=true;B(t,e)}},e)}function R(t,e){if(e._state===I)z(t,e._result);else if(e._state===L)B(t,e._result);else j(e,undefined,function(e){return H(t,e)},function(e){return B(t,e)})}function U(e,t,n){if(t.constructor===e.constructor&&n===T&&t.constructor.resolve===A)R(e,t);else if(n===x){B(e,x.error);x.error=null}else if(n===undefined)z(e,t);else if(l(n))N(e,t,n);else z(e,t)}function H(e,t){if(e===t)B(e,F());else if(n(t))U(e,t,M(t));else z(e,t)}function W(e){if(e._onerror)e._onerror(e._result);K(e)}function z(e,t){if(e._state!==_)return;e._result=t;e._state=I;if(e._subscribers.length!==0)r(K,e)}function B(e,t){if(e._state!==_)return;e._state=L;e._result=t;r(W,e)}function j(e,t,n,i){var o=e._subscribers;var s=o.length;e._onerror=null;o[s]=t;o[s+I]=n;o[s+L]=i;if(s===0&&e._state)r(K,e)}function K(e){var t=e._subscribers;var n=e._state;if(t.length===0)return;var i=void 0,o=void 0,s=e._result;for(var r=0;r<t.length;r+=3){i=t[r];o=t[r+n];if(i)q(n,i,o,s);else o(s)}e._subscribers.length=0}function G(e,t){try{return e(t)}catch(e){x.error=e;return x}}function q(e,t,n,i){var o=l(n),s=void 0,r=void 0,a=void 0,c=void 0;if(o){s=G(n,i);if(s===x){c=true;r=s.error;s.error=null}else a=true;if(t===s){B(t,O());return}}else{s=i;a=true}if(t._state!==_);else if(o&&a)H(t,s);else if(c)B(t,r);else if(e===I)z(t,s);else if(e===L)B(t,s)}function V(n,e){try{e(function e(t){H(n,t)},function e(t){B(n,t)})}catch(e){B(n,e)}}var Y=0;function J(){return Y++}function Z(e){e[k]=Y++;e._state=undefined;e._result=undefined;e._subscribers=[]}function X(){return new Error("Array Methods must be provided an Array")}var Q=function(){function e(e,t){this._instanceConstructor=e;this.promise=new e(P);if(!this.promise[k])Z(this.promise);if(i(t)){this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0)z(this.promise,this._result);else{this.length=this.length||0;this._enumerate(t);if(this._remaining===0)z(this.promise,this._result)}}else B(this.promise,X())}e.prototype._enumerate=function e(t){for(var n=0;this._state===_&&n<t.length;n++)this._eachEntry(t[n],n)};e.prototype._eachEntry=function e(t,n){var i=this._instanceConstructor;var o=i.resolve;if(o===A){var s=M(t);if(s===T&&t._state!==_)this._settledAt(t._state,n,t._result);else if(typeof s!=="function"){this._remaining--;this._result[n]=t}else if(i===se){var r=new i(P);U(r,t,s);this._willSettleAt(r,n)}else this._willSettleAt(new i(function(e){return e(t)}),n)}else this._willSettleAt(o(t),n)};e.prototype._settledAt=function e(t,n,i){var o=this.promise;if(o._state===_){this._remaining--;if(t===L)B(o,i);else this._result[n]=i}if(this._remaining===0)z(o,this._result)};e.prototype._willSettleAt=function e(t,n){var i=this;j(t,undefined,function(e){return i._settledAt(I,n,e)},function(e){return i._settledAt(L,n,e)})};return e}();function ee(e){return new Q(this,e).promise}function te(o){var s=this;if(!i(o))return new s(function(e,t){return t(new TypeError("You must pass an array to race."))});else return new s(function(e,t){var n=o.length;for(var i=0;i<n;i++)s.resolve(o[i]).then(e,t)})}function ne(e){var t=this;var n=new t(P);B(n,e);return n}function ie(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function oe(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var se=function(){function t(e){this[k]=J();this._result=this._state=undefined;this._subscribers=[];if(P!==e){typeof e!=="function"&&ie();this instanceof t?V(this,e):oe()}}t.prototype.catch=function e(t){return this.then(null,t)};t.prototype.finally=function e(t){var n=this;var i=n.constructor;if(l(t))return n.then(function(e){return i.resolve(t()).then(function(){return e})},function(e){return i.resolve(t()).then(function(){throw e})});return n.then(t,t)};return t}();function re(){var e=void 0;if(typeof ce!=="undefined")e=ce;else if(typeof self!=="undefined")e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if(n==="[object Promise]"&&!t.cast)return}e.Promise=se}return se.prototype.then=T,se.all=ee,se.race=te,se.resolve=A,se.reject=ne,se._setScheduler=a,se._setAsap=c,se._asap=r,se.polyfill=re,se.Promise=se}()}.call(this,t(52),t(53))},function(e,exports){var n,i,e=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function r(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var a,c=[],l=!1,u=-1;function h(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&d())}function d(){if(!l){var e=r(h);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function t(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||r(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=t,e.addListener=t,e.once=t,e.off=t,e.removeListener=t,e.removeAllListeners=t,e.emit=t,e.prependListener=t,e.prependOnceListener=t,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,exports){var t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,t,n){"use strict";var h,d;function p(e,n,i){return String.fromCharCode.apply(null,e.split("").map(function(e,t){t=n[t%n.length].charCodeAt();return i&&(t=-t),(e.charCodeAt()+t+65536)%65536}))}function f(e){return(parseInt(e.style.borderTopWidth,10)||0)+(parseInt(e.style.borderBottomWidth,10)||0)}Object.defineProperty(t,"__esModule",{value:!0}),t.iFrameUtils=void 0,t=t.iFrameUtils||(t.iFrameUtils={}),h="CZTPM",d="30DDF99A-B7F0-4DB2-BCEC-AA5DD0A4561B",t.TransportMessage=function(){},t.attachTransportMessageListener=function(e,a,c,l,u){function t(t){try{if(!a)return;var n=t.origin;if("*"!==a){var e=a.split(","),i=!1;if(e.forEach(function(e){i||e!==n||(i=!0)}),!i)return}var o=void 0;if("[object String]"!==Object.prototype.toString.call(t.data)||0!==t.data.indexOf(h))return;var s=t.data.substr(h.length);if(!s)return;var r=p(s,d,!0);if(!r)return;(o=(l||JSON).parse(r))&&o.hasOwnProperty("code")&&o.hasOwnProperty("data")&&c(o,t)}catch(e){"function"==typeof u&&u(e,t)}}return e.addEventListener?e.addEventListener("message",t,!1):e.attachEvent&&e.attachEvent("onmessage",t),t},t.buildTransportMessage=function(e,t){return{code:e,data:t}},t.encrypt=function(e){return h+p(e,d,!1)},t.setFrameHeightBySourceAtInterval=function(n,i,e,o,s){var r,a=i.contentWindow,c=0,l=!1;i.style.visibility="hidden";var t=a.setInterval(function(){var e=n.getBoundingClientRect(),t=f(i),t=e.height+t;t<=c||(a.clearInterval(r),c=t,i.style.height=c+"px",null!=s&&s(),l||(r=a.setTimeout(function(){i.style.removeProperty("visibility"),l=!0,null!=o&&o()},200)))},e);return function(){a.clearTimeout(r),a.clearTimeout(t)}},t.getFrameResizeObserver=function(s,r,a){var c=s.contentWindow;s.style.visibility="hidden";var l,u=0,h=!1;return new ResizeObserver(function(e){for(var t=e.length,n=0;n<t;n++){var i=e[n],o=f(s),o=i.contentRect.height+o;o<=u||(c.clearInterval(l),u=o,s.style.height=u+"px",null!=a&&a(),h||(l=c.setTimeout(function(){s.style.removeProperty("visibility"),h=!0,null!=r&&r()},200)))}})}},function(e,exports,t){},function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChurnZeroExt=void 0;var i=n(t(57));exports.ChurnZeroExt=function(e){var t=new i.default;return(null==e?void 0:e.name)===t.name?e:{boot:function(e){return t.boot(e)},push:function(e){return t.push(e)},halt:function(){return t.halt()},verify:function(){return t.verify()},debug:function(){return t.debug()},getQueue:function(){return t.getQueue()},currentModule:function(){return t.sessionSvc.CurrentModule||"Unknown"},name:t.name,version:t.version,templateCache:t.templateCache}}},function(e,exports,t){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=t(2),a=s(t(58)),c=s(t(59)),l=t(0),u=s(t(60)),h=t(61),d=t(0),p=s(t(1)),f=n(t(5)),m=s(t(71)),g=s(t(79)),v=s(t(80)),y=s(t(25)),S=s(t(82)),b=s(t(83)),C=s(t(84)),w=s(t(32)),E=s(t(87)),T=s(t(88)),A=s(t(89)),k=s(t(90)),P=s(t(91)),_=s(t(92)),I=s(t(93)),L=s(t(94)),x=t(0),F=t(95),O="cz-external-announcement-styles",s=(Object.defineProperty(M.prototype,"lastPageTag",{get:function(){return this.storageSvc.get("CZ_PageTag",null)},set:function(e){e?this.storageSvc.set("CZ_PageTag",e):this.storageSvc.remove("CZ_PageTag")},enumerable:!1,configurable:!0}),M.prototype.boot=function(t){var e,n=this;if(!this.booted){this.bootRetryCount,this.bootRetryMaxAttempts,this.isIniFrame=d.CoreUtils.FeatureDetection.inIframe();try{this.isIniFrame&&!0!==window.czDontClimb&&(this.isMainFrame=!1)}catch(e){}try{this.windowSvc=new v.default(window),this.httpSvc=new y.default(this.windowSvc.coder(),this.windowSvc.XMLHttpRequestReference),this.storageSvc=new S.default(new b.default(this.windowSvc.coder())),this.applicationSvc=new C.default(this.storageSvc,this.windowSvc),this.applicationSvc.isMain=this.isMainFrame,this.tenantSvc=new f.default(this.storageSvc)}catch(e){return void(this.bootRetryCount--?window.setTimeout(function(){n.booted||n.boot(t)},1e3):p.default.report("ChurnZeroApp.boot.registryInit",e))}if(this.tenantSvc&&this.windowSvc.isSupportedBrowser()){if(!0===this.windowSvc.window._czDebugging&&(this.applicationSvc.isDebugging=!0),this.applicationSvc.debug("Boot - Begin"),t){this.applicationSvc.debug("Loading previous application state",t);var i=Array.isArray(t),o=!i&&t.name===this.name;if(i)for(var s=0;s<t.length;s++){var r,a=t[s],c=null!==(e=null==a?void 0:a.length)&&void 0!==e?e:0;switch((c?a[0]:"").toLowerCase()){case"origins":1<c&&((a[1]||"").toString().split(",").forEach(function(e){n.windowSvc.addOrigin(e)}),this.applicationSvc.debug("SubFrame Allowed Origins Expanded to:",this.windowSvc.origins));break;case"setdomain":1<c&&(r=(a[1]||"").toString(),this.setConnectionDomain(r),this.wasDomainSet=!0);break;default:this.appQueue.push(a)}}else if(o)for(var l=t.getQueue(),s=0;s<l.length;s++)this.appQueue.push(l[s])}this.applicationSvc.setupClientSideUrls(),this.windowSvc.addOrigin(this.windowSvc.clientSideUrls.baseApiUrl.slice(0,-1)),this.applicationSvc.removeFrameComListener&&this.applicationSvc.removeFrameComListener(),this.applicationSvc.addFrameComListener(),this.isMainFrame?(this.bootMainFrame(),this.booted=!0,this.applicationSvc.debug("**Boot Finished - Main Frame")):this.bootSubFrame()}}},M.prototype.push=function(e){this.appQueue.push(e),this.booted&&this.processQueue()},M.prototype.halt=function(){var e;this.applicationSvc.debug("Halting"),this.checkPageTagExitModule(),this.digestIntervalTimer&&(this.windowSvc.window.clearInterval(this.digestIntervalTimer),this.digestIntervalTimer=null),this.applicationSvc.messageSubFrames({code:r.Enums.FrameCommCodes.MainFramePassdown,data:{code:l.ChurnZeroAppEvents.HALT}}),this.applicationSvc.pubsub.publish(l.ChurnZeroAppEvents.HALT),null!==(e=this._activityMonitor)&&void 0!==e&&e.Stop(),this.windowSvc.removeNamespacedEvents(),this.hashHandler&&(this.hashHandler.Stop(),this.hashHandler=null),this.pageMonitorUrlChangeHandler&&(this.pageMonitorUrlChangeHandler.Stop(),this.pageMonitorUrlChangeHandler=null),this.unloadEventSpider(),this.unloadHerald(),this.unloadApplicationMarshal(),this.commSvc.disconnect(),this.isConnecting=!1,this.removeSubById("initialConnectionSubId"),this.isRunning=!1},M.prototype.verify=function(){var e={AppHost:{value:this.commSvc.appHost},AppKey:{value:this.commSvc.appKey},AccountId:{value:null},ContactId:{value:null},IsConnected:{value:this.commSvc.isConnected()},"Active Devless Session":{value:this.sessionSvc.DevlessPanelEnabled},Module:{value:this.sessionSvc.CurrentModule||"Unknown"},SilentMode:{value:!0},State:{value:"Main Frame"}},t=this.commSvc.splitContactKey(this.commSvc.contactKey);e.AccountId.value=t.accountExternalId,e.ContactId.value=t.contactExternalId,this.sessionSvc.IsSilent||delete e.SilentMode,this.isMainFrame?(t=Object.keys(this.applicationSvc.registeredSubFrames||{}).length,e.State.value+=" w/ "+t+" sub-frame"+(1<t?"s":"")):(e.State.value="Sub-frame",e.IsConnected.value=e.IsConnected.value+" via Main Frame"),(window.console.table||window.console.info)(e)},M.prototype.debug=function(){this.applicationSvc.isDebugging=!this.applicationSvc.isDebugging,this.applicationSvc.isDebugging?(this.windowSvc.window.console.info("ChurnZero debugging is now on. Any subsequent requests will be logged out to the console until ChurnZero.debug() is called again."),this.verify()):this.windowSvc.window.console.info("ChurnZero debugging is now off.")},M.prototype.getQueue=function(){return this.appQueue},M.prototype.bootMainFrame=function(){var n=this;if(this.sfSubIds)for(var e in this.sfSubIds)d.CoreUtils.hasOwnProp(this.sfSubIds,e)&&this.sfSubIds[e].remove();var t=new w.default(this.storageSvc,this.httpSvc,this.windowSvc);this.commSvc=new E.default(t),this.setupInstanceServices(),this.applicationSvc.debug("**Version - "+this.commSvc.appVersion),this.processQueue(),this.subIds.subframeRegisteredSubId=this.applicationSvc.pubsub.subscribe(l.ChurnZeroAppEvents.SubframeRegistered,function(e){var t={eventMaps:n.eventSvc.eventMaps,eventMapVersion:n.eventSvc.eventMapVersion},t={source:null,vcode:e.info.vcode,isRunning:n.isRunning,tenantId:n.tenantSvc.currentTenantId(),contact:n.tenantSvc.contact,featureFlags:n.tenantSvc.getFeatureFlags(),eventMapConfig:t};n.applicationSvc.sendFrameCom(n.applicationSvc.getRegisteredSubFrameById(e.info.source),{code:r.Enums.FrameCommCodes.SubframeBootResponse,data:t})}),this.commSvc.registerMirror(function(e){e=x.iFrameUtils.buildTransportMessage(x.TransportCodes.PubSubMirror,e);n.applicationSvc.messageSubFrames({code:r.Enums.FrameCommCodes.MainFrameComRePublish,data:e})}),this.subIds.subframePassbackSubId=this.applicationSvc.pubsub.subscribe(r.Enums.FrameCommCodes.SubFramePassback,function(e){switch(e.info.type){case"send":n.commSvc.send(e.info.data.socketMessageTypeId,e.info.data.messageContent,e.info.data.forcePoll);break;case"push":n.push(e.info.data)}}),this.initConnection()},M.prototype.bootSubFrame=function(){var o=this,s=d.DataTypeUtils.newGuid();this.sfSubIds.subframeBootResponseSubId||(this.sfSubIds.subframeBootResponseSubId=this.applicationSvc.pubsub.subscribe(r.Enums.FrameCommCodes.SubframeBootResponse,function(e){try{var t=e.info;if(t.vcode!==s)return;if(!t.source)return void window.console.warn("Can only boot ChurnZero sub-frames if top has ChurnZero");o.applicationSvc.debug("Main Frame Found. Sub Frame initializing"),o.mainFrameResponded=!0;var n=new L.default(o.windowSvc,o.applicationSvc,t.source);o.commSvc=new E.default(n),o.setupInstanceServices(),o.applicationSvc.debug("Version - "+o.commSvc.appVersion),o.sfSubIds.mainFrameComRepublishSubId=o.applicationSvc.pubsub.subscribe(r.Enums.FrameCommCodes.MainFrameComRePublish,function(e){e.info.code===r.Enums.TransportCodes.PubSubMirror&&o.commSvc.publishMirrored(e.info.data)}),o.sfSubIds.MainFramePassdownSubId=o.applicationSvc.pubsub.subscribe(r.Enums.FrameCommCodes.MainFramePassdown,function(e){switch(e.info.code){case l.ChurnZeroAppEvents.HALT:o.halt();break;case l.ChurnZeroAppEvents.START:o.preStartLoad(e.info.data),o.processQueue(),o.startKernel()}});var i={tenantId:t.tenantId,contact:t.contact,featureFlags:t.featureFlags,eventMapConfig:t.eventMapConfig};o.preStartLoad(i),o.processQueue(),t.isRunning&&o.startKernel(),o.isRegistered=!0,o.booted=!0,o.applicationSvc.debug("**Boot Finished - Sub Frame")}catch(e){if(o.reregisterRetryCount--)window.setTimeout(function(){o.isRegistered||o.bootSubFrame()},1e3);else{if(e&&e.message&&-1!==e.message.indexOf("registerSubFrame"))return;t={retriesRemaining:o.reregisterRetryCount};p.default.report("ChurnZeroApp.bootsubFrame",e,t)}}})),this.applicationSvc.debug("Doing boot announcement to top"),this.applicationSvc.sendFrameCom({window:this.windowSvc.window.top,origin:"*"},{code:r.Enums.FrameCommCodes.SubframeBoot,data:s}),this.subframeParentTimeout&&(this.windowSvc.window.clearTimeout(this.subframeParentTimeout),this.subframeParentTimeout=null),this.subframeParentTimeout=this.windowSvc.window.setTimeout(function(){o.isMainFrame||o.mainFrameResponded||(o.applicationSvc.debug("Doing boot announcement to parent"),o.applicationSvc.sendFrameCom({window:o.windowSvc.window.parent,origin:"*"},{code:r.Enums.FrameCommCodes.SubframeBoot,data:s}),o.windowSvc.window.setTimeout(function(){o.isMainFrame||o.mainFrameResponded||(o.applicationSvc.debug("Main frame not present above. Booting as Main"),o.isMainFrame=!0,o.applicationSvc.isMain=!0,o.bootMainFrame(),o.booted=!0,o.applicationSvc.debug("**Boot Finished - Main Frame"))},1050))},1050)},M.prototype.processQueue=function(){for(;0<this.appQueue.length;){var e=this.appQueue.shift(),t=void 0,n=[];switch(Array.isArray(e)?(t=e.shift(),n=e):t=e,(t||"").toLowerCase()){case"trackevent":t="trackEvent";break;case"setattribute":t="setAttribute";break;case"incrementattribute":t="incrementAttribute";break;case"setappkey":t="setAppKey";break;case"setcontact":t="setContact";break;case"setmodule":t="setModule";break;case"silent":t="setSilent";break;case"setcontactfromcache":t="setContactFromCache";break;case"stop":t="stop";break;case"urltracking":t="setUrlTracking";break;case"testannouncement":t="testAnnouncement";break;case"replayannouncement":t="replayAnnouncement";break;case"updateannouncement":t="updateAnnouncement";break;case"hideannouncement":t="hideAnnouncement";break;case"testwalkthrough":t="testWalkthrough";break;case"testclearall":t="testClearAll";break;case"open":t="openPanel";break;case"close":t="closePanel";break;case"churnzeroevent:on":t="registerChurnZeroEventCallback";break;case"churnzeroevent:off":t="deregisterChurnZeroEventCallback";break;case"triggerwalkthrough":t="triggerWalkthrough"}try{this.applicationSvc.debug("Received "+t+": ",n),this[t].apply(this,n)}catch(e){}}},M.prototype.setAppKey=function(e){var t=this.commSvc.appKey;t&&this.commSvc.isConnected()&&e===t||(t&&t!==e&&this.halt(),this.isMainFrame?(this.commSvc.appKey=e,this.booted&&this.initConnection()):this.pushToMain(["setAppKey",e]))},M.prototype.setContactFromCache=function(){var e=this.commSvc.getContactKeyFromCache();this._setContactKey(e)},M.prototype.setContact=function(e,t,n,i){if(t&&0===t.toString().trim().length)window.console.warn("Contact ExternalId can not be empty.");else{var o=null;if(e&&t){if(e&&100<e.length)return void window.console.warn("Account ExternalId can not be more than 100 characters.");if(t&&100<t.length)return void window.console.warn("Contact ExternalId can not be more than 100 characters.");o=this.commSvc.generateContactKey(e,t)}else this.commSvc.isContactKeyValid(e)&&(o=e);this._setContactKey(o,n,i)}},M.prototype._setContactKey=function(e,t,n){var i=this.commSvc.contactKey;if(i&&i!==e&&this.stop(),!this.isMainFrame){var o=this.commSvc.splitContactKey(e),o=["setContact",o.accountExternalId,o.contactExternalId];return(t||n)&&(o=o.concat([t,n])),void this.pushToMain(o)}this.commSvc.contactKey=e,this.commSvc.accountHash=t,this.commSvc.contactHash=n,this.commSvc.isConnected()&&e===i||this.booted&&this.initConnection()},M.prototype.pushToMain=function(e){try{this.applicationSvc.debug("Pushing to Main:",e),this.applicationSvc.messageMain({code:r.Enums.FrameCommCodes.SubFramePassback,data:{type:"push",data:e}})}catch(e){}},M.prototype.stop=function(){this.commSvc.flush(),this.tenantSvc.resetContact(),this.commSvc.contactKey=null,this.commSvc.accountHash=null,this.commSvc.contactHash=null,this.halt()},M.prototype.trackEvent=function(e,t,n,i){this.eventSvc.TrackEvent(e,t,n,i)},M.prototype.setAttribute=function(e,t,n){this.attributeSvc.SetAttribute(e,t,n)},M.prototype.incrementAttribute=function(e,t,n){this.attributeSvc.IncrementAttribute(e,t,n)},M.prototype.setModule=function(e){this.isMainFrame?(this.wasModuleSet=!0,this.sessionSvc.SetModule(e)):this.pushToMain(["setModule",e])},M.prototype.setSilent=function(e){this.sessionSvc.SetSilent(e),this._appMarshal.setSilent(e),e?this.unloadHerald():this._herald||this.loadHerald()},M.prototype.setUrlTracking=function(e){this.commSvc.urlTracking=e},M.prototype.setConnectionDomain=function(e){d.CoreUtils.Strings.isNullOrEmpty(e)?this.applicationSvc.debug("Could not set connection domain to empty string"):(this.applicationSvc.debug("Setting connection domain to ",e),this.windowSvc.czHost=e,this.applicationSvc.setupClientSideUrls(),this.windowSvc.addOrigin(this.windowSvc.clientSideUrls.baseApiUrl.slice(0,-1)))},M.prototype.openPanel=function(){this.isMainFrame&&this._appMarshal.openSuccessPanel()},M.prototype.closePanel=function(){this.isMainFrame&&this._appMarshal.closeSuccessPanel()},M.prototype.triggerWalkthrough=function(e){if(this.tenantSvc.FeatureEnabled(f.FeatureFlags.Walkthroughs)&&e&&!this.sessionSvc.ShouldPreventUsageSends){for(var t=void 0,n=0;n<this.walkthroughSvc.walkthroughs.length;n++){var i=this.walkthroughSvc.walkthroughs[n];if(i&&i.id===e){t=i;break}}void 0!==t&&this.applicationSvc.pubsub.publish(l.ChurnZeroAppEvents.WalkthroughStart,t)}},M.prototype.registerChurnZeroEventCallback=function(e,t){e&&"string"==typeof e&&t&&"function"==typeof t&&(e=e.toLowerCase(),this.eventHandlers&&d.CoreUtils.hasOwnProp(this.eventHandlers,e)&&(this.eventHandlers[e].push(t),"connected"===e&&this.isRunning&&t(this.getEventHandlerData(e))))},M.prototype.deregisterChurnZeroEventCallback=function(e,t){e&&"string"==typeof e&&(e=e.toLowerCase(),this.eventHandlers&&d.CoreUtils.hasOwnProp(this.eventHandlers,e)&&!this.eventHandlers[e].length&&(d.CoreUtils.isNullOrUndefined(t)?this.eventHandlers[e].splice(0):0<=(t=this.eventHandlers[e].indexOf(t))&&this.eventHandlers[e].splice(t,1)))},M.prototype.testAnnouncement=function(e,t,n,i,o,s,r){this._herald&&this._herald.TestAnnouncement(e,t,n,i,o,s,r)},M.prototype.updateAnnouncement=function(e,t,n,i,o,s,r){this._herald&&this._herald.UpdateAnnouncement(e,t,n,i,o,s,r)},M.prototype.hideAnnouncement=function(){this._herald&&this._herald.HideAnyAnnouncement()},M.prototype.replayAnnouncement=function(e,t){this._herald&&this._herald.ReplayAnnouncement(e,t)},M.prototype.testWalkthrough=function(e,t){this._herald&&this._herald.TestWalkthrough(e,t)},M.prototype.testClearAll=function(){this._herald&&this._herald.TestClearAll()},M.prototype.preStartLoad=function(e){var t;this.tenantSvc.setFeatureFlags(e.featureFlags),this.tenantSvc.setTenantId(e.tenantId);var n=this.tenantSvc.contact;n.id=e.contact.id,this.tenantSvc.SetContact(n),this.tenantSvc.SetUIFontFamilyMapping(e.uiFontFamilyMapping),this.eventSvc.LoadEventMapConfig(e.eventMapConfig),this.pagetagSvc.LoadPageTagConfig(e.pageTagConfig),this.walkthroughSvc.LoadWalkthroughConfig(e.walkthroughConfig),this.tenantSvc.FeatureEnabled(f.ReleaseGates.JourneyChecklistReleased)&&e.journeyChecklistConfig&&this.checklistSvc.SeedData(e.journeyChecklistConfig),this.tenantSvc.FeatureEnabled(f.ReleaseGates.SuccessCentersReleased)&&null!==(t=this.sessionSvc.SuccessCenterConfig)&&void 0!==t&&t.clickToSeeMoreText&&(this.sessionSvc.CurrentAccountContent.clickToSeeMoreText=this.sessionSvc.SuccessCenterConfig.clickToSeeMoreText)},M.prototype.startKernel=function(){var e,t=this;if(this.isRunning)this.applicationSvc.debug("Attempted to start but was already running.");else{try{this.digestIntervalTimer&&(this.windowSvc.window.clearInterval(this.digestIntervalTimer),this.digestIntervalTimer=null)}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.clearDigestInterval",e)}this.applicationSvc.debug("Kernel Started");try{this.dbDisconnected=!1;var n=this.tenantSvc.contact;n&&d.CoreUtils.hasOwnProp(n,"id")&&null!==n.id&&(this.dbDisconnected="0"===n.id.toString(),this.dbMigrating="-1"===n.id.toString()),this.lastReconnectPing=this.windowSvc.Date.now()}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.checkDBState",e)}try{this.loadEventSpider()}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.loadEventSpider",e)}try{this.loadPageMonitor()}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.loadPageMonitor",e)}if(this.isMainFrame){if(!this.dbDisconnected&&!this.dbMigrating)try{this.loadApplicationMarshal()}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.loadApplicationMarshal",e)}try{this.loadActivityMonitor()}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.loadActivityMonitor",e)}try{this.loadHerald()}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.loadHerald",e)}}try{this.applicationSvc.pubsub.publish(l.ChurnZeroAppEvents.START),null!==(e=this._activityMonitor)&&void 0!==e&&e.Start()}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.publishStart",e)}try{this.sessionSvc.triggerHeartbeat(this.isMainFrame)}catch(e){return void p.default.report("_ChurnZeroApp.startKernel.triggerHeartbeat",e)}try{this.digestIntervalTimer=setInterval(function(){try{t.digestInterval()}catch(e){}},2e3)}catch(e){p.default.report("_ChurnZeroApp.startKernel.digestInterval",e)}this.isRunning=!0}},M.prototype.digestInterval=function(){!this.windowSvc.wasDisposed()&&this.windowSvc.isAcceptableLocation()?(this.isMainFrame&&(this.dbDisconnected||this.dbMigrating)&&+this.windowSvc.Date.now()-+this.lastReconnectPing>this.reconnectAttemptInterval&&(this.lastReconnectPing=this.windowSvc.Date.now(),this.initConnection()),this.isMainFrame&&this.sessionSvc.triggerHeartbeat(this.isMainFrame),this.sessionSvc.SetLastDigestTimestamp(),this.applicationSvc.pubsub.publish(l.ChurnZeroAppEvents.DIGEST)):this.halt()},M.prototype.initConnection=function(){var t=this;if(!this.isConnecting&&this.isMainFrame){this.subIds.initialConnectionSubId||(this.subIds.initialConnectionSubId=this.commSvc.registerListener(r.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_INITIAL_CONNECTION,function(e){try{t.onInitialConnectionHandler(e.info)}catch(e){p.default.report("ChurnZeroApp.initConnection.initialConnectionSub",e)}})),this.hashHandler&&(this.hashHandler.Stop(),this.hashHandler=null);var e=this.windowSvc.isAcceptableLocation(),n=this.commSvc.isContactKeyValid(this.commSvc.contactKey),i=this.commSvc.isAppKeyValid(this.commSvc.appKey);if(e&&n&&i){this.commSvc.disconnect(),this.isConnecting=!0,this.applicationSvc.debug("Connecting - from: "+this.windowSvc.href()+" to: "+this.windowSvc.clientSideUrls.baseApiUrl);try{this.commSvc.connect(this.windowSvc.socketServerApiUrl,function(e){if(t.applicationSvc.debug("Connection Success"),t.isConnecting=!1,!t.wasDomainSet&&e.connectionDomain&&e.connectionDomain!==t.windowSvc.clientSideUrls.baseApiUrl)return t.setConnectionDomain(e.connectionDomain),e.contact.id&&"-3"===(e.contact.id||"").toString()?(t.initConnection(),!1):t.windowSvc.socketServerApiUrl},function(e){if(t.applicationSvc.debug("Connect Status Check"),!t.wasDomainSet&&e.connectionDomain&&e.connectionDomain!==t.windowSvc.clientSideUrls.baseApiUrl)return t.setConnectionDomain(e.connectionDomain),e.contact.id&&"-3"===(e.contact.id||"").toString()?(t.isConnecting=!1,t.initConnection(),!1):t.windowSvc.socketServerApiUrl},function(){t.applicationSvc.debug("Error Connecting"),t.isConnecting=!1})}catch(e){this.isConnecting=!1}}else e||(this.hashHandler=new a.default(this.initConnection.bind(this),!0))}},M.prototype.onInitialConnectionHandler=function(e){var t=this;this.removeSubById("initialConnectionSubId"),this.sessionSvc.SetFunctionality(e.functionality),this.sessionSvc.SetSuccessCenterConfig(e.successCenterConfig),this.sessionSvc.SuccessCenterConfig&&(this.sessionSvc.SuccessCenterConfig.unreadCounts.announcements=e.announcements.filter(function(e){return!e.isRead&&!t.messageSvc.isSurveyAnnouncement(e)}).length||0,this.sessionSvc.SuccessCenterConfig.unreadCounts.surveys=e.announcements.filter(function(e){return!e.isRead&&t.messageSvc.isSurveyAnnouncement(e)}).length||0),this.applicationSvc.WebAppDomain=e.webAppDomain||this.windowSvc.clientSideUrls.baseApiUrl,this.applicationSvc.WebAppDomain&&(this.windowSvc.addOrigin(this.applicationSvc.WebAppDomain.slice(0,-1)),this.applicationSvc.removeFrameComListener&&this.applicationSvc.removeFrameComListener(),this.applicationSvc.addFrameComListener()),this.sessionSvc.SetAccountContent(e.functionality),this.sessionSvc.HasAccountOwner&&this.tenantSvc.setAccountOwner(e.contact.userAccount),this.messageSvc.SeedAnnouncements(e.announcements);e={tenantId:e.tenantId.toString(),contact:e.contact,featureFlags:e.featureFlags,eventMapConfig:e.eventMapConfig,pageTagConfig:e.pageTagConfig,walkthroughConfig:e.walkthroughConfig,uiFontFamilyMapping:e.uiFontFamilyMapping,journeyChecklistConfig:e.journeyChecklistConfig};this.applicationSvc.messageSubFrames({code:r.Enums.FrameCommCodes.MainFramePassdown,data:{code:l.ChurnZeroAppEvents.START,data:e}}),this.preStartLoad(e);try{this.startKernel()}catch(e){p.default.report("_ChurnZeroApp.startKernel",e)}this.triggerEventHandlers("connected")},M.prototype.loadEventSpider=function(){this.unloadEventSpider(),this._eventSpider=new u.default(this.applicationSvc,this.tenantSvc,this.eventSvc,this.walkthroughSvc,this.windowSvc,this.commSvc,this.sessionSvc)},M.prototype.unloadEventSpider=function(){this._eventSpider&&(this._eventSpider.Stop(),this._eventSpider=null)},M.prototype.loadPageMonitor=function(){function e(){try{var e=(t.windowSvc.href()||"").toString();if(n===e)return;n=e,t.checkUrlAgainstPageTags(n),t._herald&&(t._herald.CheckForWalkthroughAnchors(),t._herald.CompletelyAbandonAnyCurrentWalkthrough()),t.checkUrlAgainstWalkthroughs(n),t.isMainFrame&&t._appMarshal&&t._appMarshal.DevlessPanel&&t.applicationSvc.pubsub.publish(r.Enums.DevlessEvents.DevlessCurrentHref)}catch(e){p.default.report("ChurnZeroApp.loadPageMonitor",e)}}var t=this,n=this.windowSvc.href().toString();this.pageMonitorUrlChangeHandler=new g.default(e,!1,500),this.windowSvc.window.addEventListener("popstate",e,!0),this.checkUrlAgainstPageTags(this.windowSvc.href()),this.applicationSvc.pubsub.subscribe(l.ChurnZeroAppEvents.PanelReady,function(){t.checkUrlAgainstWalkthroughs(t.windowSvc.href())}),this.applicationSvc.pubsub.subscribe(l.ChurnZeroAppEvents.DIGEST,function(){t.pagetagSvc.RefreshPageTagConfig()}),this.commSvc.registerListener(r.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_RefreshPageTagConfig,function(e){t.applicationSvc.debug("Updated PageTag Config Received",e.info),t.pagetagSvc.LoadPageTagConfig(e.info)})},M.prototype.loadHerald=function(){var e,t,n=this;this.sessionSvc.IsSilent||(this._herald=new m.default(this.applicationSvc,this.tenantSvc,this.sessionSvc,this.messageSvc,this.walkthroughSvc,this.windowSvc,this.commSvc,this.templateCache),e=this.applicationSvc.addCdn("css/announcements.css"),(t=this.windowSvc.createElement("link")).id=O,t.rel="stylesheet",t.type="text/css",t.href=e,t.onload=function(){setTimeout(function(){n.checkUrlAgainstWalkthroughs(n.windowSvc.href())},500)},this.windowSvc.document.getElementsByTagName("head")[0].appendChild(t))},M.prototype.unloadHerald=function(){var e=this.windowSvc.document.getElementById(O);e&&e.parentNode&&e.parentNode.removeChild(e),this._herald&&(this._herald.onHalt(),this._herald=null)},M.prototype.loadApplicationMarshal=function(){this._appMarshal=new h.ApplicationMarshal(this.windowSvc,this.applicationSvc,this.commSvc,this.sessionSvc,this.storageSvc,this.tenantSvc,this.messageSvc,this.eventSvc,this.walkthroughSvc,this.checklistSvc,this.templateCache)},M.prototype.unloadApplicationMarshal=function(){this._appMarshal&&(this._appMarshal.stop(),this._appMarshal=null)},M.prototype.checkUrlAgainstPageTags=function(e){if(this.tenantSvc.FeatureEnabled(f.FeatureFlags.PageTags)&&!d.CoreUtils.Strings.isNullOrEmpty(e)&&(this.checkPageTagExitModule(),this.pagetagSvc.pageTags))for(var t=0;t<this.pagetagSvc.pageTags.length;t++){var n=this.pagetagSvc.pageTags[t];n.disabled||d.CoreUtils.Urls.checkUrlAgainstPageTag(e,n)&&(this.applicationSvc.debug("[Devless Page Tagging]","Page Tag Active:",n.pageName),n.shouldFireEvent&&(this.applicationSvc.debug("[Devless Page Tagging]","Track Event:",n.eventName),this.trackEvent(n.eventName)),n.shouldSetModule&&(this.applicationSvc.debug("[Devless Page Tagging]","Set Module:",n.moduleName),this.setModule(n.moduleName)),this.lastPageTag=n)}},M.prototype.checkPageTagExitModule=function(){this.lastPageTag&&this.lastPageTag.shouldSetModule&&this.lastPageTag.shouldSetExitModule&&(this.applicationSvc.debug("[Devless Page Tagging]","Set Exit Module:",this.lastPageTag.exitModuleName),this.setModule(this.lastPageTag.exitModuleName),this.lastPageTag=null)},M.prototype.checkUrlAgainstWalkthroughs=function(e){if(this.tenantSvc.FeatureEnabled(f.FeatureFlags.Walkthroughs)&&!this.sessionSvc.ShouldPreventUsageSends)for(var t=this.walkthroughSvc.GetPageVisitWalkthroughs(),n=0;n<t.length;n++){var i,o=t[n],s=o.pageTag,r=void 0;s.disabled||(null!==s.locationOptionsJson&&void 0!==s.locationOptionsJson&&s.isCustomLocation?r=d.LocationOptions.fromJson(s.locationOptionsJson,this.windowSvc.JSON):(r=new d.LocationOptions(d.CoreUtils.Urls.parseUrlToLocationParts(s.location)),s.isCustomLocation||null===s.locationOptionsJson||void 0===s.locationOptionsJson||(i=d.LocationOptions.fromJson(s.locationOptionsJson),r.allowChildPaths=i.allowChildPaths,r.allowChildStates=i.allowChildStates,r.excludeSearchParts=i.excludeSearchParts)),r=d.CoreUtils.Urls.buildRegexFromLocationParts(s.location,r),r=new RegExp(r),e.match(r)&&this.applicationSvc.pubsub.publish(l.ChurnZeroAppEvents.WalkthroughStart,o))}},M.prototype.loadActivityMonitor=function(){var t=this;if(this.isMainFrame){this.unloadActivityMonitor();var e,n=void 0;try{!this.applicationSvc.isDebugging||(e=sessionStorage.getItem("czActivityMonitorTimeoutMS"))&&(n=parseInt(e,10))}catch(e){}this._activityMonitor=new l.ActivityMonitor(this.windowSvc.window,p.default,n);var i=function(){t.sessionSvc.SetModuleActivityInactive(),t.sessionSvc.triggerHeartbeat(t.isMainFrame),t.commSvc.setPollInterval(3e5),t.applicationSvc.debug("%cCZE Frame ActivityMonitor is idle...","color: orange")},o=function(){t.sessionSvc.SetModuleActivityActive(),t.sessionSvc.triggerHeartbeat(t.isMainFrame),t.commSvc.resetPollIntervalToDefault(),t.applicationSvc.debug("%cCZE Frame ActivityMonitor is active...","color: green")},s=function(){t._activityMonitor.isActive()||t.doAnyActiveActivityMonitorsExist()||i()};this._activityMonitor.addActiveCallback(o),this._activityMonitor.addIdleCallback(i),this._activityMonitor.addIdlePrecheck(this.doAnyActiveActivityMonitorsExist),this.subIds.activityMonitorActiveSubId=this.applicationSvc.pubsub.subscribe(l.ChurnZeroAppEvents.ActivityMonitorActive,function(e){e=null===(e=null==e?void 0:e.info)||void 0===e?void 0:e.id;e&&(t.activityMonitorMapping[e]=!0,t._activityMonitor.isActive()||o())}),this.subIds.activityMonitorIdleSubId=this.applicationSvc.pubsub.subscribe(l.ChurnZeroAppEvents.ActivityMonitorIdle,function(e){e=null===(e=null==e?void 0:e.info)||void 0===e?void 0:e.id;e&&(t.activityMonitorMapping[e]=!1,s())}),this.subIds.activityMonitorHaltSubId=this.applicationSvc.pubsub.subscribe(l.ChurnZeroAppEvents.ActivityMonitorHalt,function(e){e=null===(e=null==e?void 0:e.info)||void 0===e?void 0:e.id;delete t.activityMonitorMapping[e],s()}),this.wasModuleSet||this.sessionSvc.SetModule("Default")}},M.prototype.doAnyActiveActivityMonitorsExist=function(){for(var e in this.activityMonitorMapping)if(d.CoreUtils.hasOwnProp(this.activityMonitorMapping,e)&&!0===this.activityMonitorMapping[e])return!0;return!1},M.prototype.unloadActivityMonitor=function(){this._activityMonitor&&(this._activityMonitor.Stop(),this._activityMonitor=null)},M.prototype.loadTemplates=function(){this.templateCache.announcementNpsTemplate=t(96),this.templateCache.announcementNpsTemplatePanel=t(97),this.templateCache.announcementSurveyButtonTemplate=t(98),this.templateCache.announcementSurveyButtonSpacerTemplate=t(99),this.templateCache.announcementSurveyCustomTemplate=t(100),this.templateCache.announcementSliderTemplate=t(101),this.templateCache.announcementTemplate=t(102),this.templateCache.avatarImageTemplate=t(103),this.templateCache.avatarInitialsTemplate=t(104),this.templateCache.messageBubbleTemplate=t(105),this.templateCache.popoverContainerTemplate=t(106)},M.prototype.setupInstanceServices=function(){this.sessionSvc=new T.default(this.storageSvc,this.commSvc,this.applicationSvc,this.tenantSvc,this.windowSvc),this.messageSvc=new A.default(this.commSvc,this.windowSvc,this.storageSvc),this.eventSvc=new k.default(this.commSvc,this.windowSvc,this.applicationSvc,this.sessionSvc),this.pagetagSvc=new P.default(this.commSvc,this.windowSvc,this.applicationSvc,this.sessionSvc),this.walkthroughSvc=new _.default(this.commSvc,this.windowSvc,this.applicationSvc,this.sessionSvc),this.attributeSvc=new I.default(this.commSvc,this.sessionSvc),this.checklistSvc=new F.ChecklistService(this.windowSvc,this.commSvc)},M.prototype.removeSubById=function(e){this.subIds[e]&&(this.subIds[e].remove(),this.subIds[e]=void 0)},M.prototype.triggerEventHandlers=function(e){try{if(!this.eventHandlers[e])return;for(var t=0;t<this.eventHandlers[e].length;t++){var n=this.eventHandlers[e][t];if("function"==typeof n)try{n(this.getEventHandlerData(e))}catch(e){}}}catch(e){p.default.report("_ChurnZeroApp.eventHandlersTrigger",e)}},M.prototype.getEventHandlerData=function(e){var t=void 0;return t="connected"===e?{hasPanel:this.sessionSvc.PanelEnabled}:t},M);function M(){this.name="ChurnZeroApp",this.version="s1.02.7187.003",this.isRunning=!1,this.isRegistered=!1,this.sfSubIds={},this.activityMonitorMapping={},this.eventHandlers={connected:[]},this.lastReconnectPing=null,this.reconnectAttemptInterval=3e5,this.subIds={},this.bootRetryMaxAttempts=5,this.bootRetryCount=5,this.reregisterRetryCount=10,this.doAnyActiveActivityMonitorsExist=this.doAnyActiveActivityMonitorsExist.bind(this),this.templateCache=new c.default,this.loadTemplates(),this.appQueue=[],this.isMainFrame=!0,this.booted=!1,this.isConnecting=!1,this.isUpdating=!1}exports.default=s},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=(i.prototype.detect=function(){this.oldHash!==window.location.hash&&(this.onChangeEvent(),this.stopOnChange&&this.Stop(),this.oldHash=window.location.hash)},i.prototype.Stop=function(){this.Check&&(window.clearInterval(this.Check),this.Check=null)},i);function i(e,t,n){var i=this;void 0===n&&(n=100),this.oldHash=window.location.hash,this.onChangeEvent=e,this.stopOnChange=t,this.Check=window.setInterval(function(){try{i.detect()}catch(e){}},n)}exports.default=n},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){}},function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),a=n(t(1)),c=t(0),o=t(5),t=(s.prototype.Stop=function(){this.onHalt()},s.prototype.onStart=function(){var t=this;this.updateMappedEventHandlersId=this.commSvc.registerListener(i.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_REFRESH_EVENT_MAP_CONFIG,function(e){return t.updateMappedEventHandlers(e.info)}),this.updateMappedWalkthroughsHandlersId=this.commSvc.registerListener(i.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_RefreshWalkthroughConfig,function(e){return t.updateMappedWalkthroughHandlers(e.info)}),this.trackMappedClicks()},s.prototype.onDigest=function(){this.eventSvc.RefreshEventMapConfig(),this.tenantSvc.FeatureEnabled(o.FeatureFlags.Walkthroughs)&&this.walkthroughSvc.RefreshWalkthroughConfig()},s.prototype.onHalt=function(){this.removeMappedClickHandlers(),this.updateMappedEventHandlersId&&(this.updateMappedEventHandlersId.remove(),this.updateMappedEventHandlersId=void 0),this.updateMappedWalkthroughsHandlersId&&(this.updateMappedWalkthroughsHandlersId.remove(),this.updateMappedWalkthroughsHandlersId=void 0),this.startId&&(this.startId.remove(),this.startId=null),this.digestId&&(this.digestId.remove(),this.digestId=null),this.haltId&&(this.haltId.remove(),this.haltId=null)},s.prototype.updateMappedEventHandlers=function(e){this.eventSvc.eventMapVersion!==e.eventMapVersion&&(this.appSvc.debug("Updated EventMap Config Received",e),this.eventSvc.LoadEventMapConfig(e),this.removeMappedClickHandlers(),this.trackMappedClicks())},s.prototype.updateMappedWalkthroughHandlers=function(e){this.walkthroughSvc.walkthroughsVersion!==e.version&&(this.appSvc.debug("Updated Walkthrough Config Received",e),this.walkthroughSvc.LoadWalkthroughConfig(e),this.removeMappedClickHandlers(),this.trackMappedClicks())},s.prototype.trackMappedClicks=function(){var n,i,o=this,s=this.eventSvc.RelevantMappedEvents().all,r=this.walkthroughSvc.GetClickWalkthroughs();this.removeMappedClickHandlers(),(0<s.length||0<r.length)&&(n=c.CoreUtils.concatEventMapSelectors(s),i=c.CoreUtils.concatWalkthroughSelectors(r),this.boundEventClickHandler=function(e){try{if(!e||!e.target)return;var t=o.windowSvc.czq(e.target);n&&t.is(n)&&(e.data=s,o.mappedEventClickHandler(e)),i&&t.is(i)&&(e.data=r,o.walkthroughClickHandler(e))}catch(e){a.default.report("EventSpider.boundEventClickHandler",e)}},this.windowSvc.elementCache.document.get(0).addEventListener("click",this.boundEventClickHandler,!0))},s.prototype.removeMappedClickHandlers=function(){this.windowSvc.elementCache.document.get(0).removeEventListener("click",this.boundEventClickHandler,!0),this.boundEventClickHandler=null,this.windowSvc.elementCache.document.off("click.mappedEvents")},s.prototype.mappedEventClickHandler=function(i){var o,s=this,e=i.data;e&&0<e.length&&(o=this.windowSvc.czq(i.target),e.forEach(function(e){var t=s.checkEventMapMatchesCurrentUrl(e),n=c.CoreUtils.buildEventMapSelector(e);o.is(n)&&t&&(i.WasMapped=!0,e=s.buildEventArrayFromEventMap(e),s.appSvc.debug("[Devless Event Mapping]",e),s.eventSvc.TrackEvent.apply(s.eventSvc,e))}))},s.prototype.walkthroughClickHandler=function(i){var o,s=this,e=i.data;e&&0<e.length&&(o=this.windowSvc.czq(i.target),e.forEach(function(e){var t,n;e.pageTag&&e.pageTag.disabled||(t=s.checkLocationMatchesCurrentUrl(e.pageTag),n=c.CoreUtils.buildEventMapSelector(e.triggerConfig),o.is(n)&&t&&(i.WasMapped=!0,s.appSvc.debug("[Devless Walkthrough Mapping]",e),s.sessionSvc.ShouldPreventUsageSends||s.appSvc.pubsub.publish(c.ChurnZeroAppEvents.WalkthroughStart,e)))}))},s.prototype.buildEventArrayFromEventMap=function(e){var t,n,i=[e.eventName];return e.descriptionSelector&&0<(t=this.windowSvc.czq(e.descriptionSelector)).length&&(n=c.CoreUtils.getTextFromElement(t),i=i.concat([n])),t=n=null,e.quantitySelector&&0<(t=this.windowSvc.czq(e.quantitySelector)).length&&(n=c.CoreUtils.getIntFromElement(t),i=(i=1===i.length?i.concat([null]):i).concat([n])),i},s.prototype.checkEventMapMatchesCurrentUrl=function(e){return e.locationTypeId===i.Enums.LocationTypes.Site||e.locationTypeId===i.Enums.LocationTypes.Page&&(e.location||this.windowSvc.href())===this.windowSvc.href()},s.prototype.checkLocationMatchesCurrentUrl=function(e){return this.windowSvc.CheckPageTagAgainstCurrentLocation(e)},s);function s(e,t,n,i,o,s,r){var a=this;this.appSvc=e,this.tenantSvc=t,this.eventSvc=n,this.walkthroughSvc=i,this.windowSvc=o,this.commSvc=s,this.sessionSvc=r,this.startId=this.appSvc.pubsub.subscribe(c.ChurnZeroAppEvents.START,function(){return a.onStart()}),this.digestId=this.appSvc.pubsub.subscribe(c.ChurnZeroAppEvents.DIGEST,function(){return a.onDigest()}),this.haltId=this.appSvc.pubsub.subscribe(c.ChurnZeroAppEvents.HALT,function(){return a.onHalt()})}exports.default=t},function(e,exports,t){"use strict";var g=this&&this.__assign||function(){return(g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ApplicationMarshal=void 0;var v=t(0),o=n(t(62)),s=n(t(64)),r=n(t(1)),y=t(65),S=t(5),a=t(66),c=t(30),l=t(70),t=(Object.defineProperty(i.prototype,"DevlessPanel",{get:function(){return this&&this._devlessPanel?this._devlessPanel:void 0},enumerable:!1,configurable:!0}),i.prototype.stop=function(){this.onHalt()},i.prototype.setSilent=function(e){e?(this._successPanel&&this.unloadSuccessPanel(),this._devlessLauncher&&this.unloadDevlessLauncher(),this._devlessPanel&&this.unloadDevlessPanel()):this._successPanel||this.tryLoadPanel()},i.prototype.openSuccessPanel=function(){this._successPanel&&(this._successPanel.show(!0),this._wasPanelOpenRequested=!0)},i.prototype.closeSuccessPanel=function(){this._successPanel&&this._successPanel.hide()},i.prototype.init=function(){var o=this;this.loadIndependentFramesStyles(function(){var e=o.sessionSvc,t=e.IsSilent,n=e.DevlessPanelEnabled,i=e.IsDevlessPanelOpen,e=!1;t||(n||o.loadIndependentLaunchers(),e=o.tryLoadPanel()),e||n||o.loadCustomCss(),n&&(o._subIds.loadDevlessPanelSubId||(o._subIds.loadDevlessPanelSubId=o.appSvc.pubsub.subscribe(v.DevlessEvents.DevlessShow,function(e){o.loadDevlessPanel(e.info)})),n=o._successPanel instanceof l.SuccessCenterLauncher,!e||n?o.loadDevlessLauncher(e,i):i&&o.appSvc.pubsub.publish(v.DevlessEvents.DevlessShow))})},i.prototype.onDigest=function(){this.appSvc.isMain&&this.tenantSvc.FeatureEnabled(S.ReleaseGates.JourneyChecklistReleased)&&this.checklistSvc.checkForUpdatedConfig();for(var e=0;e<this._checklistLaunchers.length;e++)this._checklistLaunchers[e].onDigest()},i.prototype.onHalt=function(){v.PubSuber.removeAll(this._subIds),this.windowSvc.window.removeEventListener("resize",this.debouncedResize),this.unloadDevlessPanel(),this.unloadSuccessPanel(),this.unloadDevlessLauncher(),this.unloadIndependentLaunchers(),this.unloadCustomCss()},i.prototype.tryLoadPanel=function(){var e=this,t=!1;try{t=this.appSvc.isDebugging&&"true"===sessionStorage.getItem("czDebugPanelsV3")}catch(e){}var n=this.sessionSvc.SuccessCenterEnabled||t,i=this.sessionSvc.PanelEnabled,t=!1;return n?(this._successPanel=new l.SuccessCenterLauncher(this.sessionSvc.SuccessCenterConfig,this.commSvc,this.appSvc,this.tenantSvc,this.windowSvc,this.storageSvc,this.sessionSvc,this.messageSvc,this.templateCache),t=!0):i&&(this._successPanel=new a.SuccessPanelLauncher(this.windowSvc.document,this.appSvc,this.tenantSvc,this.windowSvc,this.storageSvc,this.sessionSvc,this.messageSvc,this.templateCache,this.commSvc,this.checklistSvc,this._wasPanelOpenRequested),t=!0),this._subIds.showSuccessPanelSubId=this.appSvc.pubsub.subscribe(v.ChurnZeroAppEvents.PanelShow,function(){e.commSvc.setPollInterval(2500),e.closeChecklistLaunchers()}),this._subIds.hideSuccessPanelSubId=this.appSvc.pubsub.subscribe(v.ChurnZeroAppEvents.PanelHide,function(){e.commSvc.resetPollIntervalToDefault()}),t},i.prototype.unloadSuccessPanel=function(){this._successPanel&&(v.CoreUtils.hasOwnProp(this._successPanel,"onHalt")&&"function"==typeof this._successPanel.onHalt&&this._successPanel.onHalt(),this._successPanel=null)},i.prototype.loadDevlessPanel=function(e){var n,i=this;void 0===e&&(e=!1),this._devlessPanel||(this._devlessPanel=new o.default(this.windowSvc,this.storageSvc,this.sessionSvc,this.appSvc,this.commSvc,this.tenantSvc,this.eventSvc,this.walkthroughSvc,e),n=!1,this._subIds.devlessShowSubId=this.appSvc.pubsub.subscribe(v.DevlessEvents.DevlessShow,function(){var e,t;null!==(e=i._devlessLauncher)&&void 0!==e&&e.hidePanelToggle(),(i.sessionSvc.PanelEnabled||i.sessionSvc.SuccessCenterEnabled&&!i.isSuccessCenterInNewTab())&&(n=i._successPanel.basePanelVisible,null!==(t=i._successPanel)&&void 0!==t&&t.hide()),null!==(t=i._successPanel)&&void 0!==t&&t.hidePanelToggle(),i.commSvc.setPollInterval(2500)}),this._subIds.devlessHideSubId=this.appSvc.pubsub.subscribe(v.DevlessEvents.DevlessHide,function(){var e;null!==(t=i._devlessLauncher)&&void 0!==t&&t.showPanelToggle();var t=i.sessionSvc.PanelEnabled||i.sessionSvc.SuccessCenterEnabled&&!i.isSuccessCenterInNewTab();n&&t&&null!==(e=i._successPanel)&&void 0!==e&&e.show(),null!==(e=i._successPanel)&&void 0!==e&&e.showPanelToggle(),i._successPanel.basePanelVisible?i.commSvc.setPollInterval(2500):i.commSvc.resetPollIntervalToDefault()}))},i.prototype.unloadDevlessPanel=function(){this._devlessPanel&&(this._devlessPanel.onHalt(),this._devlessPanel=null)},i.prototype.loadDevlessLauncher=function(e,t){var n=this;if(void 0===t&&(t=!1),!e)return this._devlessLauncher=new s.default(this.appSvc,this.tenantSvc,this.windowSvc,this.storageSvc,this.sessionSvc,this.messageSvc,this.templateCache,this.commSvc),void(t&&this._devlessLauncher.show());var i=this.appSvc.pubsub.subscribe(v.ChurnZeroAppEvents.PanelLauncherReady,function(){i.remove(),n._devlessLauncher=new s.default(n.appSvc,n.tenantSvc,n.windowSvc,n.storageSvc,n.sessionSvc,n.messageSvc,n.templateCache,n.commSvc),n.handleDevlessLauncherCollisions(),t&&n._devlessLauncher.show()})},i.prototype.unloadDevlessLauncher=function(){this._devlessLauncher&&(v.CoreUtils.hasOwnProp(this._devlessLauncher,"onHalt")&&"function"==typeof this._devlessLauncher.onHalt&&this._devlessLauncher.onHalt(),this._devlessLauncher=null)},i.prototype.loadIndependentLaunchers=function(){var e,t=this;this.sessionSvc.PanelEnabled||this.sessionSvc.SuccessCenterEnabled?e=this.appSvc.pubsub.subscribe(v.ChurnZeroAppEvents.PanelLauncherReady,function(){e.remove(),t.populateChecklistLaunchers()}):this.populateChecklistLaunchers()},i.prototype.loadIndependentFramesStyles=function(e,i){this._independentFrameStyles=this.windowSvc.createElement("link"),this._independentFrameStyles.addEventListener("load",function(){"function"==typeof e&&e()}),this._independentFrameStyles.addEventListener("error",function(e){var t,n="independent_frames.css failed to load.";e&&(v.CoreUtils.hasOwnProp(e,"error")?t=e.error:"string"==typeof e?n=e:v.CoreUtils.hasOwnProp(e,"message")&&(n=e.message)),t=t||new Error(n),r.default.report("ApplicationMarshal.loadIndependentFramesStyles",t),"function"==typeof i&&i()}),this._independentFrameStyles.id="cz-independent-frame-styles",this._independentFrameStyles.type="text/css",this._independentFrameStyles.rel="stylesheet",this._independentFrameStyles.href=this.appSvc.addCdn("css/independent_frames.css"),this.windowSvc.document.head.appendChild(this._independentFrameStyles)},i.prototype.unloadIndependentLaunchers=function(){for(var e,t,n=this._checklistLaunchers.length,i=0;i<n;i++)this._checklistLaunchers[i].onHalt(),this._checklistLaunchers[i]=null;for(this._checklistLaunchers=[];null!==(e=this._checklistLauncherContainer)&&void 0!==e&&e.lastChild;)this._checklistLauncherContainer.removeChild(this._checklistLauncherContainer.firstChild);null!==(t=null===(t=this._checklistLauncherContainer)||void 0===t?void 0:t.parentElement)&&void 0!==t&&t.removeChild(this._checklistLauncherContainer),(this._checklistLauncherContainer=null)!==(t=null===(t=this._independentFrameStyles)||void 0===t?void 0:t.parentElement)&&void 0!==t&&t.removeChild(this._independentFrameStyles),this._independentFrameStyles=null},i.prototype.loadCustomCss=function(){var e;null!==(e=this.sessionSvc.CurrentAccountContent)&&void 0!==e&&e.css&&(this._customCssStyles=this.windowSvc.document.createElement("style"),this._customCssStyles.id="cz-custom-css-styles_no-panel",this._customCssStyles.textContent=this.sessionSvc.CurrentAccountContent.css,this.windowSvc.document.head.appendChild(this._customCssStyles))},i.prototype.unloadCustomCss=function(){var e;null!==(e=null===(e=this._customCssStyles)||void 0===e?void 0:e.parentElement)&&void 0!==e&&e.removeChild(this._customCssStyles),this._customCssStyles=null},i.prototype.populateChecklistLaunchers=function(){var t=this,e=this.windowSvc.document.querySelector("body");if(e&&this.tenantSvc.FeatureEnabled(S.ReleaseGates.JourneyChecklistReleased)&&this.tenantSvc.FeatureEnabled(S.ReleaseGates.JourneyChecklistPhaseTwoReleased)){var n=this.checklistSvc.getChecklistConfig()||{items:[],properties:{}},i=n.items,o=n.properties,s=i.filter(function(e){return 2===e.uiPositionId||!t.sessionSvc.PanelEnabled&&!t.sessionSvc.SuccessCenterEnabled}),r=s.length;if(0!==(null!==(i=null===(n=this._checklistLaunchers)||void 0===n?void 0:n.length)&&void 0!==i?i:0)||0!==r){n="cz_checklist_launcher_container",i=this.windowSvc.document.getElementById(n);if(i?!this._checklistLauncherContainer&&i&&(this._checklistLauncherContainer=i):(this._checklistLauncherContainer=this.windowSvc.createElement("div"),this._checklistLauncherContainer.id=n,e.appendChild(this._checklistLauncherContainer)),this._checklistLauncherContainer){var o=o.globalSettingsConfig||{},o=g(g({},v.CZ_DEFAULT_CHECKLIST_SETTINGS_CONFIG),o),a=v.ModelUtils.create(new v.ChecklistSettingsConfig,o);this._launcherConfigs.checklistSettings=g({},a),this._checklistLauncherContainer.className=this.checklistSvc.getPositionalClassNameFromConfig(a);o=a.launchIconType===v.LaunchIconType.Float?"float":"tabbed";this._checklistLauncherContainer.classList.add("cz-independent-frame-container"),this._checklistLauncherContainer.classList.add(o),this._checklistLauncherContainer.removeAttribute("style");for(var c=s.map(function(e){return e.id}),l=this._checklistLaunchers.length;l--;){var u=this._checklistLaunchers[l];-1<c.indexOf(u.getId())||(u.onHalt(),u=null,this._checklistLaunchers.splice(l,1))}for(var h=this._checklistLaunchers.map(function(e){return e.getId()}),d=0;d<r;d++){var p=s[d],f={domOrder:d,isLastChild:d===r-1},m=h.indexOf(p.id);-1<m?this._checklistLaunchers[m].updateMetaData(f):((u=new y.JourneyChecklistLauncher(p,a,this._checklistLauncherContainer,this.appSvc,this.tenantSvc,this.windowSvc,this.storageSvc,this.sessionSvc,this.messageSvc,this.templateCache,this.checklistSvc,f)).registerShowListener(this.handleChecklistLauncherShow),u.onInit(),this._checklistLaunchers.push(u))}if(0===this._checklistLaunchers.length)return null!==(o=null===(o=this._checklistLauncherContainer)||void 0===o?void 0:o.parentElement)&&void 0!==o&&o.removeChild(this._checklistLauncherContainer),void(this._checklistLauncherContainer=null);this.handleChecklistLauncherCollisions(),this.calculateFramePositions(),this._checklistLauncherContainer.classList.add("in")}}}},i.prototype.handleChecklistLauncherCollisions=function(){var e,t=null===(e=this._successPanel)||void 0===e?void 0:e.getLauncherBoundingRectangle(!0);if(t){var n=null===(e=this._checklistLauncherContainer)||void 0===e?void 0:e.getBoundingClientRect();if(n&&c.DOMUtils.hasCollision(n,t))switch(null===(e=null===(e=this._launcherConfigs)||void 0===e?void 0:e.checklistSettings)||void 0===e?void 0:e.launchIconPosition){case v.LaunchIconPosition.TopCenter:case v.LaunchIconPosition.BottomCenter:var i=t.left-n.width-10;this._checklistLauncherContainer.style.setProperty("left",i+"px","important"),this._checklistLauncherContainer.classList.add("no-transforms");break;case v.LaunchIconPosition.LeftCenter:case v.LaunchIconPosition.RightCenter:case v.LaunchIconPosition.TopLeft:case v.LaunchIconPosition.TopRight:i=t.bottom+10;this._checklistLauncherContainer.style.setProperty("top",i+"px","important"),this._checklistLauncherContainer.classList.add("no-transforms");break;default:v.LaunchIconPosition.BottomLeft;i=this.windowSvc.document.documentElement.clientHeight-t.bottom+t.height+10;this._checklistLauncherContainer.style.setProperty("bottom",i+"px","important")}}},i.prototype.calculateFramePositions=function(){for(var e=this._checklistLaunchers.length,t=0;t<e;t++)this._checklistLaunchers[t].calculateFramePositions()},i.prototype.handleChecklistLauncherShow=function(e){this.closeChecklistLaunchers(e),this.closeSuccessPanel()},i.prototype.closeChecklistLaunchers=function(e){for(var t=this._checklistLaunchers.length,n=0;n<t;n++){var i=this._checklistLaunchers[n];i.getId()!==e&&i.hide()}},i.prototype.handleWindowResize=function(){var e=this;this._checklistLauncherContainer&&(this._checklistLauncherContainer.classList.remove("in"),this._checklistLauncherContainer.removeAttribute("style"),this.windowSvc.window.setTimeout(function(){e.handleChecklistLauncherCollisions(),e.calculateFramePositions(),e._checklistLauncherContainer.classList.add("in")},100))},i.prototype.handleChecklistConfigRefresh=function(e){var t=e.info,e=this.checklistSvc.getChecklistConfig();(null==t?void 0:t.version)!==(null==e?void 0:e.version)&&(this.checklistSvc.SeedData(t),this.appSvc.debug("Checklist config refreshed with version "+t.version),this.appSvc.isMain&&this.tenantSvc.FeatureEnabled(S.ReleaseGates.JourneyChecklistReleased)&&(!this.tenantSvc.FeatureEnabled(S.ReleaseGates.JourneyChecklistPhaseTwoReleased)||this.sessionSvc.IsSilent||this.sessionSvc.DevlessPanelEnabled||this.populateChecklistLaunchers(),this.appSvc.pubsub.publish(v.ChurnZeroAppEvents.JourneyChecklistRefreshed)))},i.prototype.handleDevlessLauncherCollisions=function(){var e,t=null===(e=this._successPanel)||void 0===e?void 0:e.getLauncherBoundingRectangle(!0);!t||(e=null===(e=this._devlessLauncher)||void 0===e?void 0:e.getLauncherBoundingRectangle(!0))&&c.DOMUtils.hasCollision(e,t)&&(v.LaunchIconPosition.BottomRight,t=this.windowSvc.document.documentElement.clientHeight-t.bottom+t.height+10,this._devlessLauncher.positionLauncher({bottom:t+"px"}))},i.prototype.isSuccessCenterInNewTab=function(){var e=!1;try{e=this.appSvc.isDebugging&&"true"===sessionStorage.getItem("czDebugPanelsV3")}catch(e){}return(this.sessionSvc.SuccessCenterEnabled||e)&&this.sessionSvc.SuccessCenterConfig.locationTypeId===v.SuccessCenterLocation.NewTab},i);function i(e,t,n,i,o,s,r,a,c,l,u){this.windowSvc=e,this.appSvc=t,this.commSvc=n,this.sessionSvc=i,this.storageSvc=o,this.tenantSvc=s,this.messageSvc=r,this.eventSvc=a,this.walkthroughSvc=c,this.checklistSvc=l,this.templateCache=u,this._subIds={},this._checklistLaunchers=[],this._launcherConfigs={},this.onDigest=this.onDigest.bind(this),this.onHalt=this.onHalt.bind(this),this.handleChecklistLauncherShow=this.handleChecklistLauncherShow.bind(this),this.handleChecklistConfigRefresh=this.handleChecklistConfigRefresh.bind(this),this.handleWindowResize=this.handleWindowResize.bind(this),this.debouncedResize=v.CoreUtils.debounce(this.handleWindowResize,200),this._subIds.digestSub=this.appSvc.pubsub.subscribe(v.ChurnZeroAppEvents.DIGEST,this.onDigest),this._subIds.haltSub=this.appSvc.pubsub.subscribe(v.ChurnZeroAppEvents.HALT,this.onHalt),this._subIds.checklistRefreshSub=this.commSvc.registerListener(v.SocketMessageTypes.SOCKETMESSAGETYPE_RefreshChecklistConfig,this.handleChecklistConfigRefresh),this.windowSvc.window.addEventListener("resize",this.debouncedResize),this.init()}exports.ApplicationMarshal=t},function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var h=t(2),i=n(t(63)),u=t(0),t=(Object.defineProperty(o.prototype,"AdminPanelState",{get:function(){return this._adminPanelState||(this._adminPanelState=this.storageSvc.get(o.storageKeys.AdminPanelState,{height:"365px",lastStatus:"",lastStatusData:""})),this._adminPanelState},set:function(e){this._adminPanelState=e,this.persistState()},enumerable:!1,configurable:!0}),o.prototype.onHalt=function(){this.persistState(),u.PubSuber.removeAll(this.subIds),this.frame&&(this.frame.parentNode.removeChild(this.frame),this.frame=null),this.frameResizer&&(this.frameResizer.parentNode.removeChild(this.frameResizer),this.frameResizer=null)},o.prototype.persistState=function(){this.storageSvc.set(o.storageKeys.AdminPanelState,this._adminPanelState)},o.prototype.buildIframe=function(){var e=this.appSvc.WebAppDomain+"devless/";e+="?ak="+encodeURIComponent(this.commSvc.appKey)+"&ti="+this.tenantSvc.currentTenantId();var t=this.windowSvc.createElement("iframe");try{i=parseInt(this.AdminPanelState.height||"265px")}catch(e){i=265}var n=i-7.5;t.id="cz-devless-iframe",t.src=e,t.style.display="block",t.style.position="fixed",t.style.bottom="0",t.style.left="0",t.style.right="0",t.style.maxHeight="100vh",t.style.height=i+"px",t.style.width="100%",t.style.zIndex="1000000",t.style.border="none";var i=this.windowSvc.createElement("div");i.id="cz-devless-iframe-resizer",i.style.display="block",i.style.position="fixed",i.style.bottom=n+"px",i.style.left="0",i.style.right="0",i.style.width="100%",i.style.height="15px",i.style.zIndex="1000002",i.style.cursor="row-resize",i.ondragstart=function(){return!1};n=null===(n=this.windowSvc.clientSideUrls)||void 0===n?void 0:n.environment;"t"!==n&&"d"!==n||t.addEventListener("load",function(e){try{e.target.contentWindow.parent.document.getElementsByTagName("html")[0].classList.add("cz-devless-ready")}catch(e){}},{once:!0}),this.windowSvc.elementCache.body[0].appendChild(i),this.windowSvc.elementCache.body[0].appendChild(t),this.frame=t,this.frameResizer=i},o.prototype.initEventHandlers=function(t){var n=this;void 0===t&&(t=!1),this.appSvc.pubsub.addMirror(function(e){n.frame&&n.frame.contentWindow&&(e=u.iFrameUtils.encrypt(n.windowSvc.JSON.stringify(u.iFrameUtils.buildTransportMessage(u.TransportCodes.PubSubMirror,e))),n.frame.contentWindow.postMessage(e,"*"))}),this.appSvc.addChildFrameListener(),this.subIds.devlessInitSubId=this.appSvc.pubsub.subscribe(h.Enums.DevlessEvents.DevlessInit,function(){var e={clientSideUrls:n.windowSvc.clientSideUrls,webAppDomain:n.appSvc.WebAppDomain,height:n.AdminPanelState.height,currentTenantId:n.tenantSvc.currentTenantId(),locationHref:n.windowSvc.href(),wasUserDrivenOpen:t,featureFlags:n.tenantSvc.getFeatureFlags()};n.appSvc.pubsub.publish(h.Enums.DevlessEvents.DevlessConnectionInfo,e),n.initElementFinder()}),this.subIds.devlessShowSubId=this.appSvc.pubsub.subscribe(h.Enums.DevlessEvents.DevlessShow,function(){n.frame.style.display="block",n.frameResizer.style.display="block",n.commSvc.setPollInterval(2500),n.sessionSvc.IsDevlessPanelOpen=!0}),this.subIds.devlessHideSubId=this.appSvc.pubsub.subscribe(h.Enums.DevlessEvents.DevlessHide,function(){n.frame.style.display="none",n.frameResizer.style.display="none",n.sessionSvc.IsDevlessPanelOpen=!1}),this.subIds.devlessResizeSubId=this.appSvc.pubsub.subscribe(h.Enums.DevlessEvents.DevlessResize,function(e){e=e.info;e.height&&(n.frame.style.height=e.height||n.frame.style.height),e.width&&(n.frame.style.width=e.width||n.frame.style.width),e.left&&(n.frame.style.left=e.left||n.frame.style.width),e.disableResizing?n.frameResizer.style.display="none":n.frameResizer.style.display="block"}),this.subIds.devlessElementExistsSubId=this.appSvc.pubsub.subscribe(h.Enums.DevlessEvents.DevlessElementExistsCheck,function(e){var t=0<n.windowSvc.czq(e.info.selector).length;n.appSvc.pubsub.publish(h.Enums.DevlessEvents.DevlessElementExistsCheckResponse,{selector:e.info.selector,exists:t})}),this.subIds.devlessCurrentHrefSubId=this.appSvc.pubsub.subscribe(h.Enums.DevlessEvents.DevlessCurrentHref,function(e){n.appSvc.pubsub.publish(h.Enums.DevlessEvents.DevlessCurrentHrefResponse,{currentHref:n.windowSvc.href()})}),this.subIds.devlessPushSubId=this.appSvc.pubsub.subscribe(h.Enums.DevlessEvents.DevlessPush,function(e){e=e.info;n.windowSvc.window.ChurnZero.push(e)}),this.initResizer()},o.prototype.initResizer=function(){var n,i,o,s=this,r=this.frameResizer,a=this.frame,c=null;function l(e){e.preventDefault();e=n-e.clientY;r.style.bottom=i+e+"px",a.style.height=o+e+"px",c.style.height=o+e+"px"}function u(e){document.documentElement.removeEventListener("mousemove",l),r.removeEventListener("mouseup",u),r.style.backgroundColor="transparent",r.style.position="fixed",s.AdminPanelState.height=a.style.height,s.persistState(),s.appSvc.pubsub.publish(h.Enums.DevlessEvents.DevlessIframeResized,{height:a.style.height});var t=document.querySelectorAll(".cz-resize-guard");if(t)for(var n=0;n<t.length;n++){var i=t[n];i&&i.parentElement&&i.parentElement.removeChild(i)}}this.frameResizer.addEventListener("mousedown",function(e){var t=document.defaultView.getComputedStyle(a);(c=document.createElement("DIV")).classList.add("cz-resize-guard"),c.style.position="fixed",c.style.zIndex="1000001",c.style.left="0",c.style.right="0",c.style.bottom="0",c.style.height=parseInt(t.height,10)+"px",c.style.backgroundColor="transparent",n=e.clientY,o=parseInt(t.height,10),i=parseInt(document.defaultView.getComputedStyle(r).bottom,10),document.documentElement.addEventListener("mousemove",l),r.addEventListener("mouseup",u),r.style.backgroundColor="rgba(0,0,0,0.5)",r.style.position="fixed",document.body.append(r),document.body.append(c)})},o.prototype.initElementFinder=function(){var t=this;this.elementFinder||(this.elementFinder=new i.default({elementNamespace:"element-finder-border",pubHubElement:"body",ignoreContainerFilter:"cz-devless-iframe",eventNamespace:"element-finder-event",keepBordersOnClick:!0,onHoverFunction:this.updateHoverTextHandler.bind(this),onSelectedFunction:this.elementSelectedHandler.bind(this),onHighlightFunction:this.elementHighlightedHandler.bind(this)},this.windowSvc)),this.subIds.elementFinderStartSubId=this.appSvc.pubsub.subscribe(h.Enums.DevlessEvents.ElementFinderStart,function(e){t.elementFinder.start(),t.raiseDevlessFrame()}),this.subIds.elementFinderStopSubId=this.appSvc.pubsub.subscribe(h.Enums.DevlessEvents.ElementFinderStop,function(e){t.elementFinder.stop(e.info),t.lowerDevlessFrame()}),this.subIds.elementFinderHighlightElementSubId=this.appSvc.pubsub.subscribe(h.Enums.DevlessEvents.ElementFinderHighlightElement,function(e){t.elementFinder.highlightElement(e.info.selector)})},o.prototype.updateHoverTextHandler=function(e,t){t={description:this.windowSvc.buildSelector(t),textValue:u.CoreUtils.getTextFromElement(this.windowSvc.czq(t))};this.appSvc.pubsub.publish(h.Enums.DevlessEvents.ElementFinderHoverUpdate,t)},o.prototype.elementSelectedHandler=function(e,t){t={description:this.windowSvc.buildSelector(t),textValue:u.CoreUtils.getTextFromElement(this.windowSvc.czq(t))};this.appSvc.pubsub.publish(h.Enums.DevlessEvents.ElementFinderElementSelected,t),this.lowerDevlessFrame()},o.prototype.elementHighlightedHandler=function(e){e={description:this.windowSvc.buildSelector(e.get(0)),textValue:u.CoreUtils.getTextFromElement(e)};this.appSvc.pubsub.publish(h.Enums.DevlessEvents.ElementFinderElementHighlighted,e),this.lowerDevlessFrame()},o.prototype.raiseDevlessFrame=function(){this.frame.style.zIndex="1000001"},o.prototype.lowerDevlessFrame=function(){this.frame.style.zIndex="1000000"},o.storageKeys={AdminPanelState:"ADMIN_PANEL__STATE"},o);function o(e,t,n,i,o,s,r,a,c){var l=this;void 0===c&&(c=!1),this.windowSvc=e,this.storageSvc=t,this.sessionSvc=n,this.appSvc=i,this.commSvc=o,this.tenantSvc=s,this.eventSvc=r,this.walkthroughSvc=a,this.subIds={},this._adminPanelState=null,this.buildIframe(),this.initEventHandlers(c),this.subIds.onHaltSubId=this.appSvc.pubsub.subscribe(u.ChurnZeroAppEvents.HALT,function(){return l.onHalt})}exports.default=t},function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var i=n(t(1)),o=t(0),t=(s.prototype.init=function(){this.options.eventNamespace&&"."!==this.options.eventNamespace.substring(0,1)&&(this.options.eventNamespace="."+this.options.eventNamespace),this.elements={pubHub:this.windowSvc.czq(this.options.pubHubElement),iframes:null,borderElements:void 0,extraBorders:[]}},s.prototype.start=function(){var i=this;this.stop(),this._initStylesheet(),this._addBorderElements(),this.boundSelectionHandler=this._elementSelectedHandler.bind(this),this.elements.pubHub.get(0).addEventListener("click",this.boundSelectionHandler,!0),this.elements.pubHub.on(this._nameSpaceEvent("mouseover"),this._mouseOverHandler.bind(this)),this.elements.iframes=this.elements.pubHub.find("iframe"),this.elements.iframes.each(function(e,t){var n=i.windowSvc.czq(t);try{n.contents().on(i._nameSpaceEvent("mouseover"),function(e){i._mouseOverHandler(e,n)}).on(i._nameSpaceEvent("click"),function(e){i._elementSelectedHandler(e)})}catch(t){}}),this.IsFinding=!0},s.prototype.stop=function(e){var n=this;e||(this._removeBorderElements(),this.currentHover=null),this.elements.pubHub.get(0).removeEventListener("click",this.boundSelectionHandler,!0),this.boundSelectionHandler=null,this.elements.pubHub.off(this.options.eventNamespace),this.elements.iframes&&this.elements.iframes.each(function(e,t){try{n.windowSvc.czq(t).contents().off(n.options.eventNamespace)}catch(t){}}),this.IsFinding=!1},s.prototype.highlightElement=function(e){var t,i=this;if(this._initStylesheet(),this._addBorderElements(),"string"==typeof e){if(!(0<(t=this.windowSvc.czq(e)).length))return;t=t}else t=this.windowSvc.czq(e);0<t.length&&(this._removeBorderElements(),t.each(function(e,t){var n=i.buildBorderElements();i.elements.extraBorders.push(n),i._updateBorderPositions(n,t)}),this.options.onHighlightFunction&&"function"==typeof this.options.onHighlightFunction&&this.options.onHighlightFunction(t))},s.prototype._initStylesheet=function(){var e;!0!==this.isInited&&(e="."+this.options.elementNamespace+" {    background: mediumpurple;    position: absolute;    z-index: 1000000;}",this._writeStylesheet(e),this.isInited=!0)},s.prototype._elementSelectedHandler=function(e){try{e.preventDefault(),e.stopPropagation();var t=e.target;if(this._isIgnorableElement(t)){if(!this.currentHover||this._isIgnorableElement(this.currentHover))return!1;t=this.currentHover}this.options.onSelectedFunction&&"function"==typeof this.options.onSelectedFunction&&this.options.onSelectedFunction(e,t),this.stop(this.options.keepBordersOnClick)}catch(e){i.default.report("ElementFinder.SelectedHandler",e)}return!1},s.prototype._mouseOverHandler=function(e,t){var n,i=e.target;this._isIgnorableElement(i)||(void 0!==t&&(n=t.offset()),this._updateBorderPositions(this.elements.BorderElements,i,n),this.currentHover=i,this.options.onHoverFunction&&"function"==typeof this.options.onHoverFunction&&this.options.onHoverFunction(e,i))},s.prototype._addBorderElements=function(){this._removeBorderElements();var e=this.buildBorderElements();this.elements.BorderElements=this.elements.BorderElements||{},this.elements.BorderElements.top=e.top,this.elements.BorderElements.right=e.right,this.elements.BorderElements.bottom=e.bottom,this.elements.BorderElements.left=e.left},s.prototype.buildBorderElements=function(){return{top:this.windowSvc.czq("<div></div>").addClass(this.options.elementNamespace).appendTo("body"),right:this.windowSvc.czq("<div></div>").addClass(this.options.elementNamespace).appendTo("body"),bottom:this.windowSvc.czq("<div></div>").addClass(this.options.elementNamespace).appendTo("body"),left:this.windowSvc.czq("<div></div>").addClass(this.options.elementNamespace).appendTo("body")}},s.prototype._removeBorderElements=function(){var t=this;this.windowSvc.czq.each(this.elements.BorderElements||{},function(e,t){t.remove()}),this.elements.extraBorders.forEach(function(e){t.windowSvc.czq.each(e||{},function(e,t){t.remove()})})},s.prototype._updateBorderPositions=function(e,t,n){var i,o;!t||this.options.elementNamespace&&t.className&&-1!==t.className.indexOf(this.options.elementNamespace)||(o=this.windowSvc.elementCache.window.scrollTop(),t=(i=t.getBoundingClientRect()).top+o,o=i.left,n&&void 0!==n.top&&void 0!==n.left&&(t=i.top+n.top,o+=n.left),e.top.css({top:Math.max(0,t-3),left:o-3,width:i.width+3,height:3}),e.bottom.css({top:t+i.height,left:o-3,width:i.width+3,height:3}),e.left.css({top:t-3,left:Math.max(0,o-3),width:3,height:i.height+3}),e.right.css({top:t-3,left:o+i.width,width:3,height:i.height+6}))},s.prototype._writeStylesheet=function(e){var t=document.createElement("style");t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.innerHTML=e},s.prototype._nameSpaceEvent=function(e){return e+this.options.eventNamespace},s.prototype._isIgnorableElement=function(e){var t=document.getElementById(this.options.ignoreContainerFilter);if(t&&t.contains(e)||e.classList.contains("element-finder-border"))return!0;t=e;if(e.classList.contains("cz-walkthrough-anchor")||o.CoreUtils.closest(t,".cz-walkthrough-anchor"))return!0;if("cz_success_center_container"===(null==e?void 0:e.id)||o.CoreUtils.closest(t,"#cz_success_center_container"))return!0;var n=!1;switch((e.tagName||"").toLowerCase()){case"input":n="password"===(e.type||"").toLowerCase();break;case"option":n=!0}return n},s.defaultOptions={elementNamespace:"element-finder-border",pubHubElement:"body",ignoreContainerFilter:"",eventNamespace:".element-finder-event",keepBordersOnClick:!1,onHoverFunction:!1,onSelectedFunction:!1,onHighlightFunction:!1},s);function s(e,t){this.windowSvc=t,this.isInited=!1,this.options=this.windowSvc.czq.extend({},s.defaultOptions,e||{}),this.init()}exports.default=t},function(e,exports,t){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var l,s=t(2),r=o(t(1)),a=t(0),t=t(13),n=(l=t.IndependentLauncher,n(c,l),Object.defineProperty(c.prototype,"topWindow",{get:function(){var e;return(null===(e=this.parentDocument)||void 0===e?void 0:e.defaultView)||null},enumerable:!1,configurable:!0}),c.prototype.onInit=function(){var t=this;try{if(!this.buildContainer())return;this.addLauncherFrame(function(){t.container.classList.remove("cz-hidden"),t.panelLauncher.classList.remove("cz-hidden")},function(e){t.handleError(e,"addLauncherFrame")})}catch(e){this.handleError(e,"DevlessPanelLauncher.onInit")}this.subIds.haltSubId=this.appSvc.pubsub.subscribe(a.ChurnZeroAppEvents.HALT,function(){return t.onHalt()}),this.subIds.DevlessHideSubId=this.appSvc.pubsub.subscribe(s.Enums.DevlessEvents.DevlessHide,function(e){t.hide()})},c.prototype.show=function(e){try{this.hidePanelToggle(),this.showDevlessPanel()}catch(e){r.default.report("DevlessPanelLauncher.show",e)}},c.prototype.hide=function(){try{this.showPanelToggle()}catch(e){r.default.report("DevlessPanelLauncher.hide",e)}},c.prototype.showPanelToggle=function(){var e;null!==(e=null===(e=this.panelLauncher)||void 0===e?void 0:e.classList)&&void 0!==e&&e.remove("hidden")},c.prototype.hidePanelToggle=function(){var e;null!==(e=null===(e=this.panelLauncher)||void 0===e?void 0:e.classList)&&void 0!==e&&e.add("hidden")},c.prototype.onDigest=function(){},c.prototype.buildContainer=function(){this.container=this.windowSvc.createElement("div"),this.container.id="cz_devless_container",this.container.classList.add("cz-hidden"),this.container.classList.add("cz-independent-frame-container"),this.container.classList.add("sc-container"),this.container.classList.add("no-transforms"),this.container.classList.add("pos-bottom-right"),this.container.classList.add("float"),this.container.classList.add("in");var e=this.parentDocument.querySelector("body");return e?this.topWindow?(e.appendChild(this.container),!0):(this.appSvc.debug("No top window found when adding success center. Exiting early."),!1):(this.appSvc.debug("No body element found to add success panel. Exiting early."),!1)},c.prototype.addLauncherFrame=function(o,s){var r=this,a='\n        <section id="cz-devless-launch-wrapper">\n            <div class="cz-success-center-launch-avatar-img img-circle"\n                style="background-image: url(\''+this.appSvc.addCdn("img/ch0-icon-light-32x32.png")+"');\"></div>\n        </section>";this.panelLauncher=this.windowSvc.createElement("iframe"),this.panelLauncher.id="cz_devless_launcher_frame",this.panelLauncher.classList.add("cz-hidden"),this.panelLauncher.classList.add("cz-independent-frame"),this.panelLauncher.classList.add("launcher"),this.panelLauncher.classList.add("pos-bottom-right"),this.panelLauncher.classList.add("float"),this.panelLauncher.addEventListener("load",function(e){try{var t=e.target.contentWindow.document,n=t.body,i=t.createElement("link");i.id="cz-launcher-styles",i.type="text/css",i.rel="stylesheet",i.href=r.appSvc.addCdn("css/in_frame_success_center_launcher.css"),t.head.appendChild(i),n.className="cz-launch-panel-body",n.innerHTML=a,t.addEventListener("click",function(){r.show()})}catch(e){s(e)}o()},{once:!0}),this.container.appendChild(this.panelLauncher)},c.prototype.addPanelFrame=function(e,t){e()},c.prototype.getId=function(){},c.prototype.onHalt=function(){this.hide(),this.removeAllInjectedHtml(),a.PubSuber.removeAll(this.subIds)},c.prototype.positionLauncher=function(e){for(var t in e)this.container.style.setProperty(t,e[t].toString(),"important")},c.prototype.showDevlessPanel=function(){try{this.appSvc.pubsub.publish(s.Enums.DevlessEvents.DevlessShow,!0)}catch(e){r.default.report("DevlessPanelLauncher.showDevlessPanelEvent",e)}},c);function c(e,t,n,i,o,s,r,a,c){r=l.call(this,n.document,e,t,n,i,o,s,r)||this;return r.commSvc=a,r.openOnStart=c,r.fileNames={CSMPanelTemplate:"template/csmPanel.html"},r.subIds={},r.onInit(),r}exports.default=n},function(e,exports,t){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JourneyChecklistLauncher=void 0;var d,s=t(13),T=t(0),A=t(27),l=t(28),r={},n=(d=s.IndependentLauncher,n(a,d),a.prototype.onInit=function(){var e,n=this;if(null!==(e=this.data)&&void 0!==e&&e.id)try{this.addLauncherFrame(function(){n.addPanelFrame(function(){var e=n.metaData||r,t=e.domOrder,e=e.isLastChild;"number"==typeof t&&n.panelLauncher.style.setProperty("order",t.toString(),"important"),!0===e&&n.panelLauncher.classList.add("last"),n.panelLauncher.classList.remove("cz-invisible"),n.panelFrame.classList.remove("cz-invisible"),n.windowSvc.window.setTimeout(n.calculateFramePositions,500)},function(e){n.handleError(e,"addPanelFrame")})},function(e){n.handleError(e,"addLauncherFrame")})}catch(e){this.handleError(e,"JourneyChecklistLauncher.onInit")}},a.prototype.addLauncherFrame=function(s,r){var a=this;this.panelLauncher=this.windowSvc.createElement("iframe"),this.panelLauncher.id="cl-launcher-launch-frame-"+this.data.id,this.panelLauncher.className="cz-invisible cz-independent-frame launcher",this.panelLauncher.classList.add(this.getPositionalClassFromConfig(this.settingsConfig.launchIconPosition));var c=this.settingsConfig.launchIconType===T.LaunchIconType.Float;this.panelLauncher.classList.add(c?"float":"tabbed"),this.panelLauncher.addEventListener("load",function(e){try{var n=e.target.contentWindow.document,t=n.body;a.progressGauge=new l.ProgressGauge(a.parentDocument,a.windowSvc,50,50,20,"Click to interact with Checklist"),t.appendChild(a.progressGauge.getContainer());var i=function(){a.show()};n.addEventListener("click",i),n.defaultView.addEventListener("unload",function(){n.removeEventListener("click",i)});var o=n.createElement("link");o.type="text/css",o.rel="stylesheet",o.href="https://fonts.googleapis.com/css?family=Open+Sans",n.head.appendChild(o),n.head.appendChild(a.getFrameStyleLink("css/in_frame_independent_launcher.css",function(){a.fontFamilyUrl&&((t=n.createElement("link")).type="text/css",t.href=a.fontFamilyUrl,t.rel="stylesheet",n.head.appendChild(t));var e="",t="";a.fontFamilyRule&&(t+="font-family:"+a.fontFamilyRule+";"),!c&&a.settingsConfig.launcherBackgroundColor&&(t+="background-color:"+a.settingsConfig.launcherBackgroundColor+";"),t&&(e+="body{"+t+"}"),e+=a.getProgressGaugeStyles(),a.settingsConfig.customCss&&(e+=a.settingsConfig.customCss),e&&((t=n.createElement("style")).setAttribute("type","text/css"),t.textContent=e,n.head.appendChild(t)),s()},r))}catch(e){r(e)}},{once:!0}),this.container.appendChild(this.panelLauncher)},a.prototype.addPanelFrame=function(C,w){var E=this;this.panelFrame=this.windowSvc.createElement("iframe"),this.panelFrame.id="cl-launcher-content-frame-"+this.data.id,this.panelFrame.className="cz-invisible cz-independent-frame checklist-panel",this.panelFrame.classList.add(this.getPositionalClassFromConfig(this.settingsConfig.launchIconPosition)),this.panelFrame.addEventListener("load",function(e){var t;try{var n=e.target.contentWindow.document,i=n.body;i.classList.add("checklist");var o=new A.JourneyChecklistWidget(n,E.windowSvc,E.appSvc,E.checklistSvc,E.handleWidgetUpdate);o.setData(E.data),o.build(),E.widgets=[o],E.contentContainer=n.createElement("section");var s=n.createElement("p"),r=n.createElement("i"),a=E.settingsConfig.launchIconPosition;E.contentContainer.classList.add("content-container"),a===T.LaunchIconPosition.TopLeft||a===T.LaunchIconPosition.TopRight||a===T.LaunchIconPosition.TopCenter?E.contentContainer.style.marginBottom="auto":E.contentContainer.style.marginTop="auto",s.classList.add("close-btn-container"),s.appendChild(r),r.classList.add("close-btn"),r.title="Click to hide the Checklist.",r.innerHTML="&times",r.addEventListener("click",E.hide),E.contentContainer.appendChild(s),E.contentContainer.appendChild(o.getContainer());var c,l,u,h,d="http://www.w3.org/2000/svg",p=n.createElementNS(d,"svg"),f=n.createElementNS(d,"polyline"),m=E.getSvgAttributesFromConfigPosition();p.setAttributeNS(null,"class","arrow "+m.className),p.setAttributeNS(null,"width",m.width),p.setAttributeNS(null,"height",m.height),f.setAttributeNS(null,"points",m.points),f.setAttributeNS(null,"style","fill:#fff;stroke:gray;stroke-width:1"),null!==(t=E.settingsConfig)&&void 0!==t&&t.backgroundColor&&(f.style.fill=E.settingsConfig.backgroundColor,E.contentContainer.style.backgroundColor=E.settingsConfig.backgroundColor),p.appendChild(f),m.appendFirst?(i.appendChild(p),i.appendChild(E.contentContainer)):(i.appendChild(E.contentContainer),i.appendChild(p)),E.svgArrow=p,m.isParentFlexColumn&&i.classList.add("flex-column"),E.progressGauge&&(l=(c=o.getItemCounts()).total,u=c.completed,h=0<l?Math.floor(u/l*100):0,E.progressGauge.update(h)),E.panelFrameBody=i;var g,v=n.createElement("link");v.type="text/css",v.rel="stylesheet",v.href="https://fonts.googleapis.com/css?family=Open+Sans",n.head.appendChild(v),n.head.appendChild(E.getFrameStyleLink("css/in_frame_checklist_panel.css",C,w)),E.fontFamilyUrl&&((g=n.createElement("link")).type="text/css",g.href=E.fontFamilyUrl,g.rel="stylesheet",n.head.appendChild(g));var y="";E.fontFamilyRule&&(y+="body{font-family:"+E.fontFamilyRule+";}");var S,b=E.checklistSvc.mapChecklistBrandingToProperFormat(E.settingsConfig);y+=E.checklistSvc.buildStyleRulesFromCheckListStyleBranding(b),y+=E.getProgressGaugeStyles(),E.settingsConfig.customCss&&(y+=E.settingsConfig.customCss),y.length&&((S=n.createElement("style")).setAttribute("type","text/css"),S.textContent=y,n.head.appendChild(S))}catch(e){w(e)}},{once:!0}),this.container.appendChild(this.panelFrame)},a.prototype.show=function(){if(this.panelFrame){this.panelFrame.addEventListener("transitionend",function(){},{once:!0}),this.panelFrame.classList.add("in");for(var e=this.onShowListeners.length,t=0;t<e;t++)this.onShowListeners[t](this.getId())}},a.prototype.hide=function(){this.panelFrame.classList.remove("in")},a.prototype.showPanelToggle=function(){},a.prototype.hidePanelToggle=function(){},a.prototype.onDigest=function(){},a.prototype.onHalt=function(){for(var e,t=(null===(e=this.widgets)||void 0===e?void 0:e.length)||0,n=0;n<t;n++)this.widgets[n].onHalt();null!==(e=null===(e=this.panelLauncher)||void 0===e?void 0:e.parentElement)&&void 0!==e&&e.removeChild(this.panelLauncher),null!==(e=null===(e=this.panelFrame)||void 0===e?void 0:e.parentElement)&&void 0!==e&&e.removeChild(this.panelFrame),this.panelLauncher=null,this.panelFrameBody=null,this.panelFrame=null,this.contentContainer=null,this.svgArrow=null,this.onShowListeners=[]},a.prototype.getId=function(){var e;return(null===(e=this.data)||void 0===e?void 0:e.id)||0},a.prototype.calculateFramePositions=function(){var e=this;this.areFramePositionsCalculating||(this.areFramePositionsCalculating=!0,this.setLauncherBoundingRectangle(),this.updatePanelFrameHeight(),this.setPanelBoundingRect(),this.setPanelFramePosition(),this.windowSvc.window.setTimeout(function(){e.areFramePositionsCalculating=!1},400))},a.prototype.registerShowListener=function(e){this.onShowListeners.push(e)},a.prototype.updateMetaData=function(e){var t;this.metaData=o({},e),this.panelLauncher&&(e=(t=this.metaData||r).domOrder,t=t.isLastChild,"number"==typeof e&&this.panelLauncher.style.setProperty("order",e.toString(),"important"),!0===t?this.panelLauncher.classList.add("last"):this.panelLauncher.classList.remove("last"),this.windowSvc.window.setTimeout(this.calculateFramePositions,0))},a.prototype.getSvgAttributesFromConfigPosition=function(){switch(this.settingsConfig.launchIconPosition){case T.LaunchIconPosition.TopCenter:return{isParentFlexColumn:!0,appendFirst:!0,width:"30",height:"15",points:"0 15, 15 0, 30 15",className:"arrow-top-center"};case T.LaunchIconPosition.BottomCenter:return{isParentFlexColumn:!0,width:"30",height:"15",points:"0 0, 15 15, 30 0",className:"arrow-bottom-center"};case T.LaunchIconPosition.TopLeft:return{appendFirst:!0,width:"15",height:"30",points:"15 0, 0 15, 15 30",className:"arrow-top-left"};case T.LaunchIconPosition.LeftCenter:return{appendFirst:!0,width:"15",height:"30",points:"15 0, 0 15, 15 30",className:"arrow-left-center"};case T.LaunchIconPosition.BottomLeft:return{appendFirst:!0,width:"15",height:"30",points:"15 0, 0 15, 15 30",className:"arrow-bottom-left"};case T.LaunchIconPosition.TopRight:return{width:"15",height:"30",points:"0 0, 15 15, 0 30",className:"arrow-top-right"};case T.LaunchIconPosition.RightCenter:return{width:"15",height:"30",points:"0 0, 15 15, 0 30",className:"arrow-right-center"};case T.LaunchIconPosition.BottomRight:return{width:"15",height:"30",points:"0 0, 15 15, 0 30",className:"arrow-bottom-right"}}},a.prototype.getFrameStyleLink=function(e,t,n){var i=this.windowSvc.createElement("link");return i.onload=function(){t()},i.onerror=function(e){n(e)},i.type="text/css",i.rel="stylesheet",i.href=this.appSvc.addCdn(e),i},a.prototype.getProgressGaugeStyles=function(){var e="",t=this.settingsConfig,n=t.progressBackgroundColor,i=t.progressRemainingColor,o=t.progressCompleteColor,s=t.progressTextColor,t="";return n&&(t+="fill:"+n+";"),i&&(t+="stroke:"+i+";"),t&&(e+=".cz-progress-gauge .gauge-base{"+t+"}"),o&&(e+=".cz-progress-gauge .gauge-progress{stroke:"+o+";}"),s&&(e+=".cz-progress-gauge .gauge-text{stroke:"+s+";}"),e},a.prototype.updatePanelFrameHeight=function(){var e,t,n;this.panelFrame&&this.panelFrameBody&&0!==this.widgets.length&&(e=this.panelFrameBody.offsetHeight,t=this.widgets[0],n=parseInt(this.panelFrame.style.height),this.initialFrameHeightSet||(t.isCompleteBannerVisible()||(e+=55),null!==(t=null===(t=this.panelFrame.contentDocument.querySelector("html"))||void 0===t?void 0:t.classList)&&void 0!==t&&t.add("full-height"),this.initialFrameHeightSet=!0),this.panelFrame.style.height=Math.max(n||0,e)+"px")},a.prototype.setPanelBoundingRect=function(){this.panelFrame&&(this.panelBoundingRect=this.panelFrame.getBoundingClientRect())},a.prototype.setPanelFramePosition=function(){if(this.panelFrame&&this.panelBoundingRect){var e=0,t=0,n=0,i=0;switch(this.svgArrow&&(this.svgComputedStyle||(this.svgComputedStyle=this.windowSvc.window.getComputedStyle(this.svgArrow)),e=parseInt(this.svgComputedStyle.height),t=parseInt(this.svgComputedStyle.marginTop)+parseInt(this.svgComputedStyle.marginBottom)),this.settingsConfig.launchIconPosition){case T.LaunchIconPosition.TopLeft:n=this.launcherBoundingRect.top+this.launcherBoundingRect.height/2-e/2-t,i=this.launcherBoundingRect.left+this.launcherBoundingRect.width;break;case T.LaunchIconPosition.LeftCenter:n=this.launcherBoundingRect.top+this.launcherBoundingRect.height/2-this.panelBoundingRect.height/2,i=this.launcherBoundingRect.left+this.launcherBoundingRect.width;break;case T.LaunchIconPosition.BottomLeft:n=this.launcherBoundingRect.top-this.panelBoundingRect.height+this.launcherBoundingRect.height/2+e/2+t,i=this.launcherBoundingRect.left+this.launcherBoundingRect.width;break;case T.LaunchIconPosition.TopRight:n=this.launcherBoundingRect.top+this.launcherBoundingRect.height/2-e/2-t,i=this.launcherBoundingRect.left-this.panelBoundingRect.width;break;case T.LaunchIconPosition.RightCenter:n=this.launcherBoundingRect.top+this.launcherBoundingRect.height/2-this.panelBoundingRect.height/2,i=this.launcherBoundingRect.left-this.panelBoundingRect.width;break;case T.LaunchIconPosition.BottomRight:n=this.launcherBoundingRect.top-this.panelBoundingRect.height+this.launcherBoundingRect.height/2+e/2+t,i=this.launcherBoundingRect.left-this.panelBoundingRect.width;break;case T.LaunchIconPosition.BottomCenter:n=this.launcherBoundingRect.top-this.panelBoundingRect.height,i=this.launcherBoundingRect.left+this.launcherBoundingRect.width/2-this.panelBoundingRect.width/2;break;case T.LaunchIconPosition.TopCenter:n=this.launcherBoundingRect.top+this.launcherBoundingRect.height,i=this.launcherBoundingRect.left+this.launcherBoundingRect.width/2-this.panelBoundingRect.width/2}this.panelFrame.style.top=n+"px",this.panelFrame.style.left=i+"px"}},a.prototype.handleWidgetUpdate=function(e){var t,n;this.progressGauge&&(t=e.percentComplete,n=e.title,null!==(e=this.data)&&void 0!==e&&e.title&&(n=this.data.title+": "+n),this.progressGauge.update(t,n),this.calculateFramePositions())},a);function a(e,t,n,i,o,s,r,a,c,l,u,h){l=d.call(this,s.document,i,o,s,r,a,c,l)||this;return l.data=e,l.settingsConfig=t,l.container=n,l.checklistSvc=u,l.metaData=h,l.initialFrameHeightSet=!1,l.areFramePositionsCalculating=!1,l.onShowListeners=[],l.haltOnError=!0,l.errorMessagePrefix="Checklist launcher error",l.show=l.show.bind(l),l.hide=l.hide.bind(l),l.handleWidgetUpdate=l.handleWidgetUpdate.bind(l),l.calculateFramePositions=l.calculateFramePositions.bind(l),l.settingsConfig.fontFamilyId&&(l.fontFamilyUrl=l.tenantSvc.buildUIFontFamilyCssRequestUrlFromConfig(l.settingsConfig),l.fontFamilyRule=l.tenantSvc.getUIFontFamilyMappingDisplayValue(l.settingsConfig.fontFamilyId)),l}exports.JourneyChecklistLauncher=n},function(e,exports,t){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CZ_CUSTOM_CSS_TOP_WINDOW_SUFFIX=exports.CZ_CUSTOM_CSS_STYLE_ID_PREFIX=exports.SuccessPanelLauncher=void 0;var T=t(0),s=t(26),r=o(t(1)),a=t(67),c=t(68),h=t(5),l=t(69),u="cz-success-frames-styles",d="cz-custom-css-styles",w="cz-branding-styles",p="top-window";exports.CZ_CUSTOM_CSS_STYLE_ID_PREFIX=d,exports.CZ_CUSTOM_CSS_TOP_WINDOW_SUFFIX=p;var f,n=(f=s.BasePanelDisplay,n(m,f),Object.defineProperty(m.prototype,"topWindow",{get:function(){var e;return(null===(e=this.parentDocument)||void 0===e?void 0:e.defaultView)||null},enumerable:!1,configurable:!0}),m.prototype.onInit=function(){var t=this,n={};n.avatarUrl=this.sessionSvc.LaunchAvatarUrl;var e=this.tenantSvc.accountOwner;e&&(n.userAccountName=e.firstName+" "+e.lastName,n.userAccountTitle=e.title||"",n.userAccountPhone=e.officePhone||"",n.userAccountEmail=e.email||""),n.headerContent=this.sessionSvc.CurrentAccountContent.header,n.footerContent=this.sessionSvc.CurrentAccountContent.footer,this.loadTopStyles(function(){t.addCustomCssToFrame(t.parentDocument,p);var e=t.appSvc.addCdn("template/successPanelContent.html?ak="+encodeURIComponent(t.commSvc.appKey));t.appSvc.templater.compile_template(e,n,function(e){t.buildSuccessCenter(e)})},function(e){r.default.report("SuccessPanelLauncher.loadTopStyles",e),t.onHalt()})},m.prototype.show=function(e){var t=this;try{this.openBasePanel(e,function(){t.panelBody.scrollTop=0})}catch(e){r.default.report("SuccessPanelLauncher.show",e)}},m.prototype.hide=function(){try{this.closeBasePanel()}catch(e){r.default.report("SuccessPanelLauncher.hide",e)}},m.prototype.hidePanelToggle=function(){var e;null!==(e=null===(e=this.launcherFrame)||void 0===e?void 0:e.classList)&&void 0!==e&&e.add("cz-hidden")},m.prototype.showPanelToggle=function(){var e;this.sessionSvc.IsDevlessPanelOpen||null!==(e=null===(e=this.launcherFrame)||void 0===e?void 0:e.classList)&&void 0!==e&&e.remove("cz-hidden")},m.prototype.setLauncherBoundingRectangle=function(){this.launcherFrame&&(this.launcherBoundingRect=this.launcherFrame.getBoundingClientRect())},m.prototype.loadTopStyles=function(e,n){var t=this.windowSvc.createElement("link");t.addEventListener("load",function(){e()}),t.addEventListener("error",function(e){var t="";if(e){if(T.CoreUtils.hasOwnProp(e,"error")&&e.error)return void n(e.error);"string"==typeof e?t=e:T.CoreUtils.hasOwnProp(e,"message")&&(t=e.message)}n(new Error(t||"success_center_frames.css failed to load."))}),t.id=u,t.type="text/css",t.rel="stylesheet",t.href=this.appSvc.addCdn("css/success_center_frames.css"),this.parentDocument.head.appendChild(t)},m.prototype.buildSuccessCenter=function(t){var n=this;try{this.successCenterContainer=this.windowSvc.createElement("div"),this.successCenterContainer.id="cz_success_center_container",this.successCenterContainer.classList.add("cz-hidden");var e=this.parentDocument.querySelector("body");if(!e)return void this.appSvc.debug("No body element found to add success panel. Exiting early.");if(!this.topWindow)return void this.appSvc.debug("No top window found when adding success center. Exiting early.");e.appendChild(this.successCenterContainer),this.addSuccessCenterLauncherFrame(function(e){e?n.handleFrameLoadError(e,"addSuccessCenterLauncherFrame load"):n.addSuccessCenterAlertFlyoutFrame(function(e){e?n.handleFrameLoadError(e,"addSuccessCenterAlertFlyoutFrame load"):n.addSuccessCenterFrame(t,n.onAfterSuccessCenterFrameLoad)})})}catch(e){this.handleFrameLoadError(e,"buildSuccessCenter catch")}},m.prototype.addSuccessCenterLauncherFrame=function(s){var r=this,a='\n        <section id="cz-success-center-launch-wrapper">\n            <div class="cz-unread-badge" style="display:none;"></div>\n            <div class="cz-success-center-launch-avatar-img img-circle"\n                style="background-image: url(\''+this.sessionSvc.LaunchAvatarUrl+"');\"></div>\n        </section>";this.launcherFrame=this.windowSvc.createElement("iframe"),this.launcherFrame.id="cz_success_center_launcher_frame",this.launcherFrame.classList.add("cz-hidden"),this.launcherFrame.addEventListener("load",function(e){var t;try{var n=e.target.contentWindow.document,i=n.body,o=n.createElement("link");o.id="cz-launcher-styles",o.type="text/css",o.rel="stylesheet",o.href=r.appSvc.addCdn("css/in_frame_success_center_launcher.css"),n.head.appendChild(o),r.addCustomCssToFrame(n,"launcher"),i.className="cz-launch-panel-body",i.innerHTML=a,r.launcherUnreadBadge=n.querySelector(".cz-unread-badge"),n.addEventListener("click",function(){r.show()})}catch(e){t=e}s(t)},{once:!0}),this.successCenterContainer.appendChild(this.launcherFrame)},m.prototype.addSuccessCenterAlertFlyoutFrame=function(c){var l=this;this.alertFlyoutFrame=this.windowSvc.createElement("iframe"),this.alertFlyoutFrame.id="cz_success_center_alert_flyout_frame",this.alertFlyoutFrame.classList.add("cz-hidden"),this.alertFlyoutFrame.addEventListener("load",function(e){var t;try{var n,i,o=e.target.contentWindow.document,s=o.body,r=o.createElement("link"),a=o.createElement("link");r.rel="stylesheet",r.type="text/css",r.href=l.appSvc.addCdn("css/in_frame_success_center_alert_flyout.css"),a.type="text/css",a.rel="stylesheet",a.href="https://fonts.googleapis.com/css?family=Open+Sans",o.head.appendChild(r),o.head.appendChild(a),l.addCustomCssToFrame(o,"flyout"),s.innerHTML='\n        <div class="cz-alert-message-body">\n            <p class="cz-alert-message-text">Click here to see that info again!</p>\n        </div>',l.seeMoreMessage=o.querySelector(".cz-alert-message-body"),l.isCustomAvatarPositioningEnabled?(i=!(-1<(n=l.getPositionalClassFromConfig(l.sessionSvc.LaunchIconPositionId)).indexOf("top-center")||-1<n.indexOf("bottom-center"))&&-1<n.indexOf("right")?"right":"left",s.classList.add("pos-"+i),l.seeMoreMessage.classList.add("alert-message-"+i)):(s.classList.add("pos-"+l.sessionSvc.PanelPosition),l.seeMoreMessage.classList.add("alert-message-"+l.sessionSvc.PanelPosition)),l.seeMoreMessage.classList.add("alert-message-"+l.sessionSvc.AvatarType),l.seeMoreMessage.addEventListener("click",function(){return l.show()})}catch(e){t=e}c(t)},{once:!0}),this.successCenterContainer.appendChild(this.alertFlyoutFrame)},m.prototype.addSuccessCenterFrame=function(C,w){var E=this;this.contentFrame=this.windowSvc.createElement("iframe"),this.contentFrame.id="cz_success_center_frame",this.contentFrame.classList.add("collapsed"),this.contentFrame.addEventListener("load",function(e){var t;try{var n=e.target.contentWindow.document,i=n.body,o=n.createElement("link"),s=n.createElement("link");o.id="cz-styles",o.type="text/css",o.rel="stylesheet",o.href=E.appSvc.addCdn("css/in_frame_success_center.css"),s.type="text/css",s.rel="stylesheet",s.href="https://fonts.googleapis.com/css?family=Open+Sans",n.head.appendChild(o),n.head.appendChild(s),E.addCustomCssToFrame(n,"sc"),i.innerHTML=C,E.contentFrameCloseButton=n.querySelector(".cz-close"),E.contentFrameCloseButton&&E.contentFrameCloseButton.addEventListener("click",E.hide),E.devlessWrench=n.querySelector(".cz-admin"),E.panelBody=n.querySelector(".cz-sidebar-panel"),E.panelHeader=n.getElementById("cz-success-center-header"),E.panelFooter=n.querySelector(".cz-footer"),E.sessionSvc.DevlessPanelEnabled?(E.devlessWrench.addEventListener("click",E.showDevlessPanel),E.subIds.DevlessHideSubId=E.appSvc.pubsub.subscribe(T.DevlessEvents.DevlessHide,function(){E.devlessWrench&&E.devlessWrench.classList.remove("hidden")}),E.sessionSvc.IsDevlessPanelOpen||E.devlessWrench&&E.devlessWrench.classList.remove("hidden")):E.sessionSvc.IsDevlessPanelOpen=!1,E.populateWidgets(n);var r=n.getElementById("cz-header"),a=E.sessionSvc,c=a.ShowAccountOwner,l=a.CurrentAccountContent,u=l.header,h=l.footer;r&&!u&&(r.style.display="none");var d=E.windowSvc.createElement("div");if((c||u)&&i.classList.add("has-header-content"),u&&(d.innerHTML=E.sessionSvc.CurrentAccountContent.header),h&&(d.innerHTML+=E.sessionSvc.CurrentAccountContent.footer),d.innerHTML){for(var p=[],f=d.querySelectorAll("[style]"),m=f.length,g=0;g<m;g++){var v,y=f[g];y.style.fontFamily&&((v=E.tenantSvc.getUIFontFamilyMappingId(y.style.fontFamily))&&-1===p.indexOf(v)&&p.push(v))}var S,b=E.tenantSvc.buildUIFontFamilyCssRequestUrl(p);b&&((S=n.createElement("link")).id="cz-additional-panel-fonts",S.rel="stylesheet",S.href=b,n.head.appendChild(S))}d=null}catch(e){t=e}w(t)},{once:!0}),this.successCenterContainer.appendChild(this.contentFrame)},m.prototype.addCustomCssToFrame=function(e,t){var n;null!==(n=this.sessionSvc.CurrentAccountContent)&&void 0!==n&&n.css&&((n=e.createElement("style")).id=d+"-"+t,n.textContent=this.sessionSvc.CurrentAccountContent.css,e.head.appendChild(n))},m.prototype.onAfterSuccessCenterFrameLoad=function(e){var t,n,i=this;e?this.handleFrameLoadError(e,"addSuccessCenterFrame load"):(this.applyBranding(),t=this.launcherFrame.contentDocument.body,n="pos-"+this.sessionSvc.PanelPosition,this.isCustomAvatarPositioningEnabled?(e=this.getPositionalClassFromConfig(this.sessionSvc.LaunchIconPositionId),this.launcherFrame.classList.add("cz-independent-frame-container"),this.launcherFrame.classList.add("cz-independent-frame"),this.launcherFrame.classList.add(e),this.launcherFrame.classList.add("launcher"),this.launcherFrame.classList.add("in"),this.alertFlyoutFrame.classList.add(e),"tabbed"===this.sessionSvc.AvatarType?(this.launcherFrame.classList.add("tabbed"),this.launcherFrame.classList.add("tabbed-avatar"),t.classList.add("tabbed"),this.alertFlyoutFrame.classList.add("tabbed-avatar")):t.classList.add("float")):(this.alertFlyoutFrame.classList.add(n),t.classList.add(n),this.contentFrame.classList.add(n),"tabbed"===this.sessionSvc.AvatarType?(this.launcherFrame.classList.add("tabbed-avatar"),this.launcherFrame.classList.add(this.tabbedAvatarPosition+"-tab"),this.launcherFrame.classList.add(this.sessionSvc.PanelPosition+"-tab"),t.classList.add("tabbed"),this.alertFlyoutFrame.classList.add("tabbed")):(this.launcherFrame.classList.add("floating-avatar-"+this.sessionSvc.PanelPosition),t.classList.add("floating"),this.alertFlyoutFrame.classList.add("floating"))),this.contentFrame.classList.add(n),this.successCenterContainer.classList.remove("cz-hidden"),this.subIds.digestSubId=this.appSvc.pubsub.subscribe(T.ChurnZeroAppEvents.DIGEST,this.onDigest),this.subIds.haltSubId=this.appSvc.pubsub.subscribe(T.ChurnZeroAppEvents.HALT,this.onHalt),this.windowSvc.window.setTimeout(function(){try{var e;(i.basePanelVisible||i.openOnStart)&&i.show(!0),i.appSvc.pubsub.publish(T.ChurnZeroAppEvents.PanelReady),i.contentFrame&&((e=i.parentDocument.createEvent("Event")).initEvent("czsuccesscenterloadcomplete",!0,!0),i.contentFrame.dispatchEvent(e))}catch(e){r.default.report("SuccessPanelLauncher.onAfterSuccessCenterFrameLoad timeout fn",e)}},500))},m.prototype.handleFrameLoadError=function(e,t){this.onHalt();var n="Success Center frame load error";t&&(n+=": "+t),r.default.report(n,e)},m.prototype.populateWidgets=function(e){var t,n,i=this,o=new a.AccountRepWidget(this.sessionSvc,this.tenantSvc,e);this.panelWidgets.push(o);var s=e.getElementById("cz-account-rep-pane");s&&null!==(t=s.parentElement)&&void 0!==t&&t.removeChild(s),null!==(t=this.panelHeader)&&void 0!==t&&t.appendChild(o.getContainer()),this.tenantSvc.FeatureEnabled(h.ReleaseGates.JourneyChecklistReleased)&&(r=new l.JourneyChecklistCollectionWidget(e,this.sessionSvc,this.checklistSvc,this.windowSvc,this.commSvc,this.appSvc,this.tenantSvc),this.panelWidgets.push(r),null!==(o=this.panelBody)&&void 0!==o&&o.insertBefore(r.getContainer(),this.panelBody.firstChild));var r=new c.AnnouncementsWidget(e,this.messageSvc,this.sessionSvc,this.appSvc,this.windowSvc,this.templateCache);this.panelWidgets.push(r),(s=e.getElementById("cz-announcements"))&&null!==(n=s.parentElement)&&void 0!==n&&n.removeChild(s),null!==(s=this.panelBody)&&void 0!==s&&s.insertBefore(r.getContainer(),this.panelFooter),this.subIds.announcementListenerId=this.appSvc.pubsub.subscribe(T.ChurnZeroAppEvents.AnnouncementClosed,function(e){i.showMessageBubble(e.info.infoMessage)}),this.subIds.announcementAddedToPanelListenerId=this.appSvc.pubsub.subscribe(c.AnnouncementsWidget.AnnouncementAddedToPanelEvent,function(){i.panelBody.scrollTop=0}),this.subIds.unreadAnnouncementCountChangeEventListenerId=this.appSvc.pubsub.subscribe(c.AnnouncementsWidget.UnreadAnnouncementCountChangeEvent,function(e){e=e.info.count;0<e?(i.launcherUnreadBadge.textContent=9<e?"9+":e.toString(),i.launcherUnreadBadge.style.removeProperty("display")):i.launcherUnreadBadge.style.display="none"})},m.prototype.applyBranding=function(){var e=null===(t=null===(f=this.sessionSvc)||void 0===f?void 0:f.CurrentAccountContent)||void 0===t?void 0:t.branding;if(e){var t,n="",i="",o="",s="",r=e.avatar,a=e.moreInfo,c=e.panel,l=e.checklist,u=function(e,t){return e+" { "+t.join(" ")+" }"},h=["fontFamilyId"],d=function(e,t){return"fontSize"!==e?t[e]:t[e]+"px"},p=function(e){var t,n=[];for(t in e)T.CoreUtils.hasOwnProp(e,t)&&0<(e[t]||"").toString().trim().length&&-1===h.indexOf(t)&&n.push(T.StyleUtils.camelCaseToDash(t)+":"+d(t,e)+" !important;");return n},f=function(e,t,n){e&&n&&t&&(e[t]=e[t]||n[t])};r&&(t=r.glowColor,r=r.tabBackgroundColor,(t||"").trim().length&&(t="@keyframes czGlowCustom { 20% { box-shadow: 0 0 10px "+e.avatar.glowColor+" ; }} ",i+=t+=".cz-success-center-launch-avatar-img {animation-name: czGlowCustom !important;}"),(r||"").trim().length&&(n+=u("#cz_success_center_launcher_frame.tabbed-avatar",p({backgroundColor:r=e.avatar.tabBackgroundColor,borderColor:r})))),a&&(b=(a=e.moreInfo).backgroundColor,a=a.color,(b||"").trim().length&&(o+=u(".cz-alert-message-body",p({backgroundColor:b,borderColor:b}))),(a||"").trim().length&&(o+=u(".cz-alert-message-body",p({color:a})))),c&&(S=c.zIndex,b=c.backgroundColor,S&&(n+=u("#cz_success_center_container, #cz_success_center_container #cz_success_center_launcher_frame, #cz_success_center_container #cz_success_center_alert_flyout_frame, #cz_success_center_container #cz_success_center_frame",p({zIndex:S}))),b&&(e.header=e.header||{},f(e.header,"backgroundColor",c),e.accountRepPane=e.accountRepPane||{},f(e.accountRepPane,"backgroundColor",c),e.announcements=e.announcements||{},f(e.announcements,"backgroundColor",c),e.footer=e.footer||{},f(e.footer,"backgroundColor",c)),c.fontFamilyId&&(c.fontFamily=this.tenantSvc.getUIFontFamilyMappingDisplayValue(c.fontFamilyId))),l&&(C=this.checklistSvc.mapChecklistBrandingToProperFormat(l),s+=this.checklistSvc.buildStyleRulesFromCheckListStyleBranding(C));var m,g,v={panel:"div#cz-success-center-panel",closeIcon:"#cz-success-center-panel .cz-widget-controls span",header:"#cz-header",accountRepPane:"#cz-account-rep-pane",accountRepPaneName:"#cz-account-rep-pane .cz-user-account-name",accountRepPaneDetails:"#cz-account-rep-pane .cz-user-account-name small, #cz-account-rep-pane .cz-message-preview",announcements:"#cz-announcements .cz-announcement",announcementLinks:"#cz-announcements .cz-announcement a, #cz_popover_content .cz-announcement a, .cz-slide-announcement .cz-announcement a",announcementLinksHover:"#cz-announcements .cz-announcement a:hover, #cz_popover_content .cz-announcement a:hover, .cz-slide-announcement .cz-announcement a:hover",footer:"#cz-success-center-panel .cz-footer",footerLinks:"#cz-success-center-panel .cz-footer a",footerLinksHover:"#cz-success-center-panel .cz-footer a:hover",moreInfo:"#cz-success-center-launch-wrapper .cz-alert-message-body"};for(m in v)T.CoreUtils.hasOwnProp(v,m)&&T.CoreUtils.hasOwnProp(e,m)&&(g=p(e[m]),s+=u(v[m],g));var y,S=this.contentFrame.contentDocument.createElement("style"),b=this.contentFrame.contentDocument.head,f=this.launcherFrame.contentDocument.createElement("style"),c=this.launcherFrame.contentDocument.head,l=this.alertFlyoutFrame.contentDocument.createElement("style"),C=this.alertFlyoutFrame.contentDocument.head;S.textContent=s,f.textContent=i,l.textContent=o,s.length&&b.appendChild(S),i.length&&c.appendChild(f),o.length&&C.appendChild(l),n.length&&((y=this.windowSvc.createElement("style")).textContent=n,y.id=w,this.parentDocument.head.appendChild(y)),null==e||!e.panel||(n=this.tenantSvc.buildUIFontFamilyCssRequestUrlFromConfig(e.panel))&&((y=this.contentFrame.contentDocument.createElement("link")).id="cz-panel-branding-font-family",y.href=n,y.rel="stylesheet",null!=b&&b.appendChild(y))}},m.prototype.showMessageBubble=function(e){var t;this.basePanelVisible||(t=this.appSvc.templater.populateTemplate(this.templateCache.messageBubbleTemplate,{},!0),(t=T.CoreUtils.createElementFromHTML(this.windowSvc.document,t)).textContent=e,this.seeMoreMessage.innerHTML="",this.seeMoreMessage.appendChild(t),this.isCustomAvatarPositioningEnabled&&(this.alertFlyoutFrame.style.visibility="hidden"),this.alertFlyoutFrame.classList.remove("cz-hidden"),this.panelToggleContent.css("display",""))},m.prototype.showDevlessPanel=function(){try{this.appSvc.pubsub.publish(T.DevlessEvents.DevlessShow,!0),this.devlessWrench&&this.devlessWrench.classList.add("hidden")}catch(e){r.default.report("SuccessPanelLauncher.showDevlessPanelEvent",e)}},m.prototype.onBeforeHalt=function(){var e;this.hide();for(var t=null===(e=this.panelWidgets)||void 0===e?void 0:e.length,n=0;n<t;n++)this.panelWidgets[n].onHalt();this.removeAllInjectedHtml()},m.prototype.removeAllInjectedHtml=function(){try{this.launcherUnreadBadge=null,this.launcherFrame=null,this.seeMoreMessage=null,this.alertFlyoutFrame=null,this.contentFrameCloseButton=null,this.devlessWrench=null,this.panelBody=null,this.panelHeader=null,this.panelFooter=null,this.contentFrame=null,this.successCenterContainer&&this.successCenterContainer.parentNode&&this.successCenterContainer.parentNode.removeChild(this.successCenterContainer),this.successCenterContainer=null;var e=this.parentDocument.getElementById(u),t=this.parentDocument.getElementById(w),n=this.parentDocument.getElementById(d+"-"+p);e&&this.parentDocument.head.removeChild(e),t&&this.parentDocument.head.removeChild(t),n&&this.parentDocument.head.removeChild(n)}catch(e){}},m.prototype.openBasePanel=function(e,t){this.basePanelVisible&&!e||(this.hidePanelToggle(),this.contentFrame.addEventListener("transitionend",function(){"function"==typeof t&&t()},{once:!0}),this.contentFrame.classList.remove("collapsed"),this.alertFlyoutFrame.classList.add("cz-hidden"),this.basePanelVisible=!0,this.appSvc.pubsub.publish(T.ChurnZeroAppEvents.PanelShow))},m.prototype.closeBasePanel=function(e){this.basePanelVisible&&this.contentFrame&&(this.showPanelToggle(),this.contentFrame.addEventListener("transitionend",function(){"function"==typeof e&&e()},{once:!0}),this.contentFrame.classList.add("collapsed"),this.basePanelVisible=!1,this.appSvc.pubsub.publish(T.ChurnZeroAppEvents.PanelHide))},m.prototype.isLauncherHidden=function(){return this.launcherFrame.classList.contains("cz-hidden")},m.prototype.onDigest=function(){for(var e=null===(n=this.panelWidgets)||void 0===n?void 0:n.length,t=0;t<e;t++)this.panelWidgets[t].onDigest(this.basePanelVisible);var n=0===this.messageSvc.Announcements.filter(this.messageSvc.isPanelAnnouncement).length;this.launcherFrame&&(n&&this.sessionSvc.OnlyShowWhenMessagesExist&&!this.sessionSvc.DevlessPanelEnabled||this.basePanelVisible?this.hidePanelToggle():(this.showPanelToggle(),T.CoreUtils.isNullOrUndefined(this.launcherBoundingRect)&&(this.setLauncherBoundingRectangle(),this.hasLaunchIconOffsets()&&this.isCustomAvatarPositioningEnabled&&this.addLauncherOffsetsFromConfig(),this.appSvc.pubsub.publish(T.ChurnZeroAppEvents.PanelLauncherReady)),this.isCustomAvatarPositioningEnabled&&this.alertFlyoutFrame&&"hidden"===this.alertFlyoutFrame.style.getPropertyValue("visibility")&&(this.hasLaunchIconOffsets()?T.CoreUtils.isNullOrUndefined(this.launcherBoundingRect)||(this.addAlertFlyoutOffsets(),this.alertFlyoutFrame.style.visibility="visible"):this.alertFlyoutFrame.style.visibility="visible")))},m.prototype.onHalt=function(){this.isHalted||(this.onBeforeHalt(),T.PubSuber.removeAll(this.subIds),this.launcherBoundingRect=null,this.isHalted=!0)},m.prototype.addLauncherOffsetsFromConfig=function(){var e="float"===this.sessionSvc.AvatarType,t=this.sessionSvc.LaunchIconPositionOffsetVertical,n=this.sessionSvc.LaunchIconPositionOffsetHorizontal,i=this.launcherBoundingRect,o=(i.left,i.top,-1*t),s=t,r=n,a=-1*n;switch(this.sessionSvc.LaunchIconPositionId){case T.LaunchIconPosition.TopLeft:this.launcherFrame.style.setProperty("top",20+o+"px","important"),this.launcherFrame.style.setProperty("left",r+(e?18:0)+"px","important");break;case T.LaunchIconPosition.TopCenter:this.launcherFrame.style.setProperty("top",o+(e?25:0)+"px","important"),this.launcherFrame.style.setProperty("left","calc(50% + "+r+"px)","important");break;case T.LaunchIconPosition.TopRight:this.launcherFrame.style.setProperty("top",20+o+"px","important"),this.launcherFrame.style.setProperty("right",a+(e?18:0)+"px","important");break;case T.LaunchIconPosition.RightCenter:this.launcherFrame.style.setProperty("top","calc(50% + "+o+"px)","important"),this.launcherFrame.style.setProperty("right",a+(e?18:0)+"px","important");break;case T.LaunchIconPosition.BottomRight:this.launcherFrame.style.setProperty("bottom",s+20+"px","important"),this.launcherFrame.style.setProperty("right",a+(e?18:0)+"px","important");break;case T.LaunchIconPosition.BottomCenter:this.launcherFrame.style.setProperty("bottom",s+(e?25:0)+"px","important"),this.launcherFrame.style.setProperty("left","calc(50% + "+r+"px)","important");break;case T.LaunchIconPosition.BottomLeft:this.launcherFrame.style.setProperty("bottom",s+20+"px","important"),this.launcherFrame.style.setProperty("left",r+(e?18:0)+"px","important");break;case T.LaunchIconPosition.LeftCenter:this.launcherFrame.style.setProperty("top","calc(50% + "+o+"px)","important"),this.launcherFrame.style.setProperty("left",r+(e?18:0)+"px","important")}this.setLauncherBoundingRectangle()},m.prototype.addAlertFlyoutOffsets=function(){var e="float"===this.sessionSvc.AvatarType,t=this.sessionSvc.LaunchIconPositionOffsetVertical,n=this.sessionSvc.LaunchIconPositionOffsetHorizontal,i=this.launcherBoundingRect,o=(i.left,i.top),s=i.right,r=t,a=-1*n;switch(this.sessionSvc.LaunchIconPositionId){case T.LaunchIconPosition.TopLeft:this.alertFlyoutFrame.style.setProperty("top",o+10+"px","important"),this.alertFlyoutFrame.style.setProperty("left",s+(e?-20:-10)+"px","important");break;case T.LaunchIconPosition.TopCenter:this.alertFlyoutFrame.style.setProperty("top",o+(e?10:15)+"px","important"),this.alertFlyoutFrame.style.setProperty("left","calc(50% + "+n+"px)","important");break;case T.LaunchIconPosition.TopRight:this.alertFlyoutFrame.style.setProperty("top",o+10+"px","important"),this.alertFlyoutFrame.style.setProperty("right",40+a+(e?20:10)+"px","important");break;case T.LaunchIconPosition.RightCenter:this.alertFlyoutFrame.style.setProperty("top","calc(50% + "+-1*t+"px)","important"),this.alertFlyoutFrame.style.setProperty("right",40+(e?20:10)+a+"px","important");break;case T.LaunchIconPosition.BottomRight:this.alertFlyoutFrame.style.setProperty("bottom",r+40+"px","important"),this.alertFlyoutFrame.style.setProperty("right",40+(e?20:10)+a+"px","important");break;case T.LaunchIconPosition.BottomCenter:this.alertFlyoutFrame.style.setProperty("bottom",r+(e?35:10)+"px","important"),this.alertFlyoutFrame.style.setProperty("left","calc(50% + "+n+"px)","important");break;case T.LaunchIconPosition.BottomLeft:this.alertFlyoutFrame.style.setProperty("bottom",r+40+"px","important"),this.alertFlyoutFrame.style.setProperty("left",s+(e?-20:-10)+"px","important");break;case T.LaunchIconPosition.LeftCenter:this.alertFlyoutFrame.style.setProperty("top","calc(50% + "+-1*t+"px)","important"),this.alertFlyoutFrame.style.setProperty("left",s+(e?-20:-10)+"px","important")}},m.prototype.hasLaunchIconOffsets=function(){return this.hasConfigOffsets(this.sessionSvc.LaunchIconPositionOffsetVertical,this.sessionSvc.LaunchIconPositionOffsetHorizontal)},m);function m(e,t,n,i,o,s,r,a,c,l,u){a=f.call(this,t,n,i,o,s,r,a)||this;return a.parentDocument=e,a.commSvc=c,a.checklistSvc=l,a.openOnStart=u,a.subIds={},a.isHalted=!1,a.isCustomAvatarPositioningEnabled=!1,a.sessionSvc.PanelEnabled&&(a.sessionSvc.IsSilent||(a.show=a.show.bind(a),a.hide=a.hide.bind(a),a.onDigest=a.onDigest.bind(a),a.onHalt=a.onHalt.bind(a),a.showDevlessPanel=a.showDevlessPanel.bind(a),a.onAfterSuccessCenterFrameLoad=a.onAfterSuccessCenterFrameLoad.bind(a),a.isCustomAvatarPositioningEnabled=a.tenantSvc.FeatureEnabled(h.FeatureFlags.SuccessPanelAvatarPositionEnabled),a.onInit())),a}exports.SuccessPanelLauncher=n},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AccountRepWidget=void 0;var n=(i.prototype.getContainer=function(){return this.accountRepPane},i.prototype.onDigest=function(){},i.prototype.onHalt=function(){},i.prototype.setupAccountRep=function(e){this.accountRepPane=this.buildClassicAccountRepInfoWidget(),this.sessionSvc.ShowAccountOwner?this.accountRepPane.style.removeProperty("display"):this.accountRepPane.style.display="none"},i.prototype.buildClassicAccountRepInfoWidget=function(){var e=this.tenantSvc.accountOwner||{firstName:"",lastName:"",title:"",officePhone:"",email:""},t=this.parentDoc.createElement("div");t.classList.add("cz-header-section"),t.id="cz-account-rep-pane";var n=this.parentDoc.createElement("h5");n.classList.add("cz-user-account-name"),n.innerText=e.firstName+" "+e.lastName;var i=this.parentDoc.createElement("small");i.innerText=e.title,i.style.marginLeft="5px",n.appendChild(i),t.appendChild(n);i=this.parentDoc.createElement("p");i.classList.add("cz-message-preview"),i.innerHTML="phone: "+e.officePhone,i.innerHTML+="<br />",i.innerHTML+="email: "+e.email,t.appendChild(i);var o,n=this.parentDoc.createElement("div"),i=this.parentDoc.createElement("span");return i.classList.add("cz-avatar"),this.sessionSvc.AccountOwnerAvatarUrl?((o=this.parentDoc.createElement("img")).classList.add("cz-avatar-img"),o.src=this.sessionSvc.AccountOwnerAvatarUrl,i.appendChild(o)):e&&((o=this.parentDoc.createElement("span")).innerText=(e.firstName||" ").substring(0,1)+(e.lastName||" ").substring(0,1),o.classList.add("cz-avatar-name"),i.appendChild(o)),n.appendChild(i),t.insertBefore(n,t.firstChild),t},i);function i(e,t,n){this.sessionSvc=e,this.tenantSvc=t,this.parentDoc=n,this.setupAccountRep("classic")}exports.AccountRepWidget=n},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnnouncementsWidget=void 0;var s=t(0),r=t(29),t=(a.prototype.getContainer=function(){return this.announcementsContainer},a.prototype.onDigest=function(e){this.handleMessageDigest(e)},a.prototype.onHalt=function(){var e=this.parentDoc.body,t=this.parentDoc.defaultView;e&&(e.removeEventListener("click",this.clickDelegate),e.removeEventListener("mouseenter",this.mouseEnterDelegate,!0),e.removeEventListener("mouseleave",this.mouseLeaveDelegate,!0)),t&&t.removeEventListener("blur",this.blurDelegate),t&&t.parent&&t.parent.removeEventListener("blur",this.blurDelegate)},a.prototype.build=function(e){this.announcementsContainer=this.buildClassicAnnouncementsWidget(),this.setupAnnouncements({announcements:this.messageSvc.Announcements,showMoreText:this.sessionSvc.CurrentAccountContent.clickToSeeMoreText});var t=this.parentDoc.body,n=this.parentDoc.defaultView,i=n.parent;t.addEventListener("click",this.clickDelegate),t.addEventListener("mouseenter",this.mouseEnterDelegate,!0),t.addEventListener("mouseleave",this.mouseLeaveDelegate,!0),n.addEventListener("blur",this.blurDelegate),i.addEventListener("blur",this.blurDelegate)},a.prototype.setupAnnouncements=function(e){for(var t=e.announcements.length-1;0<=t;t--){var n=e.announcements[t];this.messageSvc.isPanelAnnouncement(n)&&this.addAnnouncementToPanelUi(n)}0===e.announcements.length&&this.displayDefaultAnnouncement()},a.prototype.displayDefaultAnnouncement=function(){var e;this.sessionSvc.CurrentAccountContent.defaultAnnouncement&&(e={messageContent:this.sessionSvc.CurrentAccountContent.defaultAnnouncement,deliveryDate:new Date,isRead:!0},this.addAnnouncementToPanelUi(e),this.isDefaultAnnouncementActive=!0)},a.prototype.addAnnouncementToPanelUi=function(e){this.isDefaultAnnouncementActive&&(this.announcementsContainer.innerHTML="",this.isDefaultAnnouncementActive=!1);var t=this.templateCache.announcementTemplate;this.messageSvc.normalizeMessageData(e);var n=this.messageSvc.getAnnouncementType(e);n!==s.AnnouncementType.Nps&&n!==s.AnnouncementType.CustomSurvey||(t=this.templateCache.announcementNpsTemplatePanel,e.npsUrl=e.messageData.responseUrl,e.npsQuestion=e.messageData.question,e.wide=e.messageData.wide,e.showNewWindow=e.messageData.showNewWindow);t=this.appSvc.templater.populateTemplate(t,e);t&&"function"==typeof this.parentDoc.createElement&&(t=this.appSvc.templater.purge(t),(e=this.parentDoc.createElement("section")).innerHTML=t,this.announcementsContainer.insertBefore(e,this.announcementsContainer.firstChild)),this.appSvc.pubsub.publish(a.AnnouncementAddedToPanelEvent)},a.prototype.handleMessageDigest=function(e){for(var t=0,n=0;n<this.messageSvc.Announcements.length;n++){var i,o,s=this.messageSvc.Announcements[n];s&&(i="#cz-sidebar-note-"+s.sequence,o=this.windowSvc.czq(i,this.announcementsContainer),s.announcementIncludeInPanel&&(0===o.length&&(this.addAnnouncementToPanelUi(s),o=this.windowSvc.czq(i,this.announcementsContainer)),e?s.isRead||this.windowSvc.isVisible(o,!0)&&this.messageSvc.SendReadReceipt(s.id):s.isRead||t++),s.expiryDate&&new this.windowSvc.Date>new this.windowSvc.Date(s.expiryDate)&&(o.remove(),this.messageSvc.Announcements[n]=void 0))}t!==this.previousUnreadCount&&this.appSvc.pubsub.publish(a.UnreadAnnouncementCountChangeEvent,{count:t}),this.previousUnreadCount=t,this.messageSvc.SanitizeAnnouncements(),0!==this.messageSvc.Announcements.filter(this.messageSvc.isPanelAnnouncement).length||this.isDefaultAnnouncementActive||this.displayDefaultAnnouncement()},a.prototype.clickDelegate=function(e){e=e.target;this.tryHandleNpsClick(e)||this.tryHandleAnchorClick(e)},a.prototype.tryHandleNpsClick=function(e){var t=s.CoreUtils.closest(e,".cz-nps-click");if(!t)return!1;var n=t.getAttribute("data-nps-url"),i="true"===t.getAttribute("data-wide"),o="true"===(t.getAttribute("data-show-new-window")||"").toLowerCase(),t=s.CoreUtils.closest(e,".cz-announcement"),e=t&&"false"!==t.getAttribute("data-info-message"),t=this.messageSvc.GetAnnouncementFromAnnouncementHtml(t),t={code:s.InterfaceCommCodes.NpsAnnouncementLinkClicked,url:n,wide:i,showNewWindow:o,showMessageBubble:e,id:t.id},t=s.iFrameUtils.buildTransportMessage(s.TransportCodes.InterfaceComm,t);return r.FrameCommUtil.postEncryptedMessage(this.parentDoc.defaultView.top,t,"*"),!0},a.prototype.tryHandleAnchorClick=function(e){e=s.CoreUtils.closest(e,".cz-click-audit a");if(!e)return!1;e=s.CoreUtils.closest(e,".cz-click-audit");if(!e)return!1;e=e.getAttribute("data-message-id"),e={code:s.InterfaceCommCodes.AnnouncementClickAudit,id:e},e=s.iFrameUtils.buildTransportMessage(s.TransportCodes.InterfaceComm,e);return r.FrameCommUtil.postEncryptedMessage(this.parentDoc.defaultView.top,e,"*"),!0},a.prototype.mouseEnterDelegate=function(e){e=e.target;"iframe"!==e.tagName.toLowerCase()||!e.parentElement.classList.contains("fr-video")||(e=s.CoreUtils.closest(e,".cz-click-audit"))&&(e=parseInt(e.getAttribute("data-message-id"),10),this.hoveredVideoAnnouncementId=e||0)},a.prototype.mouseLeaveDelegate=function(e){e=e.target;"iframe"===e.tagName.toLowerCase()&&e.parentElement.classList.contains("fr-video")&&s.CoreUtils.closest(e,".cz-click-audit")&&(this.hoveredVideoAnnouncementId=0)},a.prototype.blurDelegate=function(e){e=e.target;!this.hoveredVideoAnnouncementId||e!==this.parentDoc.defaultView.top&&e!==this.parentDoc.defaultView||(e={code:s.InterfaceCommCodes.AnnouncementClickAudit,id:this.hoveredVideoAnnouncementId},e=s.iFrameUtils.buildTransportMessage(s.TransportCodes.InterfaceComm,e),r.FrameCommUtil.postEncryptedMessage(this.parentDoc.defaultView.top,e,"*"))},a.prototype.buildClassicAnnouncementsWidget=function(){var e=this.parentDoc.createElement("article");return e.id="cz-announcements",e},a.AnnouncementAddedToPanelEvent="cz.announcementswidget.announcementaddedtopanel",a.UnreadAnnouncementCountChangeEvent="cz.announcementswidget.unreadannouncementcountchange",a);function a(e,t,n,i,o,s){this.parentDoc=e,this.messageSvc=t,this.sessionSvc=n,this.appSvc=i,this.windowSvc=o,this.templateCache=s,this.previousUnreadCount=0,this.isDefaultAnnouncementActive=!1,this.hoveredVideoAnnouncementId=0,this.clickDelegate=this.clickDelegate.bind(this),this.mouseEnterDelegate=this.mouseEnterDelegate.bind(this),this.mouseLeaveDelegate=this.mouseLeaveDelegate.bind(this),this.blurDelegate=this.blurDelegate.bind(this),this.build("classic")}exports.AnnouncementsWidget=t},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.JourneyChecklistCollectionWidget=void 0;var a=t(0),f=t(27),n=t(5),m=[],t=(i.prototype.getContainer=function(){return this.domContainer},i.prototype.onDigest=function(){},i.prototype.onHalt=function(){for(var e,t=null===(e=this.collection)||void 0===e?void 0:e.length,n=0;n<t;n++)this.collection[n].onHalt();if(this.domContainer){for(;this.domContainer.firstChild;)this.domContainer.removeChild(this.domContainer.lastChild);this.domContainer.parentElement&&this.domContainer.parentElement.removeChild(this.domContainer),this.domContainer=null}},i.prototype.build=function(){this.tenantSvc.FeatureEnabled(n.ReleaseGates.JourneyChecklistPhaseTwoReleased)?this.buildForPhaseTwo():this.buildForPhaseOne()},i.prototype.buildForPhaseOne=function(){var e=((null===(t=this.checklistSvc.getChecklistConfig())||void 0===t?void 0:t.items)||m).concat();if(0!==e.length){var t=e[0];0===this.collection.length&&(e=new f.JourneyChecklistWidget(this.parentDoc,this.windowSvc,this.appSvc,this.checklistSvc),this.collection.push(e),null!==(e=this.domContainer)&&void 0!==e&&e.appendChild(this.collection[0].getContainer())),this.collection[0].setData(t),this.collection[0].build()}else{for(var n=this.collection.length,i=0;i<n;i++)this.collection[i].onHalt();this.collection=[]}},i.prototype.buildForPhaseTwo=function(){var e,t=this,n=((null===(e=this.checklistSvc.getChecklistConfig())||void 0===e?void 0:e.items)||m).filter(function(e){return t.sessionSvc.PanelEnabled&&1===e.uiPositionId}),i=n.length;if(0!==i){for(var o=n.map(function(e){return e.id}),s=this.collection.length;s--;){var r=this.collection[s];-1<o.indexOf(r.getId())||(r.onHalt(),this.collection.splice(s,1))}for(var a=this.collection.map(function(e){return e.getId()}),c=[],l=0;l<i;l++){var u=n[l],h=void 0,d=a.indexOf(u.id),h=-1<d?this.collection[d]:new f.JourneyChecklistWidget(this.parentDoc,this.windowSvc,this.appSvc,this.checklistSvc);c.push(h),h.setData(u),h.build(),null!==(u=this.domContainer)&&void 0!==u&&u.appendChild(h.getContainer())}this.collection=c}else{for(var p=this.collection.length,l=0;l<p;l++)this.collection[l].onHalt();this.collection=[]}},i);function i(e,t,n,i,o,s,r){this.parentDoc=e,this.sessionSvc=t,this.checklistSvc=n,this.windowSvc=i,this.commSvc=o,this.appSvc=s,this.tenantSvc=r,this.collection=[],this.subIds={},this.build=this.build.bind(this),this.domContainer=this.parentDoc.createElement("section"),this.subIds.checklistRefreshedSub=this.appSvc.pubsub.subscribe(a.ChurnZeroAppEvents.JourneyChecklistRefreshed,this.build),this.build()}exports.JourneyChecklistCollectionWidget=t},function(e,exports,t){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SuccessCenterLauncher=void 0;var l,s=t(13),g=t(0),r=o(t(1)),u=t(3);(t=l=l||{})[t.Closed=0]="Closed",t[t.Open=1]="Open";var h,n=(h=s.IndependentLauncher,n(a,h),a.prototype.onInit=function(){var n=this;try{if(!this.successCenterConfig||!this.successCenterConfig.successCenterId)return;this.addPubSubSubscriptions(),this.buildSuccessCenter(function(){var e=n.getPositionalClassFromConfig(n.successCenterConfig.launchIconPositionId);null!==(t=n.successCenterContainer)&&void 0!==t&&t.classList.add(e),null!==(t=n.panelLauncher)&&void 0!==t&&t.classList.add(e),null!==(t=n.launcherUnreadBadge)&&void 0!==t&&t.classList.add(e),null!==(t=n.alertFlyoutFrame)&&void 0!==t&&t.classList.add(e),null!==(t=n.seeMoreMessage)&&void 0!==t&&t.classList.add(e);var t=n.successCenterConfig.launchIconTypeId===g.LaunchIconType.Float?"float":"tabbed";null!==(e=n.successCenterContainer)&&void 0!==e&&e.classList.add(t),n.panelLauncher.classList.add(t),n.alertFlyoutFrame.classList.add(t),null!==(t=n.successCenterContainer)&&void 0!==t&&t.classList.remove("cz-invisible"),null!==(t=n.successCenterContainer)&&void 0!==t&&t.classList.add("in"),null!==(t=n.panelLauncher)&&void 0!==t&&t.classList.remove("cz-invisible"),n.successCenterConfig.displayUnreadBadge&&(t=n.getTotalUnreadCount(n.successCenterConfig.unreadCounts)||0,n.updateUnreadBadge(t)),n.subIds.digestSubId=n.appSvc.pubsub.subscribe(g.ChurnZeroAppEvents.DIGEST,n.onDigest),n.subIds.haltSubId=n.appSvc.pubsub.subscribe(g.ChurnZeroAppEvents.HALT,n.onHalt),n.windowSvc.window.setTimeout(function(){try{(n.basePanelVisible||n.openOnStart)&&n.show(!0),g.CoreUtils.isNullOrUndefined(n.launcherBoundingRect)&&(n.setLauncherBoundingRectangle(),n.appSvc.pubsub.publish(g.ChurnZeroAppEvents.PanelLauncherReady)),n.appSvc.pubsub.publish(g.ChurnZeroAppEvents.PanelReady)}catch(e){r.default.report("SuccessCenter.onAfterSuccessCenterFrameLoad timeout fn",e)}},500)})}catch(e){this.handleError(e,"SuccessCenterLauncher.onInit")}},a.prototype.onDigest=function(){},a.prototype.onHalt=function(){g.PubSuber.removeAll(this.subIds),this.subs.forEach(function(e){return e.remove()}),this.subs=[],this.centerWindow=void 0,this.successCenterReadyEventReceived=!1,this.centerWindowInterval&&(this.windowSvc.window.clearInterval(this.centerWindowInterval),this.centerWindowInterval=void 0),this.removeInjectedHtml()},a.prototype.getId=function(){},a.prototype.hide=function(){var e,t,n;try{this.successCenterConfig.locationTypeId===g.SuccessCenterLocation.InAppOverlay&&(this.closeBasePanel(),this.panelOpenState=l.Closed,n=this.getCollapsedStyleData(),null!==(t=null===(e=this.panelFrameContainer)||void 0===e?void 0:e.style)&&void 0!==t&&t.setProperty(n.property,n.value,"important"))}catch(e){r.default.report("SuccessCenter.hide",e)}},a.prototype.show=function(e){var t=this;try{switch(this.hideMessageBubble(),this.successCenterConfig.locationTypeId){case g.SuccessCenterLocation.NewTab:this.centerWindow=this.windowSvc.window.open(this.centerUrl,"_blank "),this.centerWindowInterval=this.windowSvc.window.setInterval(function(){var e;null!==(e=t.centerWindow)&&void 0!==e&&e.closed&&(t.centerWindow=void 0,t.successCenterReadyEventReceived=!1,t.windowSvc.window.clearInterval(t.centerWindowInterval),t.centerWindowInterval=void 0)},1e3);break;case g.SuccessCenterLocation.InAppOverlay:var n=this.getCollapsedStyleData();this.panelFrame||(this.panelFrame=this.buildPanelIframe(),this.panelFrameContainer=this.buildPanelIframeContainer(),this.panelFrameContainer.style.setProperty(n.property,n.value,"important"),this.panelFrameContainer.appendChild(this.panelFrame),this.successCenterContainer.appendChild(this.panelFrameContainer)),this.openBasePanel(e),this.panelOpenState=l.Open,this.windowSvc.window.setTimeout(function(){t.panelFrameContainer.style.removeProperty(n.property)},150)}}catch(e){r.default.report("SuccessCenter.show",e)}},a.prototype.hidePanelToggle=function(){this.panelLauncher.classList.add("cz-invisible")},a.prototype.showPanelToggle=function(){this.panelLauncher.classList.remove("cz-invisible")},a.prototype.showMessageBubble=function(e,t){this.basePanelVisible||!this.successCenterConfig.hasSurveysWidget&&this.messageSvc.isSurveyAnnouncement(t)||this.successCenterConfig.hasAnnouncementsWidget&&(t=this.appSvc.templater.populateTemplate(this.templateCache.messageBubbleTemplate,{},!0),(t=g.CoreUtils.createElementFromHTML(this.windowSvc.document,t)).textContent=e,this.seeMoreMessage.innerHTML="",this.seeMoreMessage.appendChild(t),this.alertFlyoutFrame.classList.remove("cz-invisible"),this.seeMoreMessage.style.removeProperty("animation"))},a.prototype.hideMessageBubble=function(){this.alertFlyoutFrame.classList.add("cz-invisible"),this.seeMoreMessage.style.animation="none"},a.prototype.buildSuccessCenter=function(e){var t=this;try{var n=this.parentDocument.querySelector("body");if(!n)return void this.appSvc.debug("No body element found to add success panel. Exiting early.");this.successCenterContainer=this.windowSvc.createElement("div"),this.successCenterContainer.id="cz_success_center_container",this.successCenterContainer.className="cz-invisible cz-independent-frame-container sc-container no-transforms",n.appendChild(this.successCenterContainer),this.loadTopStyles(function(){t.addLauncherFrame(function(){t.addPanelFrame(function(){t.addSuccessCenterAlertFlyoutFrame(function(){e()})},function(e){t.handleError(e,"addPanelFrame")})},function(e){t.handleError(e,"addLauncherFrame")})},function(e){t.handleError(e)})}catch(e){this.handleError(e,"buildSuccessCenter catch")}},a.prototype.loadTopStyles=function(e,n){var t,i=this.appSvc.addCdn("css/independent_frames.css");this.parentDocument.head.querySelector("[href='"+i+"']")?e():((t=this.windowSvc.createElement("link")).addEventListener("load",function(){e()}),t.addEventListener("error",function(e){var t="";if(e){if(g.CoreUtils.hasOwnProp(e,"error")&&e.error)return void n(e.error);"string"==typeof e?t=e:g.CoreUtils.hasOwnProp(e,"message")&&(t=e.message)}n(new Error(t||"independent_frames.css failed to load."))}),t.id="cz-success-frames-styles",t.type="text/css",t.rel="stylesheet",t.href=i,this.parentDocument.head.appendChild(t))},a.prototype.addLauncherFrame=function(p,f){var m=this;this.panelLauncher=this.windowSvc.createElement("iframe"),this.panelLauncher.id="cz_success_center_launcher_frame",this.panelLauncher.className="cz-invisible cz-independent-frame launcher last";this.panelLauncher.addEventListener("load",function(e){try{var t=e.target.contentWindow.document,n=t.body,i=m.successCenterConfig,o=i.launchAvatarBackgroundColor,s=i.launchAvatarGlowColor,r=i.launchAvatarColor,a=i.launchIconTypeId,c=t.createElement("link");c.id="cz-launcher-styles",c.type="text/css",c.rel="stylesheet",c.href=m.appSvc.addCdn("css/in_frame_success_center_launcher.css"),t.head.appendChild(c),n.className="cz-launch-panel-body",n.innerHTML='\n        <section id="cz-success-center-launch-wrapper" class="cz-success-center-v3">\n            <div class="cz-unread-badge" style="display:none;"></div>\n            <div class="cz-see-more-info" style="display:none;"></div>\n        </section>',o&&a===g.LaunchIconType.Tabbed&&(n.style.backgroundColor=o);var l=t.querySelector("#cz-success-center-launch-wrapper");if(m.successCenterConfig.launchAvatarTypeId===g.LaunchAvatarType.Custom)(h=t.createElement("div")).classList.add("cz-success-center-launch-avatar-img"),h.classList.add("img-circle"),h.style.backgroundImage="url('"+m.successCenterConfig.launchAvatarUrl+"')",s&&(h.classList.add("avatar-glow"),h.style.color=s),o&&(h.style.backgroundColor=o),l.appendChild(h);else{var u=t.createElement("span"),h=t.createElement("i");switch(u.classList.add("cz-success-center-avatar-wrapper"),h.classList.add("czi"),r&&(u.style.borderColor=r,h.style.color=r),s&&(u.classList.add("avatar-glow"),u.style.color=s),o&&(u.style.backgroundColor=o),m.successCenterConfig.launchAvatarTypeId){case g.LaunchAvatarType.Heartbeat:h.classList.add("czi-heartbeat");break;case g.LaunchAvatarType.ConciergeBell:h.classList.add("czi-concierge-bell");break;case g.LaunchAvatarType.LightBulb:h.classList.add("czi-lightbulb");break;case g.LaunchAvatarType.Info:h.classList.add("czi-info-circle");break;case g.LaunchAvatarType.Shield:h.classList.add("czi-shield-alt");break;default:g.LaunchAvatarType.Heart;h.classList.add("czi-heart")}u.appendChild(h),l.appendChild(u)}m.launcherUnreadBadge=t.querySelector(".cz-unread-badge");var d=function(){m.show()};t.addEventListener("click",d),t.defaultView.addEventListener("unload",function(){t.removeEventListener("click",d)})}catch(e){return void f(e)}p()},{once:!0}),this.successCenterContainer.appendChild(this.panelLauncher)},a.prototype.addPanelFrame=function(e,t){try{this.centerUrl=""+this.appSvc.WebAppDomain+this.successCenterConfig.url+"/",e()}catch(e){t(e)}},a.prototype.addSuccessCenterAlertFlyoutFrame=function(r){var a=this,c='\n        <div class="cz-alert-message-body cz-invisible" style="animation: none;">\n            <p class="cz-alert-message-text">'+(this.successCenterConfig.clickToSeeMoreText||"Click here to see that info again!")+"</p>\n        </div>",e=this.successCenterConfig,l=e.alertFlyoutBackgroundColor,u=e.alertFlyoutTextColor;this.alertFlyoutFrame=this.windowSvc.createElement("iframe"),this.alertFlyoutFrame.id="cz_success_center_alert_flyout_frame",this.alertFlyoutFrame.classList.add("cz-invisible"),this.alertFlyoutFrame.addEventListener("load",function(e){var t;try{var n=e.target.contentWindow.document,i=n.body,o=n.createElement("link"),s=n.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=a.appSvc.addCdn("css/in_frame_success_center_alert_flyout.css"),s.type="text/css",s.rel="stylesheet",s.href="https://fonts.googleapis.com/css?family=Open+Sans",n.head.appendChild(o),n.head.appendChild(s),a.addCustomCssToFrame(n,"flyout"),i.innerHTML=c,a.seeMoreMessage=n.querySelector(".cz-alert-message-body"),l&&(a.seeMoreMessage.style.backgroundColor=l,a.seeMoreMessage.style.borderColor=l),u&&(a.seeMoreMessage.style.color=u),a.seeMoreMessage.addEventListener("click",function(){return a.show()})}catch(e){t=e}r(t)},{once:!0}),this.successCenterContainer.appendChild(this.alertFlyoutFrame)},a.prototype.handleTransitionEnd=function(){var t=this;this.panelOpenState!==l.Closed&&0===(this.panelFrame.src||"").length&&(this.panelFrame.addEventListener("load",function(){var e;null!==(e=null===(e=t.panelFrameContainer)||void 0===e?void 0:e.classList)&&void 0!==e&&e.add("ready")},{once:!0}),this.panelFrame.src=this.centerUrl)},a.prototype.addPubSubSubscriptions=function(){var s=this;this.appSvc.pubsub.addMirror(this.postMirroredMessage),this.appSvc.addChildFrameListener();var e=this.appSvc.pubsub.subscribe(g.ChurnZeroAppEvents.SuccessCenterReady,function(){var e;s.successCenterReadyEventReceived=!0,s.appSvc.pubsub.publish(u.InterfaceCommCodes.SuccessCenterSetSocketContext,{hasDevless:s.sessionSvc.DevlessPanelEnabled}),null!==(e=s.panelFrameContainer)&&void 0!==e&&e.removeEventListener("transitionend",s.handleTransitionEnd),null!==(e=s.preloadCloseIcon)&&void 0!==e&&e.removeEventListener("click",s.hide),null!==(e=null===(e=s.preloadCloseIcon)||void 0===e?void 0:e.parentElement)&&void 0!==e&&e.removeChild(s.preloadCloseIcon),s.preloadCloseIcon=void 0});this.subs.push(e);e=this.appSvc.pubsub.subscribe(u.InterfaceCommCodes.SuccessCenterSetStyles,function(e){var t,n,i,o=["width"];for(n in e.info)-1<o.indexOf(n.toLowerCase())||(i=null===(i=e.info)||void 0===i?void 0:i[n])&&null!==(t=null===(t=s.panelFrame)||void 0===t?void 0:t.style)&&void 0!==t&&t.setProperty(n,i,"important")});this.subs.push(e);e=this.appSvc.pubsub.subscribe(g.ChurnZeroAppEvents.AnnouncementClosed,function(e){s.showMessageBubble(e.info.infoMessage,e.info.announcement)});this.subs.push(e);e=this.appSvc.pubsub.subscribe(u.InterfaceCommCodes.SuccessCenterUpdateUnreadBadge,function(e){var t=e.info.name;t&&(e=e.info.count,s.successCenterConfig.unreadCounts[t]=e||0,e=s.getTotalUnreadCount(s.successCenterConfig.unreadCounts)||0,s.updateUnreadBadge(e))});this.subs.push(e);e=this.appSvc.pubsub.subscribe(g.ChurnZeroAppEvents.NewAnnouncement,function(e){var t;s.successCenterConfig.displayUnreadBadge&&!s.successCenterReadyEventReceived&&((t=e.info).isRead||s.messageSvc.isPanelAnnouncement(t)&&(e="announcements",s.messageSvc.isSurveyAnnouncement(t)&&(e="surveys"),s.successCenterConfig.unreadCounts[e]=(s.successCenterConfig.unreadCounts[e]||0)+1,e=s.getTotalUnreadCount(s.successCenterConfig.unreadCounts),s.updateUnreadBadge(e)))});this.subs.push(e);e=this.appSvc.pubsub.subscribe(g.ChurnZeroAppEvents.ExpireAnnouncement,function(e){var t;s.successCenterConfig.displayUnreadBadge&&!s.successCenterReadyEventReceived&&((t=e.info).isRead||s.messageSvc.isPanelAnnouncement(t)&&(e="announcements",s.messageSvc.isSurveyAnnouncement(t)&&(e="surveys"),s.successCenterConfig.unreadCounts[e]=(s.successCenterConfig.unreadCounts[e]||0)-1,e=s.getTotalUnreadCount(s.successCenterConfig.unreadCounts),s.updateUnreadBadge(e)))});this.subs.push(e);e=this.appSvc.pubsub.subscribe(u.InterfaceCommCodes.AnnouncementMarkAsRead,function(e){s.messageSvc.SendReadReceipt(e.info.id)});this.subs.push(e);e=this.appSvc.pubsub.subscribe(u.InterfaceCommCodes.AnnouncementClickAudit,function(e){e=e.info.id;s.appSvc.debug("[Click Audit "+e+"]"),s.messageSvc.SendClickAudit(e)});this.subs.push(e);e=this.commSvc.registerListener(g.SocketMessageTypes.SOCKETMESSAGETYPE_RefreshChecklistConfig,this.handleChecklistConfigRefresh);this.subs.push(e)},a.prototype.handleChecklistConfigRefresh=function(e){this.postMirroredMessage(e)},a.prototype.postMirroredMessage=function(e){this.centerWindow&&(e=g.iFrameUtils.encrypt(this.windowSvc.JSON.stringify(g.iFrameUtils.buildTransportMessage(g.TransportCodes.PubSubMirror,e))),this.centerWindow.postMessage(e,"*"))},a.prototype.buildPanelIframe=function(){var e=this,t=this.windowSvc.createElement("iframe");return t.title="Success Center Frame",t.id="cz_success_center_frame",t.classList.add("cz-success-center-frame-iframe"),t.addEventListener("load",function(){e.centerWindow=t.contentWindow}),t},a.prototype.buildPanelIframeContainer=function(){var e=this.windowSvc.createElement("div");e.classList.add("success-center-panel-frame-container"),e.classList.add(this.getInAppOverlayPositionClassFromConfig()),e.style.setProperty("width",""+this.successCenterWidth,"important"),e.addEventListener("transitionend",this.handleTransitionEnd);var t=this.windowSvc.createElement("div");t.className="sc-panel-frame-loader-container";var n=this.windowSvc.createElement("div");return n.className="sc-panel-frame-loader",n.innerHTML='<p style="margin:0">Loading. Please wait...</p>',t.appendChild(n),this.preloadCloseIcon=this.windowSvc.createElement("span"),this.preloadCloseIcon.id="cz_success_center_preload_close_icon",this.preloadCloseIcon.innerHTML="&times;",this.preloadCloseIcon.title="Close the Success Center panel",this.preloadCloseIcon.addEventListener("click",this.hide),e.appendChild(this.preloadCloseIcon),e.appendChild(t),e},a.prototype.addCustomCssToFrame=function(e,t){var n;null!==(n=this.sessionSvc.CurrentAccountContent)&&void 0!==n&&n.css&&((n=e.createElement("style")).id="cz-custom-css-styles-"+t,n.textContent=this.sessionSvc.CurrentAccountContent.css,e.head.appendChild(n))},a.prototype.removeInjectedHtml=function(){var e,t;null!==(t=null===(e=null===(t=this.successCenterContainer)||void 0===t?void 0:t.parentElement)||void 0===e?void 0:e.removeChild)&&void 0!==t&&t.call(e,this.successCenterContainer),this.panelFrameContainer=null,this.panelFrame=null,this.panelLauncher=null,this.launcherUnreadBadge=null,this.alertFlyoutFrame=null,this.seeMoreMessage=null},a.prototype.updateUnreadBadge=function(e){0<e?(this.launcherUnreadBadge.textContent=9<e?"9+":e.toString(),this.launcherUnreadBadge.style.removeProperty("display")):this.launcherUnreadBadge.style.display="none"},a.prototype.getInAppOverlayPositionClassFromConfig=function(){return"pos-"+(this.successCenterConfig.inAppOverlayPositionId===g.InAppOverlayPosition.Left?"left":"right")},a.prototype.getTotalUnreadCount=function(e){var t=0;return this.successCenterConfig&&this.successCenterConfig.hasAnnouncementsWidget&&(t+=e.announcements||0),this.successCenterConfig&&this.successCenterConfig.hasSurveysWidget&&(t+=e.surveys||0),t},a.prototype.getCollapsedStyleData=function(){return{property:this.successCenterConfig.inAppOverlayPositionId===g.InAppOverlayPosition.Left?"left":"right",value:"-"+this.successCenterWidth}},a);function a(e,t,n,i,o,s,r,a,c){c=h.call(this,o.document,n,i,o,s,r,a,c)||this;c.successCenterConfig=e,c.commSvc=t,c.subIds={},c.subs=[],c.successCenterReadyEventReceived=!1,c.openOnStart=!1,c.centerUrl="",c.panelOpenState=l.Closed,c.handleTransitionEnd=c.handleTransitionEnd.bind(c),c.show=c.show.bind(c),c.hide=c.hide.bind(c),c.onDigest=c.onDigest.bind(c),c.onHalt=c.onHalt.bind(c),c.postMirroredMessage=c.postMirroredMessage.bind(c),c.handleChecklistConfigRefresh=c.handleChecklistConfigRefresh.bind(c),c.removeInjectedHtml=c.removeInjectedHtml.bind(c);t=e.width,e=(e.widthUnit||g.SUCCESS_CENTER_DEFAULT_WIDTH_UNIT)===u.WidthUnitType.Percentage?"%":"px";return c.successCenterWidth=(t||g.SUCCESS_CENTER_DEFAULT_WIDTH)+e,c.onInit(),c}exports.SuccessCenterLauncher=n},function(e,exports,t){"use strict";var v=this&&this.__assign||function(){return(v=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,o=0,s=t.length;o<s;o++)!i&&o in t||((i=i||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var c=t(2),l=n(t(1)),T=t(0),i=t(5),u=t(72),a=t(31),t=(Object.defineProperty(h.prototype,"popupDiv",{get:function(){return this.windowSvc.document.getElementById("cz_popover")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"popupContainer",{get:function(){return this.windowSvc.document.getElementById("cz_popover_content")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"popupBackground",{get:function(){return this.windowSvc.document.getElementById("cz_transBG")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"sliderContainer",{get:function(){return this.windowSvc.czq(".cz-slide-announcement")},enumerable:!1,configurable:!0}),h.prototype.onInit=function(){var s=this;this.sessionSvc.IsSilent||(this.addPopOverDiv(),this.checkForLastAdvancedDisplayAnnouncement(),this.subIds.digestId=this.appSvc.pubsub.subscribe(T.ChurnZeroAppEvents.DIGEST,function(){return s.onDigest()}),this.subIds.haltId=this.appSvc.pubsub.subscribe(T.ChurnZeroAppEvents.HALT,function(){return s.onHalt()}),this.subIds.walkthroughId=this.appSvc.pubsub.subscribe(T.ChurnZeroAppEvents.WalkthroughStart,function(e){return s.onStartWalkthrough(e.info)}),this.subIds.announcementListenerId=this.commSvc.registerListener(c.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_ANNOUNCEMENT,function(e){s.createNewAnnouncement(e.info)}),this.subIds.expireListenerId=this.commSvc.registerListener(c.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_EXPIRE_MESSAGE,function(e){s.expireAnnouncement(e.info),s.appSvc.pubsub.publish(T.ChurnZeroAppEvents.ExpireAnnouncement,e.info)}),this.windowSvc.elementCache.body.on(this.windowSvc.namespaceEvent("click"),".cz-close-popover-trigger",function(e){try{var t=s.windowSvc.czq(e.currentTarget).closest(".cz-popover"),n=t.find(".cz-announcement"),i="true"===((n=0===n.length?t.find("#cz_nps_frame"):n).attr("data-info-message")||"true").toLowerCase(),o=s.messageSvc.GetAnnouncementFromAnnouncementHtml(n.get(0));s.closePopUpAnnouncement(!1,!1),i&&s.announceClosure(s.sessionSvc.CurrentAccountContent.clickToSeeMoreText,o),s.onAdvancedDisplayClose()}catch(e){l.default.report("Herald.closePopoverEvent",e)}}),this.windowSvc.elementCache.body.on(this.windowSvc.namespaceEvent("click"),".cz-close-announcement",this.CloseSliderClickHandler),this.windowSvc.elementCache.body.on(this.windowSvc.namespaceEvent("click"),".cz-nps-click",this.ShowNPSClickHandler),this.windowSvc.elementCache.body.on(this.windowSvc.namespaceEvent("click"),".cz-click-audit a",this.AnnouncementLinkClickHandler),this.boundClickAuditHandler=T.iFrameUtils.attachTransportMessageListener(this.windowSvc.window,"*",function(e){var t=e.code,n=e.data;switch(t){case T.TransportCodes.AnnouncementFrameComm:if(!n)return;s.messageClicked(n.id);break;case T.TransportCodes.WalkthroughClickAudit:s.walkthroughMessageClicked(n);break;case T.TransportCodes.InterfaceComm:switch(n.code){case T.InterfaceCommCodes.NpsAnnouncementLinkClicked:s.ShowNPSFrameCommHandler(n);break;case T.InterfaceCommCodes.AnnouncementClickAudit:s.messageClicked(null==n?void 0:n.id)}}},null,function(e,t){l.default.report("iFrameUtils.attachTransportMessageListener at Herald.ts",e,(t.data||"e.data is falsy").toString())}),this.windowSvc.elementCache.body.on(this.windowSvc.namespaceEvent("mouseenter"),".cz-click-audit .fr-video iframe",function(e){e=s.windowSvc.czq(e.currentTarget).closest(".cz-click-audit");e&&0!==e.length&&((e=e.attr("data-message-id"))&&(s.overAnnouncementiFrame=e),s.currentWalkthroughStep&&!s.currentWalkthroughStep.testing&&(s.overWalkthroughiFrame={wId:s.currentWalkthroughStep.walkthroughId,sId:s.currentWalkthroughStep.id}))}).on(this.windowSvc.namespaceEvent("mouseleave"),".cz-click-audit .fr-video iframe",function(){s.overAnnouncementiFrame=-1,s.overWalkthroughiFrame=-1}),this.windowSvc.elementCache.window.on(this.windowSvc.namespaceEvent("blur"),function(){if(-1!==s.overAnnouncementiFrame&&s.messageClicked(s.overAnnouncementiFrame),-1!==s.overWalkthroughiFrame&&s.walkthroughMessageClicked(s.overWalkthroughiFrame),s.currentWalkthroughStep||s.announcementVisible){for(var e=s.popupContainer.querySelectorAll("iframe"),t=e.length,n=0;n<t;n++)e[n].contentWindow.postMessage("czCodeBlur","*");s.sliderContainer.find("iframe").each(function(e,t){t.contentWindow.postMessage("czCodeBlur","*")}),s.windowSvc.elementCache.body.find(".cz-walk-tooltip-container iframe").each(function(e,t){t.contentWindow.postMessage("czCodeBlur","*")})}}),this.windowSvc.window.addEventListener("resize",this.onWindowResizeForAnchors),this.windowSvc.elementCache.window.on(this.windowSvc.namespaceEvent("beforeunload"),function(){s.currentWalkthroughStep&&s.endWalkthroughStep(!1,"Abandoned"),s.currentWalkthrough&&s.endWalkthrough(!0)}))},h.prototype.onDigest=function(){this.tenantSvc.FeatureEnabled(i.FeatureFlags.Walkthroughs)&&this.CheckForWalkthroughAnchors()},h.prototype.onHalt=function(){T.PubSuber.removeAll(this.subIds),this.windowSvc.window.removeEventListener("message",this.boundClickAuditHandler),this.windowSvc.window.removeEventListener("resize",this.onWindowResizeForAnchors),this.CompletelyAbandonAnyCurrentWalkthrough(),this.windowSvc.elementCache.body.find(".cz-tooltip-container").remove(),this.windowSvc.elementCache.body.find("#cz_transBG").remove(),this.popoverDivLoaded=!1,this.clearAllAnchors()},h.prototype.onStartWalkthrough=function(e,t){var n=e.testing;!n&&e.disabled||!n&&!e.recurrence&&e.id&&-1!==this.seenWalkthroughIds.indexOf(e.id)||(n||!this.currentWalkthrough?!0!==this.announcementVisible?(this.currentWalkthrough=e,null!=t&&t.cssText&&(this.currentWalkthroughCssText=t.cssText),!n&&this.currentWalkthrough.id&&this.seenWalkthroughIds.push(this.currentWalkthrough.id),this.appSvc.debug("[Devless Walkthrough Started]",this.currentWalkthrough),this.currentWalkthrough&&!n&&this.currentWalkthrough.id&&this.walkthroughSvc.SendActionMessage(c.Enums.WalkthroughActionType.WalkthroughStarted,this.currentWalkthrough.id),this.currentWalkthrough.steps&&0!==this.currentWalkthrough.steps.length?(n=this.currentWalkthrough.steps[0],this.doWalkthroughStep(n)):this.endWalkthrough(!1)):this.appSvc.debug("[Devless Walkthrough Prevented (In-App Announcement Visible)]",e):this.appSvc.debug("[Devless Walkthrough Prevented (Another In Progress)]",e))},h.prototype.ReplayAnnouncement=function(t,e){var n=this.messageSvc.Announcements.filter(function(e){return e.id===t});0!==n.length&&(n=v(v({},n[0]),{isReplay:!0}),e&&(n.announcementPositionId=e),n&&this.messageSvc.isAdvancedDisplayAnnouncement(n)&&this.addAdvancedDisplayAnnouncement(n))},h.prototype.TestAnnouncement=function(e,t,n,i,o,s,r){this.HideAnyAnnouncement();var a={messageKey:-1*this.windowSvc.Date.now(),isRead:!1,deliveryDate:this.windowSvc.Date.now(),announcementIncludeInPanel:!0===n,announcementIncludeInPanelString:(!0===n).toString(),id:-1,announcementPositionId:c.Enums.AnnouncementPosition.PopUp,messageContent:""+(t||this.defaultTestMessageContent)};switch("<"!==a.messageContent.charAt(0)&&(a.messageContent="<p>"+a.messageContent+"</p>"),null!==t&&"object"==typeof t&&(a.messageData=t,delete a.messageContent),i&&(i.testing=!0),e){case c.Enums.AnnouncementPosition.PopUp:i?this.showWalkthroughPopup(a.messageContent,i,void 0,o,s,r):this.createNewAnnouncement(a);break;case c.Enums.AnnouncementPosition.SlideBottomRight:case c.Enums.AnnouncementPosition.SlideBottomCenter:case c.Enums.AnnouncementPosition.SlideBottomLeft:case c.Enums.AnnouncementPosition.SlideLeftBottom:case c.Enums.AnnouncementPosition.SlideLeftCenter:case c.Enums.AnnouncementPosition.SlideLeftTop:case c.Enums.AnnouncementPosition.SlideTopLeft:case c.Enums.AnnouncementPosition.SlideTopCenter:case c.Enums.AnnouncementPosition.SlideTopRight:case c.Enums.AnnouncementPosition.SlideRightTop:case c.Enums.AnnouncementPosition.SlideRightCenter:case c.Enums.AnnouncementPosition.SlideRightBottom:i?this.showWalkthroughSlider(a.messageContent,i,void 0,o,s,r):(a.announcementPositionId=e,this.createNewAnnouncement(a));break;case c.Enums.AnnouncementPosition.PanelOnly:a.announcementIncludeInPanel=!0,a.announcementIncludeInPanelString="true",a.announcementPositionId=c.Enums.AnnouncementPosition.PanelOnly,this.createNewAnnouncement(a);break;case c.Enums.AnnouncementPosition.Tooltip:this.showTooltip(t||this.defaultTestMessageContent,i,void 0,1,o,s,r)}},h.prototype.UpdateAnnouncement=function(e,t,n,i,o,s,r){switch(e){case c.Enums.AnnouncementPosition.PopUp:this.popupContainer&&(this.popupContainer.innerHTML=t);break;case c.Enums.AnnouncementPosition.SlideBottomRight:case c.Enums.AnnouncementPosition.SlideBottomCenter:case c.Enums.AnnouncementPosition.SlideBottomLeft:case c.Enums.AnnouncementPosition.SlideLeftBottom:case c.Enums.AnnouncementPosition.SlideLeftCenter:case c.Enums.AnnouncementPosition.SlideLeftTop:case c.Enums.AnnouncementPosition.SlideTopLeft:case c.Enums.AnnouncementPosition.SlideTopCenter:case c.Enums.AnnouncementPosition.SlideTopRight:case c.Enums.AnnouncementPosition.SlideRightTop:case c.Enums.AnnouncementPosition.SlideRightCenter:case c.Enums.AnnouncementPosition.SlideRightBottom:this.closeSlider(),this.showWalkthroughSlider(t||this.defaultTestMessageContent,i,void 0,o,s,r);break;case c.Enums.AnnouncementPosition.PanelOnly:break;case c.Enums.AnnouncementPosition.Tooltip:this.closeTooltips(!1,!1),this.showTooltip(t||this.defaultTestMessageContent,i,void 0,void 0,o,s,r)}},h.prototype.HideAnyAnnouncement=function(){this.frameBuilder.removeWalkthroughStyleElements(),this.closePopUpAnnouncement(!1,!1),this.closeSlider(),this.closeTooltips(!1,!1)},h.prototype.TestWalkthrough=function(e,t){var n;(e=T.Walkthrough.fromObject(e)).testing=!0,this.HideAnyAnnouncement(),e.triggerType===T.WalkthroughTriggerType.Anchor?(n=this.generateWalkthroughAnchorId(e),(n=this.windowSvc.document.getElementById(n))&&this.removeAnchorFrame(n),this.setupWalkthroughAnchor(e,t)):this.onStartWalkthrough(e,t)},h.prototype.TestClearAll=function(){this.HideAnyAnnouncement(),this.currentWalkthrough&&this.currentWalkthrough.testing&&this.CompletelyAbandonAnyCurrentWalkthrough();for(var e,t,n,i=0;i<this.anchorFrames.length;i++)this.anchorFrames[i]&&(t=(e=this.anchorFrames[i]).anchorFrame,n=e.anchorFrameConfig,e.target,n.testing&&(t.parentElement.removeChild(t),this.anchorFrames[i]=null));this.anchorFrames=this.anchorFrames.filter(function(e){return e})},h.prototype.removeAnchorFrame=function(t){var e;t&&((e=t.parentElement)&&e.removeChild(t),this.anchorFrames=this.anchorFrames.filter(function(e){return!!e&&e.anchorFrame.getAttribute("id")!==t.getAttribute("id")}))},h.prototype.CompletelyAbandonAnyCurrentWalkthrough=function(){this.HideAnyAnnouncement(),this.currentWalkthroughStep&&this.endWalkthroughStep(!1,"Abandoned"),this.currentWalkthrough&&this.endWalkthrough(!0)},h.prototype.AnnouncementLinkClickHandler=function(e){try{var t=this.windowSvc.czq(e.currentTarget).closest(".cz-click-audit");if(!t||0===t.length)return;var n=t.attr("data-message-id");this.messageClicked(n)}catch(e){l.default.report("Herald.auditClick",e)}},h.prototype.CloseSliderClickHandler=function(e){try{var t=this.windowSvc.czq(e.currentTarget).closest(".cz-slide-announcement"),n=t.find(".cz-announcement"),i="true"===((n=0===n.length?t.find("#cz_nps_frame"):n).attr("data-info-message")||"true").toLowerCase(),o=this.messageSvc.GetAnnouncementFromAnnouncementHtml(n.get(0));this.closeSlider(),i&&this.announceClosure(this.sessionSvc.CurrentAccountContent.clickToSeeMoreText,o),this.onAdvancedDisplayClose()}catch(e){l.default.report("Herald.closeAnnouncementEvent",e)}},h.prototype.ShowNPSClickHandler=function(e){try{var t=e.currentTarget,n=t.getAttribute("data-nps-url"),i="true"===(t.getAttribute("data-nps-wide")||"").toLowerCase(),o="true"===(t.getAttribute("data-show-new-window")||"").toLowerCase(),s=T.CoreUtils.closest(t,".cz-announcement"),r="true"===(s.getAttribute("data-info-message")||"true").toLowerCase(),a=this.messageSvc.GetAnnouncementFromAnnouncementHtml(s);this.closeSlider(),this.showSurveyPopup(n,o,r,i,a)}catch(e){l.default.report("Herald.ShowNPSClickHandler",e)}},h.prototype.ShowNPSFrameCommHandler=function(e){try{var t,n=e.url,i=e.wide,o=e.showMessageBubble,s=e.showNewWindow,r=e.id;this.messageSvc.Announcements.filter(function(e){e.id.toString()===r.toString()&&(t=e)}),this.closeSlider(),this.showSurveyPopup(n,s,o,i,t),this.appSvc.debug("[Show NPS Popup]")}catch(e){l.default.report("Herald.ShowNPSFrameCommHandler",e)}},h.prototype.createNewAnnouncement=function(e){this.messageSvc.AddNewAnnouncement(e)&&(this.messageSvc.isAdvancedDisplayAnnouncement(e)&&this.addAdvancedDisplayAnnouncement(e),this.appSvc.pubsub.publish(T.ChurnZeroAppEvents.NewAnnouncement,e))},h.prototype.announceClosure=function(e,t){this.appSvc.pubsub.publish(T.ChurnZeroAppEvents.AnnouncementClosed,{infoMessage:e,announcement:t})},h.prototype.messageClicked=function(e){e=parseInt(e,10);isNaN(e)||(this.appSvc.debug("[Click Audit "+e+"]"),this.messageSvc.SendReadReceipt(e),this.messageSvc.SendClickAudit(e))},h.prototype.walkthroughMessageClicked=function(e){var t;this.appSvc.debug("[Devless Walkthrough Click Audit]"),e&&(t=c.Enums.WalkthroughActionType.StepClicked,this.walkthroughSvc.SendActionMessage(t,e.wId,e.sId))},h.prototype.expireAnnouncement=function(e){this.messageSvc.ExpireAnnouncement(e)},h.prototype.validateAdvancedAnnouncementDisplay=function(e){return!(!e.announcementPositionId||e.announcementPositionId<c.Enums.AnnouncementPosition.PopUp)&&(!0!==this.announcementVisible&&(!0===e.isReplay||!(this.lastShownAnnouncementDate&&e.deliveryDate.getTime()<this.lastShownAnnouncementDate.getTime())&&!0!==e.isRead))},h.prototype.addAdvancedDisplayAnnouncement=function(e){if(this.validateAdvancedAnnouncementDisplay(e)){switch(this.messageSvc.getAnnouncementType(e)){case T.AnnouncementType.Basic:e.announcementPositionId===c.Enums.AnnouncementPosition.PopUp?this.showInAppPopup(e):e.announcementPositionId>c.Enums.AnnouncementPosition.PopUp&&this.showInAppSlider(e);break;case T.AnnouncementType.Nps:this.messageSvc.normalizeMessageData(e),e.announcementPositionId===c.Enums.AnnouncementPosition.PopUp?this.showSurveyPopup(e.messageData.responseUrl,e.messageData.showNewWindow,e.showInfoMessageString,e.messageData.wide,e):e.announcementPositionId>c.Enums.AnnouncementPosition.PopUp&&this.showStandardSurveySlider(e);break;case T.AnnouncementType.CustomSurvey:this.messageSvc.normalizeMessageData(e),e.announcementPositionId>c.Enums.AnnouncementPosition.PopUp&&this.showCustomSurveySlider(e);break;default:return}this.lastShownAnnouncementDate=e.deliveryDate,this.messageSvc.SendReadReceipt(e.id)}},h.prototype.showInAppSlider=function(e){var t=this,n=this.sessionSvc.CurrentAccountContent.announcementStyles,i=h.getAnnouncementPositionClassFromId(e.announcementPositionId),o=this.windowSvc.createElement("div");o.classList.add("cz-slide-announcement"),o.classList.add("cz-in-app-slider"),o.classList.add(i),o.style.setProperty("visibility","hidden","important");var s=null==n?void 0:n.sliderWidth,i=(null===(i=e.messageData)||void 0===i?void 0:i.styleConfig)||{},i={content:e.messageContent,clickAuditData:e,styleConfig:v(v({},n),i),width:s,type:c.Enums.AnnouncementElementType.Slider,position:e.announcementPositionId,onCloseCallback:function(){t.closeWalkthroughSlider(!1),e.announcementIncludeInPanel&&t.announceClosure(t.sessionSvc.CurrentAccountContent.clickToSeeMoreText,e)},onShownCallback:function(){o.style.removeProperty("visibility")},onResizeCallback:null};s&&o.style.setProperty("width",s+"px","important");i=this.frameBuilder.buildInAppContentFrame(i);o.appendChild(i),this.showSlider(o)},h.prototype.showSurveySlider=function(e,t,n){var i=this,o=this.sessionSvc.CurrentAccountContent.announcementStyles,s=this.windowSvc.createElement("div");s.classList.add("cz-slide-announcement"),s.classList.add("cz-in-app-slider"),s.classList.add("cz-nps-announcement"),s.style.setProperty("visibility","hidden","important");var r=(null===(r=e.messageData)||void 0===r?void 0:r.styleConfig)||{},r={content:t,clickAuditData:e,styleConfig:v(v({},o),r),width:717,type:c.Enums.AnnouncementElementType.Slider,position:e.announcementPositionId,onCloseCallback:function(){i.closeSlider(),e.announcementIncludeInPanel&&i.announceClosure(i.sessionSvc.CurrentAccountContent.clickToSeeMoreText,e)},onLoadCallback:function(e){var t=i.appSvc.addCdn("css/csm_panel_styles.css"),n=e.document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=t;e=e.document.getElementsByTagName("head")[0];e.insertBefore(n,e.childNodes[0])},onShownCallback:function(){s.style.removeProperty("visibility")},onClickCallback:n,onResizeCallback:null},n=a.SURVEY_CONTENT_CONTAINER_STYLES;r.styleConfig.fontFamily&&(n+=".cz-announcement .cz-nps-container .questiontextcontainer .questiontext, .cz-announcement .cz-nps-container .labels table td.left, .cz-announcement .cz-nps-container .labels table td.right{",n+="font-family:"+this.tenantSvc.getUIFontFamilyMappingDisplayValue(r.styleConfig.fontFamily)+" !important;",n+="}"),r.customCss=n;n=h.getAnnouncementPositionClassFromId(e.announcementPositionId);s.classList.add(n),s.style.setProperty("width","717px","important");r=this.frameBuilder.buildInAppContentFrame(r);s.appendChild(r),this.showSlider(s)},h.prototype.showCustomSurveySlider=function(e){var t=v(v({},e),{NpsUrl:e.messageData.responseUrl,Content:this.appSvc.templater.populateTemplate(e.messageData.content,{SurveyLink:this.surveyLinkHash}),wide:e.messageData.wide,showNewWindow:e.messageData.showNewWindow}),e=this.appSvc.templater.populateTemplate(this.templateCache.announcementSurveyCustomTemplate,t);this.showSurveySlider(t,e,this.onCustomSurveyClick)},h.prototype.showStandardSurveySlider=function(e){var t=v(v({},e),{NpsQuestion:e.messageData.question,NpsUrl:e.messageData.responseUrl,NpsLogoUrl:e.messageData.logoUrl,NpsLogoStyle:e.messageData.logoUrl?"":"display: none",NpsLowScoreText:e.messageData.lowScoreText||"Not at all likely",NpsHighScoreText:e.messageData.highScoreText||"Extremely likely",AdditionalScoresClass:e.messageData.wide?"scores-wide":"",LabelsContainerClass:"",Buttons:this.generateSurveyButtons(e.messageData)||this.generateDefaultNpsButtons(e.messageData)});t.LabelsContainerClass=(t.NpsLowScoreText||"").trim()||(t.NpsHighScoreText||"").trim()?"":"scores-labels-hidden";e=this.appSvc.templater.populateTemplate(this.templateCache.announcementNpsTemplate,t);this.showSurveySlider(t,e,this.onStandardSurveyClick)},h.prototype.showWalkthroughSlider=function(e,t,n,i,o,s){var r=this,a=h.getAnnouncementPositionClassFromId(t.position),c=this.windowSvc.createElement("div");c.classList.add(this.walkthroughSliderContainerClass);var l=this.windowSvc.createElement("div");l.classList.add(this.walkthroughSliderContentClass),s.onCloseCallback=function(e){return r.closeWalkthroughSlider(e)};var u=this.windowSvc.createElement("div");u.classList.add("cz-slide-announcement"),u.style.setProperty("background-color","transparent","important"),u.classList.add(a),u.classList.add(this.walkthroughSliderClass),u.style.setProperty("visibility","hidden","important");s={stepType:T.WalkthroughStepType.Slider,content:e,config:t,clickAuditData:n,onShownCallback:function(){u.style.removeProperty("visibility")},onResizeCallback:void 0,styleConfig:i,sequence:o,metaData:s},s=this.frameBuilder.buildWalkthroughContentFrame(s);l.appendChild(s),c.appendChild(l),null!=i&&i.sliderWidth&&u.style.setProperty("width",i.sliderWidth+"px","important"),u.appendChild(c),this.showSlider(u)},h.prototype.showSlider=function(e){T.CoreUtils.isString(e)?this.windowSvc.elementCache.body.append(e):this.windowSvc.elementCache.body.get(0).appendChild(e),this.announcementVisible=!0},h.prototype.closeSlider=function(){this.sliderContainer.remove(),this.announcementVisible=!1},h.prototype.closeWalkthroughSlider=function(e){e=!0===e,this.closeSlider(),void 0!==this.currentWalkthroughStep?this.endWalkthroughStep(e,e?"CTA Clicked":"Close Handle Clicked"):this.appSvc.pubsub.publish(T.DevlessEvents.WalkthroughStepPreviewClose)},h.prototype.showInAppPopup=function(e){var t=this,n=this.sessionSvc.CurrentAccountContent.announcementStyles,i=null==n?void 0:n.popupWidth,o=(null===(o=e.messageData)||void 0===o?void 0:o.styleConfig)||{},o={content:e.messageContent,clickAuditData:e,styleConfig:v(v({},n),o),width:i,type:c.Enums.AnnouncementElementType.Popup,onCloseCallback:function(){t.closePopUpAnnouncement(!1,!1),e.announcementIncludeInPanel&&t.announceClosure(t.sessionSvc.CurrentAccountContent.clickToSeeMoreText,e)},onShownCallback:function(){var e;null!==(e=null===(e=t.popupBackground)||void 0===e?void 0:e.classList)&&void 0!==e&&e.add(t.czInClassName)},onResizeCallback:null,position:void 0},o=this.frameBuilder.buildInAppContentFrame(o);o.style.width="100%",this.showPopUpAnnouncement(o,i?i+"px":void 0),this.popupDiv&&this.popupDiv.classList.add(this.inAppPopupClass)},h.prototype.showSurveyPopup=function(e,t,n,i,o){var s=this,r="true"===(null==n?"true":n).toString().toLowerCase();t?this.windowSvc.openWindow(this.windowSvc.clientSideUrls.baseApiUrl+e).onunload=function(){r&&s.announceClosure(s.sessionSvc.CurrentAccountContent.clickToSeeMoreText,o)}:(e=this.frameBuilder.buildSurveyContentFrame(e,n.toString()),n=this.sessionSvc.CurrentAccountContent.announcementStyles,e={content:e,styleConfig:v(v({},n),{}),width:717,type:c.Enums.AnnouncementElementType.Popup,onCloseCallback:function(){s.closePopUpAnnouncement(!1,!1),r&&s.announceClosure(s.sessionSvc.CurrentAccountContent.clickToSeeMoreText,o)},onLoadCallback:function(e){function n(){var e=parseInt(i.getAttribute("data-content-size")),t=.75*(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-45,e=t<e?t:e+1;i.style.height=e+"px"}var i=e.document.querySelector("#cz_nps_frame");T.CoreUtils.isNullOrUndefined(i)||(e.addEventListener("message",function(e){try{if(T.CoreUtils.hasOwnProp(e,"data")||!e.data.height)return;var t=parseInt(e.data.height);i.setAttribute("data-content-size",t.toString()),n()}catch(e){l.default.report("Herald.npsResizeMessage",e)}}),e.addEventListener("resize",function(){try{n()}catch(e){l.default.report("Herald.npsResizePopUpEvent",e)}}))},onShownCallback:function(){var e;null!==(e=null===(e=s.popupBackground)||void 0===e?void 0:e.classList)&&void 0!==e&&e.add(s.czInClassName)},onClickCallback:function(e){},onResizeCallback:null},n=a.SURVEY_CONTENT_CONTAINER_STYLES,e.styleConfig.fontFamily&&(n+=".cz-announcement .cz-nps-container .questiontextcontainer .questiontext, .cz-announcement .cz-nps-container .labels table td.left, .cz-announcement .cz-nps-container .labels table td.right{",n+="font-family:"+this.tenantSvc.getUIFontFamilyMappingDisplayValue(e.styleConfig.fontFamily)+" !important;",n+="}"),e.customCss=n,(e=this.frameBuilder.buildInAppContentFrame(e)).style.width="100%",this.showPopUpAnnouncement(e,i?"800px":"640px"),this.popupDiv&&(this.popupDiv.classList.add(this.inAppPopupClass),this.popupDiv.classList.add("nps")))},h.prototype.showWalkthroughPopup=function(e,t,n,i,o,s){var r=this,a=this.windowSvc.createElement("div");a.classList.add(this.walkthroughPopupClass);var c=this.windowSvc.createElement("div");c.classList.add(this.walkthroughPopupContentClass),s.onCloseCallback=function(e){return r.closePopUpAnnouncement(!0,e)};s={stepType:T.WalkthroughStepType.PopUp,content:e,config:t,clickAuditData:n,onResizeCallback:void 0,onShownCallback:function(){var e;null!==(e=null===(e=r.popupBackground)||void 0===e?void 0:e.classList)&&void 0!==e&&e.add(r.czInClassName)},styleConfig:i,sequence:o,metaData:s},s=this.frameBuilder.buildWalkthroughContentFrame(s);s.style.width="100%",c.appendChild(s),a.appendChild(c);t=null!=i&&i.popupWidth?i.popupWidth+"px":t.width;this.showPopUpAnnouncement(a,t),this.popupDiv.classList.add("walk"),this.windowSvc.document.getElementById(u.FRAME_BUILDER_STYLE_ELEMENT_ID_MAPPING.styleOverrides)||((t=this.windowSvc.createElement("style")).id=u.FRAME_BUILDER_STYLE_ELEMENT_ID_MAPPING.styleOverrides,t.setAttribute("type","text/css"),t.innerHTML=".cz-popover{background-color:transparent!important;}",this.windowSvc.document.getElementsByTagName("head")[0].appendChild(t))},h.prototype.showPopUpAnnouncement=function(e,t){this.popupContainer&&(T.CoreUtils.isString(e)?this.popupContainer.innerHTML=e:this.popupContainer.appendChild(e),this.popupContainer.classList.remove("nps")),void 0===t&&(t="340px"),this.popupDiv||this.addPopOverDiv(),this.popupDiv.style.width=t,this.popupDiv.classList.remove("walk",this.inAppPopupClass),this.clearStyles(this.popupDiv,["border-radius","background-color"]),this.windowSvc.czq("#cz_popover .cz-popover-close img").attr("style",""),this.popupDiv.classList.remove("hidden"),this.popupDiv.classList.add("shown"),this.announcementVisible=!0},h.prototype.closePopUpAnnouncement=function(e,t){null!==(n=null===(n=this.popupBackground)||void 0===n?void 0:n.classList)&&void 0!==n&&n.remove(this.czInClassName),null!==(n=null===(n=this.popupDiv)||void 0===n?void 0:n.classList)&&void 0!==n&&n.remove("shown"),null!==(n=null===(n=this.popupDiv)||void 0===n?void 0:n.classList)&&void 0!==n&&n.remove("walk"),null!==(n=null===(n=this.popupDiv)||void 0===n?void 0:n.classList)&&void 0!==n&&n.remove("nps"),null!==(n=null===(n=this.popupDiv)||void 0===n?void 0:n.classList)&&void 0!==n&&n.remove(this.inAppPopupClass),this.clearStyles(this.popupDiv,["border-radius","background-color"]);var n=this.popupContainer;n&&(n.innerHTML=""),this.windowSvc.elementCache.window.off(this.windowSvc.namespaceEvent("resize.popup")),this.announcementVisible=!1,e&&(void 0!==this.currentWalkthroughStep?this.endWalkthroughStep(t,t?"CTA Clicked":"Close Handle Clicked"):this.appSvc.pubsub.publish(T.DevlessEvents.WalkthroughStepPreviewClose))},h.prototype.showTooltip=function(r,a,c,e,l,u,h){var d=this,t=this.windowSvc.findElement(a.selector),p=T.CoreUtils.clone(a);if(!t||0===t.length)return this.closeTooltips(!1,!1),(e=null==e?1:e)<=10?(this.appSvc.debug("[Devless Walkthrough Step Target Not Found. Attempt "+e+"/10]"),void setTimeout(function(){d.showTooltip(r,a,c,++e,l,u,h)},250)):void this.endWalkthroughStep(!1,"Target Not Found");t.each(function(e,t){var n=d.windowSvc.createElement("div");p.wasScrolled=!1,n.classList.add(d.tooltipClass),n.classList.add("cz-click-audit"),n.style.setProperty("visibility","hidden","important");function i(){d.calcTooltipPosition(p,t,n,0===e,l)}var o=d.windowSvc.createElement("div");o.classList.add(d.tooltipContentClass),h.onCloseCallback=function(e){return d.closeTooltips(!0,e)};var s={stepType:T.WalkthroughStepType.Tooltip,content:r,config:a,clickAuditData:c,onResizeCallback:i,onShownCallback:function(){var e;n.style.removeProperty("visibility"),null!==(e=null===(e=n.querySelector("."+d.tooltipTriangleClass))||void 0===e?void 0:e.classList)&&void 0!==e&&e.add(d.czInClassName)},styleConfig:l,sequence:u,metaData:h},s=d.frameBuilder.buildWalkthroughContentFrame(s);o.appendChild(s),null!=l&&l.tooltipWidth&&o.style.setProperty("width",l.tooltipWidth+"px","important"),n.appendChild(o),n.style.setProperty("position","fixed","important"),n.style.opacity="0",n.style.top="0",n.style.left="0",(p.container===T.ContainerType.Parent?t.parentElement:d.windowSvc.elementCache.body.get(0)).appendChild(n),i()})},h.prototype.clearStyles=function(e,t){if(e)for(var n=0;n<t.length;n++)e.style.removeProperty(t[n])},h.prototype.calcTooltipPosition=function(e,t,n,i,o){var s,r=o||{},a=r.borderWidth,c=r.borderColor,o=r.backgroundColor,r=r.ctaBackgroundColor,l=0<(a||0)&&"string"==typeof c,u=l?c:o||e.backgroundColor,h=r||e.ctaBackgroundColor,d=25,p=t.getBoundingClientRect(),f=n.getBoundingClientRect(),m=n.querySelector("."+this.tooltipContentClass).getBoundingClientRect();function g(e){var t,n;switch(e){case T.TooltipPosition.Top:t=s-(d+f.height),n=v+p.width/2-f.width/2;break;case T.TooltipPosition.Bottom:t=s+(d+p.height),n=v+p.width/2-f.width/2;break;case T.TooltipPosition.Left:n=v-(f.width+d),t=s+p.height/2-m.height/2;break;default:T.TooltipPosition.Right;n=v+(p.width+d),t=s+p.height/2-m.height/2}return{top:t,left:n}}var v=e.container===T.ContainerType.Parent?(s=t.offsetTop,t.offsetLeft):(T.ContainerType.Body,s=p.top+this.windowSvc.elementCache.window.scrollTop(),p.left+this.windowSvc.elementCache.window.scrollLeft()),c=g(e.position),o=document.documentElement.scrollWidth-(f.width+d),r=document.documentElement.scrollHeight-(f.height+d),t=e.position;c.left<10&&e.position===T.TooltipPosition.Left&&(t=T.TooltipPosition.Right,c.left=g(t).left,c.left>o&&(c=g(t=T.TooltipPosition.Top)).top<10&&(c=g(t=T.TooltipPosition.Bottom))),c.left>o&&e.position===T.TooltipPosition.Right&&(t=T.TooltipPosition.Left,c.left=g(t).left,c.left<10&&(c=g(t=T.TooltipPosition.Top)).top<10&&(c=g(t=T.TooltipPosition.Bottom))),e.container!==T.ContainerType.Body||e.position!==T.TooltipPosition.Right&&e.position!==T.TooltipPosition.Left||(c.top>r&&(c.top=r),c.top<10&&(c.top=10)),c.top<10&&e.position===T.TooltipPosition.Top&&(t=T.TooltipPosition.Bottom,c.top=g(t).top,c.top>r&&(c=g(t=T.TooltipPosition.Left)).left>o&&(c=g(t=T.TooltipPosition.Right))),c.top>r&&e.position===T.TooltipPosition.Bottom&&(t=T.TooltipPosition.Bottom,c.top=g(t).top,c.top<10&&(c=g(t=T.TooltipPosition.Left)).left>o&&(c=g(t=T.TooltipPosition.Right))),e.container!==T.ContainerType.Body||e.position!==T.TooltipPosition.Top&&e.position!==T.TooltipPosition.Bottom||(c.left>o&&(c.left=o),c.left<10&&(c.left=10)),n.style.setProperty("position","absolute","important"),n.style.opacity="1",n.style.top=c.top+"px",n.style.left=c.left+"px";var y="rgba(0,0,0,0.25)",S=p.top-m.top+p.height/2-15,b=m.width/2-15,C=n.querySelector("."+this.tooltipTriangleClass),w=n.querySelector("."+this.tooltipTriangleInnerClass);C||((C=this.windowSvc.createElement("div")).classList.add(this.tooltipTriangleClass),C.style.setProperty("border-width","15px","important"),(w=this.windowSvc.createElement("div")).classList.add(this.tooltipTriangleInnerClass),w.style.setProperty("border-width","14px","important"),C.appendChild(w),n.appendChild(C));switch(t){case T.TooltipPosition.Top:this.clearStyles(C,["top","right","border-bottom-color"]),C.style.setProperty("border-top-color",y,"important"),C.style.setProperty("bottom","-30px","important"),C.style.setProperty("left",b+"px","important");var E=l?u:h;this.clearStyles(w,["top","right","border-bottom-color"]),w.style.setProperty("border-top-color",E,"important"),w.style.setProperty("bottom","-13px","important"),w.style.setProperty("left","-14px","important");break;case T.TooltipPosition.Right:this.clearStyles(C,["bottom","right","border-left-color"]),C.style.setProperty("border-right-color",y,"important"),C.style.setProperty("left","-30px","important"),C.style.setProperty("top",S+"px","important"),this.clearStyles(w,["bottom","right","border-left-color"]),w.style.setProperty("border-right-color",u,"important"),w.style.setProperty("left","-13px","important"),w.style.setProperty("top","-14px","important");break;case T.TooltipPosition.Bottom:this.clearStyles(C,["bottom","right","border-top-color"]),C.style.setProperty("border-bottom-color",y,"important"),C.style.setProperty("top","-30px","important"),C.style.setProperty("left",b+"px","important"),this.clearStyles(w,["bottom","right","border-top-color"]),w.style.setProperty("border-bottom-color",u,"important"),w.style.setProperty("top","-13px","important"),w.style.setProperty("left","-14px","important");break;case T.TooltipPosition.Left:this.clearStyles(C,["bottom","left","border-right-color"]),C.style.setProperty("border-left-color",y,"important"),C.style.setProperty("right","-30px","important"),C.style.setProperty("top",S+"px","important"),this.clearStyles(w,["bottom","left","border-right-color"]),w.style.setProperty("border-left-color",u,"important"),w.style.setProperty("right","-13px","important"),w.style.setProperty("top","-14px","important")}!i||e.wasScrolled||T.StyleUtils.isInViewport(n)||(n.scrollIntoView(),e.wasScrolled=!0)},h.prototype.closeTooltips=function(e,t){this.windowSvc.elementCache.body.find("."+this.tooltipClass).remove(),e&&(void 0!==this.currentWalkthroughStep?this.endWalkthroughStep(t,t?"CTA Clicked":"Close Handle Clicked"):this.appSvc.pubsub.publish(T.DevlessEvents.WalkthroughStepPreviewClose))},h.prototype.doWalkthroughStep=function(e){this.appSvc.debug("[Devless Walkthrough Starting Step "+e.sequence+"]",e);var t,n={wId:(this.currentWalkthroughStep=e).walkthroughId,sId:e.id};this.currentWalkthrough&&!this.currentWalkthrough.testing&&this.currentWalkthrough.id&&this.currentWalkthroughStep.id&&(t=c.Enums.WalkthroughActionType.StepStarted,this.walkthroughSvc.SendActionMessage(t,this.currentWalkthrough.id,this.currentWalkthroughStep.id));var i=e.styleConfig,o=e.sequence,s=this.currentWalkthrough?{totalSteps:this.currentWalkthrough.steps.length}:{};switch(this.currentWalkthroughCssText&&(s.cssText=this.currentWalkthroughCssText),e.stepTypeId){case T.WalkthroughStepType.PopUp:this.showWalkthroughPopup(e.content||"",e.stepConfig,n,i,o,s);break;case T.WalkthroughStepType.Slider:this.showWalkthroughSlider(e.content||"",e.stepConfig,n,i,o,s);break;case T.WalkthroughStepType.Tooltip:this.showTooltip(e.content||"",e.stepConfig,n,void 0,i,o,s)}},h.prototype.endWalkthroughStep=function(e,t){void 0===e&&(e=!0),this.appSvc.debug("[Devless Walkthrough Ended Step "+this.currentWalkthroughStep.sequence+"]"+(t=t?" : "+t:""),this.currentWalkthroughStep),this.currentWalkthrough&&!this.currentWalkthrough.testing&&this.currentWalkthrough.id&&this.currentWalkthroughStep.id&&(n=e?c.Enums.WalkthroughActionType.StepCompleted:c.Enums.WalkthroughActionType.StepAbandonded,this.walkthroughSvc.SendActionMessage(n,this.currentWalkthrough.id,this.currentWalkthroughStep.id));var t=this.currentWalkthroughStep.sequence+1,n=t<this.currentWalkthrough.steps.length;this.currentWalkthroughStep=void 0,n&&e?this.doWalkthroughStep(this.currentWalkthrough.steps[t]):this.endWalkthrough(!e)},h.prototype.endWalkthrough=function(e){this.appSvc.debug("[Devless Walkthrough "+((e=void 0===e?!1:e)?"Abandoned":"Completed")+"]",this.currentWalkthrough),this.currentWalkthrough&&!this.currentWalkthrough.testing&&this.currentWalkthrough.id&&(e=e?c.Enums.WalkthroughActionType.WalkthroughAbandoned:c.Enums.WalkthroughActionType.WalkthroughCompleted,this.walkthroughSvc.SendActionMessage(e,this.currentWalkthrough.id)),this.currentWalkthrough=void 0,this.currentWalkthroughCssText=void 0,this.frameBuilder.removeWalkthroughStyleElements()},h.prototype.onAdvancedDisplayClose=function(){},h.prototype.addPopOverDiv=function(){var e,t,n;this.popoverDivLoaded=this.popoverDivLoaded||!T.CoreUtils.isNullOrUndefined(this.popupDiv),this.popoverDivLoaded||(e=this.windowSvc.getBodyElement(),t=this.windowSvc.getDocument(),n=this.appSvc.templater.populateTemplate(this.templateCache.popoverContainerTemplate,{}),e.appendChild(T.CoreUtils.createElementFromHTML(t,n)),this.popoverDivLoaded=!0)},h.prototype.checkForLastAdvancedDisplayAnnouncement=function(){for(var e=null,t=this.messageSvc.Announcements.length-1;0<=t;t--){var n=this.messageSvc.Announcements[t];this.messageSvc.isAdvancedDisplayAnnouncement(n)&&(e=null,!1===n.isRead&&(e=n))}e&&this.addAdvancedDisplayAnnouncement(e)},h.getAnnouncementPositionClassFromId=function(e){switch(e){case c.Enums.AnnouncementPosition.SlideBottomCenter:return"bottom-center";case c.Enums.AnnouncementPosition.SlideLeftBottom:return"left-bottom";case c.Enums.AnnouncementPosition.SlideTopLeft:return"top-left";case c.Enums.AnnouncementPosition.SlideTopCenter:return"top-center";case c.Enums.AnnouncementPosition.SlideTopRight:return"top-right";case c.Enums.AnnouncementPosition.SlideBottomLeft:return"bottom-left";case c.Enums.AnnouncementPosition.SlideBottomRight:return"bottom-right";case c.Enums.AnnouncementPosition.SlideLeftTop:return"left-top";case c.Enums.AnnouncementPosition.SlideLeftCenter:return"left-center";case c.Enums.AnnouncementPosition.SlideRightTop:return"right-top";case c.Enums.AnnouncementPosition.SlideRightCenter:return"right-center";case c.Enums.AnnouncementPosition.SlideRightBottom:return"right-bottom";default:return"bottom-center"}},h.prototype.generateSurveyButtons=function(n){var i=this;if(n&&n.buttons){var o=-1===n.responseUrl.indexOf("?")?"?value=":"&value=";return n.buttons.map(function(e){var t="";return e.color&&(t+="background-color: "+e.color+"!important;"),n.wide&&(t+="min-width: 100% !important;"),i.appSvc.templater.populateTemplate(i.templateCache.announcementSurveyButtonTemplate,{Style:t,TextStyle:e.color?"color: #fff!important":"",Url:n.responseUrl+o+e.score,Label:i.formatSurveyButtonLabel(e.label),Wide:n.wide})}).join(n.wide?"":this.templateCache.announcementSurveyButtonSpacerTemplate)}},h.prototype.formatSurveyButtonLabel=function(e){return e.replace(/cz-survey-face far fa-/g,"cz-survey-face-")},h.prototype.generateDefaultNpsButtons=function(n){var i=this,o=-1===n.responseUrl.indexOf("?")?"?value=":"&value=";return s([],Array(11),!0).map(function(e,t){return i.appSvc.templater.populateTemplate(i.templateCache.announcementSurveyButtonTemplate,{Style:"",TextStyle:"",Url:n.responseUrl+o+t,Label:i.formatSurveyButtonLabel(t.toString()),Wide:n.wide})}).join(this.templateCache.announcementSurveyButtonSpacerTemplate)},h.prototype.CheckForWalkthroughAnchors=function(){var e;this.sessionSvc.DevlessPanelEnabled||(e=this.walkthroughSvc.GetAnchorWalkthroughs())&&e.length&&e.forEach(this.setupWalkthroughAnchor)},h.prototype.setupWalkthroughAnchor=function(t,n){var i=this,o=this.generateWalkthroughAnchorId(t),s=t.triggerConfig,r=this.windowSvc.document.getElementById(o),e=T.CoreUtils.Urls.checkUrlAgainstPageTag(this.windowSvc.href(),t.pageTag);if(e&&!r){if(t.recurrence||!t.id||-1===this.seenWalkthroughIds.indexOf(t.id)){var a=this.windowSvc.document.querySelector(s.targetSelector);if(a){try{if(!(g=a.getBoundingClientRect())||!g.height||!g.width)return void this.appSvc.debug("[Devless Walkthrough Anchor target not visible - bailing on walkthrough setup]",s.targetSelector)}catch(e){return}var c=a.parentElement,l={triggerConfig:s,walkthroughStyleConfig:T.ModelUtils.create(new T.WalkthroughStyleConfig,v(v({},this.walkthroughSvc.walkthroughStyleConfig),t.styleConfig)),onClickCallback:function(e){i.appSvc.debug("[Devless Walkthrough Anchor clicked]",o),i.onStartWalkthrough(t,n),t.recurrence||(i.appSvc.debug("[Devless Walkthrough Anchor onetime use - removing]",o),i.removeAnchorFrame(r))},onLoadCallback:function(e){var t=i.calcAnchorPosition(s,a);r.style.top=t.top,r.style.left=t.left},onResizeCallback:function(){},cssLinks:[this.appSvc.addCdn("css/in_frame_anchor.css")],customCss:this.sessionSvc.CurrentAccountContent.css};l.testing=t.testing,(r=this.frameBuilder.buildWalkthroughAnchorFrame(l)).id=o,this.anchorFrames.push({anchorFrame:r,anchorFrameConfig:l,target:a});var u,h,d,p,f,m,l=void 0;s.iconStyleConfig.displayTypeId===T.AnchorDisplayType.OnlyOnHover&&c&&(r.style.display="none",u=function(e){r&&(r.style.display="inline-block",m&&(i.windowSvc.window.clearTimeout(m),m=void 0),d&&r.removeEventListener("mouseenter",d),d=function(e){h=r,f&&(i.windowSvc.window.clearTimeout(f),f=void 0),p&&r.removeEventListener("mouseleave",p),p=function(e){h=void 0,r.removeEventListener("mouseleave",p),m=i.windowSvc.window.setTimeout(function(){r.style.display="none",r.removeEventListener("mouseenter",d)},250)},r.addEventListener("mouseleave",p)},r.addEventListener("mouseenter",d))},l=function(e){f=i.windowSvc.window.setTimeout(function(){r&&h!=r&&(r.style.display="none",r.removeEventListener("mouseenter",d))},100)},c.addEventListener("mouseenter",u),c.addEventListener("mouseleave",l));(s.containerType===T.ContainerType.Parent&&c?c:this.windowSvc.elementCache.body.get(0)).appendChild(r),this.appSvc.debug("[Devless Walkthrough Anchor - adding to the page]",o)}else this.appSvc.debug("[Devless Walkthrough Anchor target not found - bailing on walkthrough setup]",s.targetSelector)}}else if(e&&r){var g,c=this.windowSvc.document.querySelector(s.targetSelector);if(!c)return this.removeAnchorFrame(r),void this.appSvc.debug("[Devless Walkthrough Anchor no longer applicable (no target) - removing]",o);(!(g=c.getBoundingClientRect())||!g.height||!g.width)&&(this.removeAnchorFrame(r),this.appSvc.debug("[Devless Walkthrough Anchor no longer applicable (target has no size) - removing]",o))}else!e&&r&&(this.removeAnchorFrame(r),this.appSvc.debug("[Devless Walkthrough Anchor no longer applicable (incorrect pagetag) - removing]",o))},h.prototype.generateWalkthroughAnchorId=function(e){return"cz-wa-"+e.id},h.prototype.calcAnchorPosition=function(e,t){var n,i,o,s,r,a=t.getBoundingClientRect(),c=1.5*e.iconStyleConfig.size,l=this.windowSvc.elementCache.window.scrollTop(),u=this.windowSvc.elementCache.window.scrollLeft(),h=e.containerType===T.ContainerType.Parent?(i=(n=t.offsetTop)+a.height,(o=t.offsetLeft)+a.width):(n=a.top+l,i=a.bottom+l,o=a.left+u,a.right+u);switch(e.iconStyleConfig.positionTypeId){case T.AnchorPositionType.Top:s=n-c,r=o+a.width/2-c/2;break;case T.AnchorPositionType.TopRight:s=n-c,r=h;break;case T.AnchorPositionType.Right:s=n+a.height/2-c/2,r=h;break;case T.AnchorPositionType.BottomRight:s=i,r=h;break;case T.AnchorPositionType.Bottom:s=i,r=o+a.width/2-c/2;break;case T.AnchorPositionType.BottomLeft:s=i,r=o-c;break;case T.AnchorPositionType.Left:s=n+a.height/2-c/2,r=o-c;break;case T.AnchorPositionType.TopLeft:s=n-c,r=o-c}e=e.iconStyleConfig.offset||{top:0,left:0};return e.top&&(s+=-1*parseInt(e.top.toString())),e.left&&(r+=parseInt(e.left.toString())),{top:s+"px",left:r+"px"}},h.prototype.onWindowResizeForAnchors=function(){for(var e,t,n,i=0;i<this.anchorFrames.length;i++)this.anchorFrames[i]&&(e=(n=this.anchorFrames[i]).anchorFrame,t=n.anchorFrameConfig,n=n.target,n=this.calcAnchorPosition(t.triggerConfig,n),e.style.top=n.top,e.style.left=n.left)},h.prototype.clearAllAnchors=function(){for(var e,t=this.windowSvc.getBodyElement().querySelectorAll(".cz-walk-anchor-frame"),n=0;n<t.length;n++)null!==(e=null===(e=t[n])||void 0===e?void 0:e.parentElement)&&void 0!==e&&e.removeChild(t[n]);this.anchorFrames=[]},h);function h(e,t,n,i,o,s,r,a){var c=this;this.appSvc=e,this.tenantSvc=t,this.sessionSvc=n,this.messageSvc=i,this.walkthroughSvc=o,this.windowSvc=s,this.commSvc=r,this.templateCache=a,this.subIds={},this.seenWalkthroughIds=[],this.lastShownAnnouncementDate=null,this.currentWalkthrough=void 0,this.currentWalkthroughStep=void 0,this.currentWalkthroughCssText=void 0,this.walkthroughPopupClass="cz-walk-popup",this.walkthroughPopupContentClass="cz-walk-popup-content",this.inAppPopupClass="cz-in-app-popup",this.inAppPopupContentClass="cz-in-app-popup-content",this.walkthroughSliderClass="cz-walk-slider",this.walkthroughSliderContainerClass="cz-walk-slider-container",this.walkthroughSliderContentClass="cz-walk-slider-content",this.tooltipClass="cz-walk-tooltip-container",this.tooltipContentClass="cz-walk-tooltip-container-content",this.tooltipTriangleClass="cz-tooltip-triangle",this.tooltipTriangleInnerClass="cz-tooltip-triangle-inner",this.overAnnouncementiFrame=-1,this.overWalkthroughiFrame=-1,this.anchorFrames=[],this.defaultTestMessageContent="<p><em>This is a test message</em></p>",this.surveyLinkHash="#surveyLink",this.czInClassName="cz-in",this.onCustomSurveyClick=function(e){if(!e.target||e.target.hash!==c.surveyLinkHash)return!0;try{var t=e.target,n=T.CoreUtils.closest(t,".cz-announcement"),i=n.getAttribute("data-nps-url"),o="true"===(n.getAttribute("data-show-new-window")||"").toLowerCase(),s="true"===(n.getAttribute("data-nps-wide")||"").toLowerCase(),r=c.messageSvc.GetAnnouncementFromAnnouncementHtml(n);c.closeSlider(),c.showSurveyPopup(i,o,!1,s,r)}catch(e){l.default.report("Herald.npsClickEvent",e)}},this.onStandardSurveyClick=function(e){e=e.target;if(e.classList.contains("cz-nps-click")||void 0!==(e=T.CoreUtils.closest(e,".cz-nps-click")))try{var t=e.getAttribute("data-nps-url"),n="true"===(e.getAttribute("data-nps-wide")||"").toLowerCase(),i="true"===(e.getAttribute("data-show-new-window")||"").toLowerCase(),o="true"===(T.CoreUtils.closest(e,".cz-announcement").getAttribute("data-info-message")||"true").toLowerCase(),s=c.messageSvc.GetAnnouncementFromAnnouncementHtml(e);c.closeSlider(),c.showSurveyPopup(t,i,o,n,s)}catch(e){l.default.report("Herald.npsClickEvent",e)}},this.onStartWalkthrough=this.onStartWalkthrough.bind(this),this.TestAnnouncement=this.TestAnnouncement.bind(this),this.UpdateAnnouncement=this.UpdateAnnouncement.bind(this),this.HideAnyAnnouncement=this.HideAnyAnnouncement.bind(this),this.AnnouncementLinkClickHandler=this.AnnouncementLinkClickHandler.bind(this),this.CloseSliderClickHandler=this.CloseSliderClickHandler.bind(this),this.ShowNPSClickHandler=this.ShowNPSClickHandler.bind(this),this.CompletelyAbandonAnyCurrentWalkthrough=this.CompletelyAbandonAnyCurrentWalkthrough.bind(this),this.setupWalkthroughAnchor=this.setupWalkthroughAnchor.bind(this),this.onWindowResizeForAnchors=this.onWindowResizeForAnchors.bind(this),this.frameBuilder=new u.FrameBuilder(s,n,t),this.onInit()}exports.default=t},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FRAME_BUILDER_STYLE_ELEMENT_ID_MAPPING=exports.FrameBuilder=void 0;var I=t(0),g=t(31),E=t(29),T=t(2),A=t(30),k={popupStyle:"cz-walkthrough-popup-styles",sliderStyle:"cz-walkthrough-slider-styles",tooltipStyle:"cz-walkthrough-tooltip-styles",styleOverrides:"cz-walkthrough-style-overrides",inAppStyle:"cz-in-app-announcement-styles"};exports.FRAME_BUILDER_STYLE_ELEMENT_ID_MAPPING=k;var P="cz_in_app_content_body",L="cz_walkthrough_anchor_content_body",C="cz_walkthrough_content_body",t=(n.prototype.buildSurveyContentFrame=function(e,t){return'<iframe id="cz_nps_frame" src="'+(e=this.windowSvc.clientSideUrls.baseApiUrl+e)+'" width="100%" height="100%" data-info-message="'+t+'"  frameborder="0"></iframe>'},n.prototype.buildInAppContentFrame=function(e){var t=e.clickAuditData,n=e.styleConfig,i=this.windowSvc.createElement("iframe");i.style.margin="0",i.style.padding="0",i.style.border="none",i.style.display="block",i.style.width="100%",i.style.maxWidth="100%";var o=I.iFrameUtils.buildTransportMessage(I.TransportCodes.AnnouncementFrameComm,t),s=I.StyleUtils.froalaViewerStyle;this.sessionSvc.CurrentAccountContent&&this.sessionSvc.CurrentAccountContent.css&&(s+=this.sessionSvc.CurrentAccountContent.css);var r=null==n?void 0:n.fontFamily,a=n||{},c=a.fontSize,l=a.fontColor,u=a.textAlignment,n="",a="popup";return r&&(n+="font-family:"+this.tenantSvc.getUIFontFamilyMappingDisplayValue(r)+";"),"number"==typeof c&&(n+="font-size:"+c+"px;"),l&&(n+="color:"+l+";"),u&&(n+="text-align:"+u+";"),e.type===T.Enums.AnnouncementElementType.Slider&&(a="slider",n+="overflow:auto;"),s+="#"+P+"{"+n+"}p{margin: 0 0 1rem 0;}",s+=g.IN_APP_CONTENT_CONTAINER_STYLES,i.classList.add("cz-in-app-content-frame"),i.classList.add(a),i.addEventListener("load",this.getInAppContentIFrameLoadFunc(e,o,[s,e.customCss])),i.setAttribute("data-message-id",null===(t=null==t?void 0:t.id)||void 0===t?void 0:t.toString()),i},n.prototype.getInAppContentIFrameLoadFunc=function(e,h,d){function p(e){"cz-close-in-app"===e.target.className&&"function"==typeof t?t():n&&"function"==typeof n&&n(e)}var f=this,m=e.styleConfig,g=e.content,v=e.width,y=e.type,S=e.position,b=e.onResizeCallback,C=e.onShownCallback,w=e.onLoadCallback,t=e.onCloseCallback,n=e.onClickCallback;return function(e){var t=e.target;t.contentDocument.write(f.blankHtmlDocString);var n=t.contentWindow,i=n.document,o=i.body,s=i.createElement("section"),r=i.createElement("div");o.style.margin="0",o.style.padding="0",o.id=P,r.className="cz-in-app-content-container",r.innerHTML=g,"right"===m.textAlignment&&(r.style.paddingRight="30px"),s.className="cz-in-app-page-container",s.innerHTML='<span class="cz-close-in-app">&#x2716;</span>';var a,e=A.DOMUtils.isFeatureSupported(n,"ResizeObserver");e&&((a=I.iFrameUtils.getFrameResizeObserver(t,C,b)).observe(s),i.defaultView.addEventListener("unload",function(){a.disconnect()})),s.appendChild(r),s.addEventListener("click",p),o.appendChild(s),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){return I.CoreUtils.closest(this,e)});for(var c,l="string"==typeof d?[d]:d,u=0;u<l.length;u++)l[u]&&((c=i.createElement("style")).setAttribute("type","text/css"),c.textContent=l[u],i.head.appendChild(c));f.addUIFontFamilyCssRequestUrl(i,m,!1);r={};y===T.Enums.AnnouncementElementType.Slider&&(r.position=S),f.addAnnouncementStyleProperties(t,t,k.inAppStyle,m,T.Enums.FrameType.InAppAnnouncement,r);r=o.querySelectorAll(".fr-video"),o=v||(y===T.Enums.AnnouncementElementType.Popup?I.StyleConfigPopUpWidth:I.StyleConfigSliderWidth).Small;f.fixVideoElementsFromFroala(r,o),E.FrameCommUtil.setUpLinkAuditEvents(n,h),E.FrameCommUtil.setUpVideoAuditEvents(n,h),e||(t=I.iFrameUtils.setFrameHeightBySourceAtInterval(s,t,200,C,b),i.defaultView.addEventListener("unload",t)),i.defaultView.addEventListener("unload",function(){s.removeEventListener("click",p)}),null!=w&&w(n)}},n.prototype.buildWalkthroughAnchorFrame=function(e){var t=e.triggerConfig,n=e.walkthroughStyleConfig,i=this.windowSvc.createElement("iframe");i.style.margin="0",i.style.padding="0",i.style.border="none",i.style.display="block",i.style.width=1.5*t.iconStyleConfig.size+"px",i.style.height=1.5*t.iconStyleConfig.size+"px",i.style.position="absolute",i.style.zIndex=(t.iconStyleConfig.zIndex||n.anchorZIndex||"999997").toString();n=I.StyleUtils.froalaViewerStyle;return this.sessionSvc.CurrentAccountContent&&this.sessionSvc.CurrentAccountContent.css&&(n+=this.sessionSvc.CurrentAccountContent.css),n+=g.IN_APP_CONTENT_CONTAINER_STYLES,i.classList.add("cz-walk-anchor-frame"),i.addEventListener("load",this.getWalkthroughAnchorIFrameLoadFunc(e,[n,e.customCss],e.cssLinks)),i},n.prototype.getWalkthroughAnchorIFrameLoadFunc=function(E,T,A){function k(e){t&&"function"==typeof t&&t(e)}var P=this,_=E.walkthroughStyleConfig,t=E.onClickCallback;return function(e){var c=e.target;c.contentDocument.write(P.blankHtmlDocString);var t=c.contentWindow,l=t.document,u=l.body,n=l.createElement("section"),i=l.createElement("div");u.style.margin="0",u.style.padding="0",u.id=L;e=(null==_?void 0:_.fontFamily)||_.fontFamily;e&&(e=P.tenantSvc.getUIFontFamilyMappingDisplayValue(e),u.style.fontFamily=e),i.className="cz-in-app-anchor-container";var h=1.5*E.triggerConfig.iconStyleConfig.size,d=P.generateAnchor(t,E.triggerConfig,i);i.appendChild(d);function o(){if(null!==(s=null===(o=null==E?void 0:E.triggerConfig)||void 0===o?void 0:o.iconStyleConfig)&&void 0!==s&&s.hoverTextEnabled){var e=l.querySelector("p.cz-tool-tip__info"),t=l.querySelector("span.cz-tool-tip__arrow"),n=getComputedStyle(e),i=parseInt(n.marginLeft),o=parseInt(n.marginRight),s=parseInt(n.marginTop),n=parseInt(n.marginBottom);g=e.offsetWidth+i+o,v=e.offsetHeight+s+n,(y=h<g?g:h)%2!=0&&y++,(S=h<v?v:h)%2!=0&&S++,d.style.position="absolute",t.style.display="block";var r=parseFloat(c.style.top),a=parseFloat(c.style.left);switch(E.triggerConfig.iconStyleConfig.hoverTextPositionId){case I.AnchorHoverTextPosition.Right:p=(S-h)/2,c.style.top=r-p+m,c.style.width=h+y+10+m,c.style.height=S+m,u.style.width=h+y+10+m,u.style.height=S+m,d.style.top=p+m,e.style.top=h/2-v/2+m,e.style.left=10+h+m,t.style.top=h/2-10+m,t.style.left=h-10+m;break;case I.AnchorHoverTextPosition.Bottom:f=(y-h)/2,c.style.width=y+m,c.style.height=h+S+10+m,c.style.left=a-f+m,u.style.width=y+m,u.style.height=h+S+10+m,d.style.top="0",d.style.bottom="auto",d.style.left=f+m,e.style.top=10+h+m,e.style.left=h/2-y/2+m,t.style.top=h-10+m,t.style.right=h/2-10+m;break;case I.AnchorHoverTextPosition.Left:p=(S-h)/2,f=y+10,c.style.width=h+y+10+m,c.style.height=h+S+m,c.style.top=r-p+m,c.style.left=a-f+m,u.style.width=h+y+10+m,u.style.height=h+S+m,d.style.top=p+m,d.style.bottom="auto",d.style.left=f+m,e.style.top=h/2-v/2+m,e.style.right=10+h+m,t.style.top=h/2-10+m,t.style.right=h-10+m;break;case I.AnchorHoverTextPosition.Top:p=S+10,f=(y-h)/2,c.style.top=r-p+m,c.style.left=a-f+m,c.style.height=h+S+10+m,c.style.width=y+m,u.style.height=h+S+10+m,u.style.width=y+m,d.style.top=p+m,d.style.left=f+m,e.style.top=-v-10+m,e.style.bottom="auto",e.style.left=h/2-y/2+m,t.style.top="-10px",t.style.right=h/2-10+m}}}function s(){var e;if(null!==(e=null===(e=null==E?void 0:E.triggerConfig)||void 0===e?void 0:e.iconStyleConfig)&&void 0!==e&&e.hoverTextEnabled&&!window.leaveTooltipOpen){c.style.width=h+m,c.style.height=h+m,u.style.height=h+m,u.style.width=h+m,d.style.top="0",d.style.left="0",d.style.right="auto",d.style.bottom="auto";var t=parseFloat(c.style.top),n=parseFloat(c.style.left);switch(E.triggerConfig.iconStyleConfig.hoverTextPositionId){case I.AnchorHoverTextPosition.Top:c.style.top=t+p+m,c.style.left=n+f+m;break;case I.AnchorHoverTextPosition.Bottom:c.style.left=n+f+m;break;case I.AnchorHoverTextPosition.Left:c.style.top=t+p+m,c.style.left=n+f+m;break;case I.AnchorHoverTextPosition.Right:c.style.top=t+p+m}}}var p,f,m="px",g=0,v=0,y=0,S=0;d.addEventListener("mouseenter",o),d.addEventListener("mouseleave",s),n.appendChild(i),n.addEventListener("click",k),u.appendChild(n),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){return I.CoreUtils.closest(this,e)});for(var r="string"==typeof A?[A]:A||[],a=0;a<r.length;a++)r[a]&&((b=l.createElement("link")).setAttribute("type","text/css"),b.href=r[a],b.rel="stylesheet",l.head.appendChild(b));for(var b,C,w="string"==typeof T?[T]:T||[],a=0;a<w.length;a++)w[a]&&((b=l.createElement("style")).setAttribute("type","text/css"),b.textContent=w[a],l.head.appendChild(b));P.addUIFontFamilyCssRequestUrl(l,_,E&&E.testing),l.defaultView.onunload=function(){n.removeEventListener("click",k),d.removeEventListener("mouseenter",o),d.removeEventListener("mouseleave",s)},E.onLoadCallback&&"function"==typeof E.onLoadCallback&&(E.onLoadCallback(t),t.addEventListener("resize",function(){E.onResizeCallback&&"function"==typeof E.onResizeCallback&&(C&&P.windowSvc.window.clearTimeout(C),C=P.windowSvc.window.setTimeout(function(){E.onResizeCallback(t)},10))}))}},n.prototype.generateAnchor=function(e,t,n){var i=this.windowSvc.createElement("span"),o=1.5*t.iconStyleConfig.size;i.classList.add("cz-walkthrough-anchor"),i.style.display="inline-block",i.style.textAlign="center",i.style.cursor="pointer",i.style.zIndex="1000002",i.style.top="0",i.style.left="0",i.style.bottom="auto",i.style.right="auto",i.style.height=o+"px",i.style.width=o+"px",i.style.borderRadius=t.iconStyleConfig.size+"px",i.style.fontSize=t.iconStyleConfig.size+"px",i.style.color=t.iconStyleConfig.iconColor,i.style.backgroundColor=t.iconStyleConfig.iconBackgroundColor;var s=this.windowSvc.createElement("i");s.classList.add("czi"),s.classList.add(t.iconType),s.style.zIndex="1000002",s.style.display="inline-block",s.style.position="absolute",s.style.height=t.iconStyleConfig.size+"px",s.style.width=t.iconStyleConfig.size+"px",s.style.top=(o-t.iconStyleConfig.size)/2+"px";o=(o-t.iconStyleConfig.size)/2;if("czi-play"===t.iconType&&(o+=.25*t.iconStyleConfig.size/2),s.style.left=o+"px",i.appendChild(s),t.iconStyleConfig.hoverTextEnabled){s=this.windowSvc.createElement("p");s.style.fontSize="12px",s.style.color=t.iconStyleConfig.hoverTextColor,s.style.backgroundColor=t.iconStyleConfig.hoverTextBackgroundColor,s.style.borderColor=t.iconStyleConfig.hoverTextBackgroundColor,s.innerText=t.iconStyleConfig.hoverText,s.classList.add("cz-tool-tip__info");var r=this.windowSvc.createElement("span");r.classList.add("cz-tool-tip__arrow"),r.style.display="none";var a=void 0;switch(t.iconStyleConfig.hoverTextPositionId){case I.AnchorHoverTextPosition.Left:a="cz-tool-tip__left",r.style.borderLeftColor=t.iconStyleConfig.hoverTextBackgroundColor;break;case I.AnchorHoverTextPosition.Bottom:a="cz-tool-tip__bottom",r.style.borderBottomColor=t.iconStyleConfig.hoverTextBackgroundColor;break;case I.AnchorHoverTextPosition.Right:a="cz-tool-tip__right",r.style.borderRightColor=t.iconStyleConfig.hoverTextBackgroundColor;break;case I.AnchorHoverTextPosition.Top:a="cz-tool-tip__top",r.style.borderTopColor=t.iconStyleConfig.hoverTextBackgroundColor}s.classList.add(a),i.appendChild(s),i.appendChild(r)}return i},n.prototype.buildWalkthroughContentFrame=function(e){var t=e.stepType,n=e.content,i=e.config,o=e.clickAuditData,s=e.onResizeCallback,r=e.onShownCallback,a=e.styleConfig,c=e.sequence,l=e.metaData,u=this.windowSvc.createElement("iframe");u.style.margin="0",u.style.padding="0",u.style.border="none",u.style.display="block",u.style.width="100%",u.style.maxWidth="100%";var h=I.iFrameUtils.buildTransportMessage(I.TransportCodes.WalkthroughClickAudit,o),d=I.StyleUtils.froalaViewerStyle;this.sessionSvc.CurrentAccountContent&&this.sessionSvc.CurrentAccountContent.css&&(d+=this.sessionSvc.CurrentAccountContent.css);var p=(null==a?void 0:a.fontFamily)||i.fontFamily,f=a||{},m=f.fontSize,e=f.fontColor,o=f.textAlignment,f="";p&&(f+="font-family:"+this.tenantSvc.getUIFontFamilyMappingDisplayValue(p)+";"),"number"==typeof m&&(f+="font-size:"+m+"px;"),e&&(f+="color:"+e+";"),o&&(f+="text-align:"+o+";"),I.WalkthroughStepType.Slider,d+="body{"+f+"}p{margin: 0 0 1rem 0;}",d+=g.WT_CONTENT_CONTAINER_STYLES,d+=g.WT_CTA_CONTAINER_STYLES,d+=g.WT_STEP_NUMBER_STYLES,d+=g.WT_POPUP_STYLES;f=null==a?void 0:a.ctaButtonHoverColor;f&&(d+=".cz-walk-cta-button:hover{background-color:"+f+"!important;border-color:"+f+"!important;}"),null!=l&&l.cssText&&(d+=null==l?void 0:l.cssText);l={stepType:t,config:i,styleConfig:a,content:n,customCss:d,transportPod:h,sequence:c,totalSteps:null==l?void 0:l.totalSteps,onCloseCallback:null==l?void 0:l.onCloseCallback};return t===I.WalkthroughStepType.Slider&&u.classList.add("slider"),u.classList.add("cz-walk-content-frame"),u.addEventListener("load",this.getWalkthroughContentIFrameLoadFunc(l,s,r)),u},n.prototype.getWalkthroughContentIFrameLoadFunc=function(l,u,h){function d(e){var t=e.target.className;((e=t===p.callToActionButtonClass)||"cz-close-walk"===t)&&n&&"function"==typeof n&&n(e)}var p=this,f=l.stepType,m=l.config,g=l.styleConfig,v=l.sequence,y=l.totalSteps,n=l.onCloseCallback,S=void 0,b=I.StyleConfigPopUpWidth.Small;switch(f){case I.WalkthroughStepType.PopUp:S="popup";break;case I.WalkthroughStepType.Slider:S="slider",b=I.StyleConfigSliderWidth.Small;break;case I.WalkthroughStepType.Tooltip:S="tooltip",b=I.StyleConfigTooltipWidth.Small}return function(e){var t=e.target,n=t.contentWindow,i=n.document,o=i.body,s=i.createElement("section"),r=i.createElement("div");o.style.margin="0",o.style.padding="0",o.id=C,r.className="cz-walk-content-container",m.testing&&r.classList.add("cz-walk-content-preview"),r.innerHTML=l.content,p.setContentContainerHorizontalPadding(r,g);var a=p.buildCTAContainer(m,!1,g);s.className="cz-walk-page-container",s.innerHTML=null!=g&&g.shouldHideClose?"":'<span class="cz-close-walk">&#x2716;</span>';var c,e=A.DOMUtils.isFeatureSupported(n,"ResizeObserver");e&&((c=I.iFrameUtils.getFrameResizeObserver(t,h,u)).observe(s),i.defaultView.addEventListener("unload",function(){c.disconnect()})),s.appendChild(r),s.appendChild(a),s.addEventListener("click",d),p.appendWalkthroughStepNumber(s,g,v,y),p.addStepNumberContainerClassName(s,g),o.appendChild(s),S&&o.classList.add(S),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){return I.CoreUtils.closest(this,e)});a=i.createElement("style");a.setAttribute("type","text/css"),a.textContent=l.customCss,i.head.appendChild(a),p.addUIFontFamilyCssRequestUrl(i,g,m&&m.testing),p.addWalkthroughStyleProperties(t,m,f,g,s);a=o.querySelectorAll(".fr-video");p.fixVideoElementsFromFroala(a,b);o=o.querySelectorAll(".fr-fic");p.fixImageElementsFromFroala(o),E.FrameCommUtil.setUpLinkAuditEvents(n,null==l?void 0:l.transportPod),E.FrameCommUtil.setUpVideoAuditEvents(n,null==l?void 0:l.transportPod),e||(t=I.iFrameUtils.setFrameHeightBySourceAtInterval(s,t,200,h,u),i.defaultView.addEventListener("unload",t)),i.defaultView.addEventListener("unload",function(){s.removeEventListener("click",d)})}},n.prototype.removeWalkthroughStyleElements=function(){for(var e in k)I.CoreUtils.hasOwnProp(k,e)&&((e=this.windowSvc.document.getElementById(k[e]))&&e.parentNode&&e.parentNode.removeChild(e))},n.prototype.getWalkthroughStyleProperties=function(e,t){var n=("number"==typeof(null==t?void 0:t.borderRadius)?t:e).borderRadius,i="number"==typeof(null==t?void 0:t.borderWidth)?t.borderWidth:0;return{backgroundColor:(null==t?void 0:t.backgroundColor)||e.backgroundColor||"",closeColor:(null==t?void 0:t.closeColor)||e.closeColor,closeHoverColor:null==t?void 0:t.closeHoverColor,borderRadius:n,borderColor:null==t?void 0:t.borderColor,borderWidth:i,shouldHideClose:null==t?void 0:t.shouldHideClose,textAlign:null==t?void 0:t.textAlignment,shouldShowStepNumber:null==t?void 0:t.shouldShowStepNumber,stepNumberPosition:null==t?void 0:t.stepNumberPosition,stepNumberColor:null==t?void 0:t.stepNumberColor}},n.prototype.buildCTAContainer=function(e,t,n){var i=(null==n?void 0:n.ctaText)||e.ctaText,o=null==n?void 0:n.ctaFontSize,s=null==n?void 0:n.ctaFontFamily,r=(null==n?void 0:n.ctaAlignment)||e.ctaAlignment,a=(null==n?void 0:n.ctaBackgroundColor)||e.ctaBackgroundColor,c=(null==n?void 0:n.ctaTextColor)||e.ctaTextColor,l=(null==n?void 0:n.borderRadius)||e.borderRadius,u=(null==n?void 0:n.ctaButtonColor)||e.ctaButtonColor,e=null==n?void 0:n.ctaButtonBorderColor,n=this.windowSvc.createElement("div");n.classList.add(this.callToActionContainerClass),n.style.textAlign=r||"center";r=this.windowSvc.createElement("button");return r.classList.add(this.callToActionButtonClass),r.style.backgroundColor=u||"#FFFFFF",r.style.borderColor=e||u||"#FFFFFF",r.style.color=c||"#FFFFFF",r.textContent=i||"Got it!","number"==typeof o&&(r.style.fontSize=o+"px"),s&&(r.style.fontFamily=this.tenantSvc.getUIFontFamilyMappingDisplayValue(s)),n.appendChild(r),n.style.borderColor=a||"white",n.style.borderTopColor="transparent",n.style.backgroundColor=a||"white",t&&!I.CoreUtils.isNullOrUndefined(l)&&(n.style.borderTopLeftRadius="0",n.style.borderTopRightRadius="0",n.style.borderBottomLeftRadius=l+"px",n.style.borderBottomRightRadius=l+"px"),n},n.prototype.appendWalkthroughStepNumber=function(e,t,n,i){var o=t||{},s=o.shouldShowStepNumber,t=o.stepNumberPosition,o=o.stepNumberColor;if(s&&o){var r=this.windowSvc.createElement("span"),n=(n||0)+1;switch(r.className="cz-walk-step-number",r.innerHTML=n+" / "+(i||n),r.style.setProperty("color",o,"important"),t){case I.StepNumberPosition.TopCenter:r.classList.add("top-center");break;case I.StepNumberPosition.TopRight:r.classList.add("top-right");break;case I.StepNumberPosition.BottomLeft:r.classList.add("bottom-left");break;case I.StepNumberPosition.BottomCenter:r.classList.add("bottom-center");break;case I.StepNumberPosition.BottomRight:r.classList.add("bottom-right");break;default:r.classList.add("top-left")}e.appendChild(r)}},n.prototype.addStepNumberContainerClassName=function(e,t){var n=t||{},i=n.shouldShowStepNumber,t=n.stepNumberColor,o=n.stepNumberPosition;if(!(!i||!t))switch(o){case I.StepNumberPosition.BottomCenter:case I.StepNumberPosition.BottomLeft:case I.StepNumberPosition.BottomRight:e.classList.add("has-bottom-step-number");break;case I.StepNumberPosition.TopLeft:case I.StepNumberPosition.TopCenter:case I.StepNumberPosition.TopRight:e.classList.add("has-top-step-number"),o===I.StepNumberPosition.TopRight&&e.classList.add("has-top-right-step-number")}},n.prototype.addWalkthroughStyleProperties=function(e,t,n,i,o){var s=this.getWalkthroughStyleProperties(t,i),r="";switch(n){case I.WalkthroughStepType.PopUp:r=k.popupStyle;break;case I.WalkthroughStepType.Slider:r=k.sliderStyle;break;case I.WalkthroughStepType.Tooltip:r=k.tooltipStyle;break;default:throw new Error("addWalkthroughStyleProperties: Unknown WalkThroughElementType!")}i={position:void 0};n===I.WalkthroughStepType.Slider&&(i.position=t.position),this.addAnnouncementStyleProperties(e,e,r,s,T.Enums.FrameType.WalkThrough,i)},n.prototype.addAnnouncementStyleProperties=function(e,t,n,i,o,s){var r=i.backgroundColor,a=i.closeColor,c=i.closeHoverColor,l=i.borderRadius,u=i.borderWidth,h=i.borderColor,d="number"==typeof l,p=!1,i=document.getElementById(n);i||(p=!0,(i=this.windowSvc.createElement("style")).id=n,i.setAttribute("type","text/css"));o=o===T.Enums.FrameType.InAppAnnouncement?".cz-close-in-app":".cz-close-walk";a&&(i.innerText+=o+"{text-shadow:0 0 0 "+a+"}"),c&&(i.innerText+=o+":hover{text-shadow:0 0 0 "+c+"}"),t.style.setProperty("background-color",r,"important"),"number"==typeof u&&h&&(t.style.border=u+"px solid "+h),d&&(e.style.setProperty("border-radius",l+"px"),I.CoreUtils.hasOwnProp(s,"position")&&this.setSliderBorderRadiusStyles(s.position,e)),p&&e.contentDocument.getElementsByTagName("head")[0].appendChild(i)},n.prototype.setSliderBorderRadiusStyles=function(e,t){switch(e){case I.AnnouncementPosition.SlideTopLeft:case I.AnnouncementPosition.SlideTopCenter:case I.AnnouncementPosition.SlideTopRight:t.style.borderTopLeftRadius="0px",t.style.borderTopRightRadius="0px";break;case I.AnnouncementPosition.SlideRightTop:case I.AnnouncementPosition.SlideRightCenter:case I.AnnouncementPosition.SlideRightBottom:t.style.borderTopRightRadius="0px",t.style.borderBottomRightRadius="0px";break;case I.AnnouncementPosition.SlideBottomLeft:case I.AnnouncementPosition.SlideBottomCenter:case I.AnnouncementPosition.SlideBottomRight:t.style.borderBottomLeftRadius="0px",t.style.borderBottomRightRadius="0px";break;case I.AnnouncementPosition.SlideLeftTop:case I.AnnouncementPosition.SlideLeftCenter:case I.AnnouncementPosition.SlideLeftBottom:t.style.borderTopLeftRadius="0px",t.style.borderBottomLeftRadius="0px"}},n.prototype.setContentContainerHorizontalPadding=function(e,t){var n=t||{},i=n.textAlignment,t=n.shouldShowStepNumber,n=n.stepNumberPosition,n=t&&(n===I.StepNumberPosition.TopLeft||n===I.StepNumberPosition.TopRight);"left"===i&&n?e.style.paddingLeft="30px":"right"===i&&(e.style.paddingRight="30px")},n.prototype.addUIFontFamilyCssRequestUrl=function(e,t,n){n=n?this.tenantSvc.getFullUIFontFamilyCssRequestUrl():this.tenantSvc.buildUIFontFamilyCssRequestUrlFromConfig(t);n&&((t=e.createElement("link")).href=n,t.rel="stylesheet",e.head.appendChild(t))},n.prototype.fixVideoElementsFromFroala=function(e,t){for(var n=e.length,i=0;i<n;i++){var o=e[i];o.classList.add("fr-active");var s,r,a=o.querySelector("iframe");a&&(s=o.getBoundingClientRect(),r=0,null!==(o=a.style)&&void 0!==o&&o.width&&"100%"!==a.style.width&&(r=parseInt(a.style.width||"0")),"100%"===(o=a.getAttribute("width"))&&(o=""),.75<(o=.5625*(r=s.width||r||parseInt(o||"0")||t-42))/window.innerHeight&&(o=.5625*(r-=12)),a.style.setProperty("width",r+"px","important"),a.style.setProperty("height",o+"px","important"),a.setAttribute("width",r.toString()),a.setAttribute("height",o.toString()))}},n.prototype.fixImageElementsFromFroala=function(e){for(var t=0;t<e.length;t++){var n,i=e[t];-1===i.style.width.indexOf("%")&&(n=parseInt(i.style.width||"300"),i.style.width=300<=n?"100%":n/651*100+"%")}},n);function n(e,t,n){this.windowSvc=e,this.sessionSvc=t,this.tenantSvc=n,this.blankHtmlDocString="<!DOCTYPE html>\n<html><head></head><body></body></html>",this.callToActionContainerClass="cz-walk-cta-container",this.callToActionButtonClass="cz-walk-cta-button",this.buildSurveyContentFrame=this.buildSurveyContentFrame.bind(this),this.buildInAppContentFrame=this.buildInAppContentFrame.bind(this),this.buildWalkthroughContentFrame=this.buildWalkthroughContentFrame.bind(this),this.buildWalkthroughAnchorFrame=this.buildWalkthroughAnchorFrame.bind(this),this.removeWalkthroughStyleElements=this.removeWalkthroughStyleElements.bind(this),this.getWalkthroughContentIFrameLoadFunc=this.getWalkthroughContentIFrameLoadFunc.bind(this),this.getInAppContentIFrameLoadFunc=this.getInAppContentIFrameLoadFunc.bind(this),this.fixVideoElementsFromFroala=this.fixVideoElementsFromFroala.bind(this),this.fixImageElementsFromFroala=this.fixImageElementsFromFroala.bind(this)}exports.FrameBuilder=t},function(e,t,n){"use strict";n.r(t),t.default=".cz-in-app-page-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n    min-height: 150px;\r\n}\r\n\r\n.cz-in-app-content-container {\r\n    padding: 20px;\r\n    flex-grow: 1;\r\n}\r\n\r\n.cz-close-in-app {\r\n    margin: 7px 10px 0 0;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    font-weight: 700;\r\n    color: transparent;\r\n    text-shadow: 0 0 0 #000;\r\n}\r\n\r\n/***** THIS IS FOR A HOTFIX! REMOVE THESE SOOOON! *****/\r\n.buttonLinkContainer {\r\n    text-align: center;\r\n}\r\n.buttonLink {\r\n    border-radius: 0.3em;\r\n    margin: 0 1em;\r\n    padding: 0.5em;\r\n    display: inline-block;\r\n    text-decoration: none;\r\n}\r\n.buttonLink:hover {\r\n    text-decoration: none;\r\n}\r\n\r\n.fr-no-border {\r\n    border-style: hidden !important;\r\n}\r\n"},function(e,t,n){"use strict";n.r(t),t.default='*, ::before, ::after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n#cz_in_app_content_body {\r\n    overflow-x: hidden\r\n}\r\n\r\n.cz-in-app-content-container {\r\n    padding: 10px;\r\n}\r\n\r\n.cz-in-app-content-container .cz-announcement .cz-announcement-timestamp {\r\n    display: none !important;\r\n}\r\n\r\n.cz-announcement .cz-nps-container .questiontextcontainer .questiontext,\r\n.cz-announcement .cz-nps-container .labels table td.left,\r\n.cz-announcement .cz-nps-container .labels table td.right {\r\n    color: inherit !important;\r\n}\r\n\r\n.cz-nps-container [class*=" cz-survey-face-"]:before, .cz-nps-container [class^=cz-survey-face-]:before{\r\n    line-height: inherit !important;\r\n}\r\n'},function(e,t,n){"use strict";n.r(t),t.default=".cz-walk-cta-container {\r\n    position: relative;\r\n    padding: 20px 10px;\r\n    width: 100%;\r\n    border-width: thin;\r\n    border-style: solid;\r\n    box-sizing: border-box;\r\n    margin-top: auto;\r\n}\r\n\r\n.cz-walk-cta-container .cz-walk-cta-button {\r\n    border-radius: 3px;\r\n    border-style: solid;\r\n    border-width: thin;\r\n    padding: 5px 10px;\r\n    box-shadow: none;\r\n    cursor: pointer\r\n}\r\n\r\n.has-top-step-number .cz-walk-content-container {\r\n    padding-top: 35px;\r\n}\r\n\r\n.has-top-right-step-number .cz-close-walk {\r\n    right: auto;\r\n    left: 0;\r\n    margin: 7px 0 0 10px\r\n}\r\n\r\n.has-bottom-step-number .cz-walk-cta-container {\r\n    padding-bottom: 35px\r\n}\r\n"},function(e,t,n){"use strict";n.r(t),t.default=".cz-walk-step-number {\r\n    position: absolute;\r\n    z-index: 1;\r\n    font-size: 16px;\r\n    font-weight: 700\r\n}\r\n\r\n.cz-walk-step-number.top-left {\r\n    top: 0;\r\n    left: 0;\r\n    margin: 7px 0 0 10px\r\n}\r\n\r\n.cz-walk-step-number.top-center {\r\n    top: 0;\r\n    left: 50%;\r\n    margin-top: 7px;\r\n    transform: translate3d(-50%, 0, 0)\r\n}\r\n\r\n.cz-walk-step-number.top-right {\r\n    top: 0;\r\n    right: 0;\r\n    margin: 7px 10px 0 0\r\n}\r\n\r\n.cz-walk-step-number.bottom-left {\r\n    bottom: 0;\r\n    left: 0;\r\n    margin: 0 0 7px 10px\r\n}\r\n\r\n.cz-walk-step-number.bottom-center {\r\n    bottom: 0;\r\n    left: 50%;\r\n    margin-bottom: 7px;\r\n    transform: translate3d(-50%, 0, 0)\r\n}\r\n\r\n.cz-walk-step-number.bottom-right {\r\n    bottom: 0;\r\n    right: 0;\r\n    margin: 0 10px 7px 0\r\n}\r\n"},function(e,t,n){"use strict";n.r(t),t.default=".cz-walk-page-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n    min-height: 150px;\r\n}\r\n\r\n.cz-walk-content-container {\r\n    padding: 20px;\r\n    flex-grow: 1;\r\n}\r\n\r\n.cz-close-walk {\r\n    margin: 7px 10px 0 0;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    font-weight: 700;\r\n    color: transparent;\r\n    text-shadow: 0 0 0 #000;\r\n}\r\n\r\n.buttonLinkContainer {\r\n    text-align: center;\r\n}\r\n.buttonLink {\r\n    border-radius: 0.3em;\r\n    margin: 0 1em;\r\n    padding: 0.5em;\r\n    display: inline-block;\r\n    text-decoration: none;\r\n}\r\n.buttonLink:hover {\r\n    text-decoration: none;\r\n}\r\n"},function(e,t,n){"use strict";n.r(t),t.default="#cz_popover.cz-popover #cz_popover_content {\r\n    border-radius: 0 !important;\r\n}\r\n"},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=(i.prototype.detect=function(){this.oldLocation!==window.location.toString()&&(this.onChangeEvent(),this.stopOnChange&&this.Stop(),this.oldLocation=window.location.toString())},i.prototype.Stop=function(){this.Check&&(window.clearInterval(this.Check),this.Check=null)},i);function i(e,t,n){var i=this;void 0===n&&(n=100),this.oldLocation=window.location.toString(),this.onChangeEvent=e,this.stopOnChange=t,this.Check=window.setInterval(function(){try{i.detect()}catch(e){}},n)}exports.default=n},function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var i=t(81),o=t(0),s=n(t(1)),t=(r.prototype.addCleanRoomUnload=function(e){this.onCleanRoomUnload.push(e)},Object.defineProperty(r.prototype,"czHost",{get:function(){return this._czHost},set:function(e){this._czHost=e,this._clientSideUrls=this.buildClientSideUrlsFromSetHost(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clientSideUrls",{get:function(){return this._clientSideUrls||(this._clientSideUrls=this.parseClientSideUrls()),this._clientSideUrls},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"socketServerApiUrl",{get:function(){return this.clientSideUrls.baseApiUrl+"api/v1/sockets/"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cdnUrl",{get:function(){return this.clientSideUrls.baseApiUrl+"external/"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"JSON",{get:function(){if(!this._json)try{if(this._json=this.getOriginalJson(),o.CoreUtils.isNullOrUndefined(this._json))throw new Error("windowSvc JSON getter: this._json is falsy")}catch(e){if(this._nativeJSONAcceptable)return this.window.JSON;throw e}return this._json},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Date",{get:function(){if(!this._date)try{this._date=this.getOriginalDate()}catch(e){if(this._nativeDateAcceptable)return this._window.Date;throw e}return this._date},enumerable:!1,configurable:!0}),r.prototype.createElement=function(t,n){try{return this.isPrototypeJSLoaded()?this.document.createElement(t,n):this.originalObjectIframe.contentWindow.document.createElement(t,n)}catch(e){if(this._nativeAddEventListenerAcceptable)return this.document.createElement(t,n);throw e}},Object.defineProperty(r.prototype,"czq",{get:function(){return void 0===this._czq&&(this._czq=i),this._czq},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ChurnZero",{get:function(){return this.window.ChurnZero},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"originalObjectIframe",{get:function(){var t=this;if(this.useWindowsObjects)return{contentWindow:window};var e,n,i=!0;return this._originalObjectIFrame&&void 0!==this._originalObjectIFrame.isConnected&&(i=this._originalObjectIFrame.isConnected),this._originalObjectIFrame&&i||((e=this.window.document.getElementById(n="cz-clean-room"))&&i?this._originalObjectIFrame=e:((e=this.window.document.createElement("iframe")).id=n,e.src="about:blank",e.style.display="none",e.height=e.width="0",e.onload=function(e){e.target.contentDocument.defaultView.onunload=function(){t._originalObjectIFrame=null;for(var e=0;e<t.onCleanRoomUnload.length;e++)try{t.onCleanRoomUnload[e]()}catch(e){}}},0<(n=0===(n=0===(n=this.window.document.getElementsByTagName("body")).length?this.window.document.getElementsByTagName("head"):n).length?this.window.document.getElementsByTagName("html"):n).length&&n[0].appendChild(e),this._originalObjectIFrame=e)),this._originalObjectIFrame},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"elementCache",{get:function(){return void 0===this._elementCache&&(this._elementCache=this.buildElementCache()),this._elementCache},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"window",{get:function(){return this._window},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"document",{get:function(){return this._document||(this._document=this._window.document),this._window.document},enumerable:!1,configurable:!0}),r.prototype.getBodyElement=function(){return this._body||(this._body=this._window.document.querySelector("body")),this._body},r.prototype.getHeadElement=function(){return this._head||(this._head=this._window.document.querySelector("head")),this._head},r.prototype.getDocument=function(){return this._document||(this._document=this._window.document),this._window.document},r.prototype.getWindow=function(){return this._window},r.prototype.hostName=function(){return this.window.location.hostname},r.prototype.title=function(){return this.window.document.title},r.prototype.href=function(){try{return this.window.location.href}catch(e){return""}},r.prototype.coder=function(){var e=this.JSON;return{encode:e.stringify,decode:e.parse}},r.prototype.XMLHttpRequestReference=function(){try{return this.getOriginalXMLHttpRequest()}catch(e){if(this._nativeXHRAcceptable)return this._window.XMLHttpRequest;throw e}},r.prototype.isSupportedBrowser=function(){return!o.CoreUtils.FeatureDetection.isLegacyIE()&&(!this.isLegacyFirefox()&&(!this.isBrowserCaptureUserAgent()&&(!!this.supportsISOStringParsing()&&!!this.supportsClassList())))},r.prototype.isAcceptableLocation=function(e){var t=this.href(),n=r.defaultUnacceptableLocations;Array.isArray(e)&&(n=n.concat(e));for(var i=0;i<n.length;i++)if(-1!==t.indexOf(n[i]))return!1;return!0},r.prototype.CheckPageTagAgainstCurrentLocation=function(e){e=o.CoreUtils.Urls.buildRegexFromLocationParts(e.location,o.LocationOptions.fromJson(e.locationOptionsJson)),e=new RegExp(e);return!!this.href().match(e)},Object.defineProperty(r.prototype,"origins",{get:function(){return this._origins&&0!==this._origins.length||(this._origins=[this.window.location.origin]),this._origins},set:function(e){this._origins=e},enumerable:!1,configurable:!0}),r.prototype.addOrigin=function(e){-1===this.origins.indexOf(e)&&(this.origins=this.origins.concat([e]))},r.prototype.wasDisposed=function(){var e=this._window.ChurnZero;return!e||"ChurnZeroApp"!==e.name},r.prototype.namespaceEvent=function(e){"string"==typeof e&&(e=[e]);for(var t=0;t<e.length;t++)e[t]=e[t].trim()+"."+this.eventNamespace;return e.join(" ")},r.prototype.removeNamespacedEvents=function(){var e="."+this.eventNamespace;this.elementCache.body.off(e),this.elementCache.document.off(e),this.elementCache.window.off(e)},r.prototype.buildSelector=function(e){var t=this.href(),e=o.CoreUtils.buildFullDomSelector(e);return{page:t,selector:e,full:t+" | "+e}},r.prototype.isVisible=function(e,t,n,i){if(e.length<1)return!1;var o=1<e.length?e.eq(0):e,s=this.elementCache.window,r=s.width(),a=s.height(),n=!0!==n||e.offsetWidth*e.offsetHeight;if(i=i||"both","function"==typeof e.getBoundingClientRect){var c=e.getBoundingClientRect(),l=0<=c.top&&c.top<a,u=0<c.bottom&&c.bottom<=a,h=0<=c.left&&c.left<r,d=0<c.right&&c.right<=r,c=t?l||u:l&&u,l=t?h||d:h&&d;return"both"===i?0<n&&c&&l:"vertical"===i?0<n&&c:"horizontal"===i?0<n&&l:void 0}u=s.scrollTop(),h=u+a,d=s.scrollLeft(),c=d+r,l=o.offset(),a=l.top,s=a+o.height(),r=l.left,l=r+o.width(),o=!0===t?s:a,a=!0===t?a:s,s=!0===t?l:r,l=!0===t?r:l;return"both"===i?!!n&&a<=h&&u<=o&&l<=c&&d<=s:"vertical"===i?!!n&&a<=h&&u<=o:"horizontal"===i?!!n&&l<=c&&d<=s:void 0},r.prototype.centerElementOnScreen=function(e){var t,n;null==e||(n=this.document.querySelector("body"))&&(t=n.clientHeight/2-e.clientHeight/4,n=n.clientWidth/2-e.clientWidth/4,e.style.position="fixed",e.style.margin=0,e.style.top=(0<t?t:0)+"px",e.style.left=(0<n?n:0)+"px")},r.prototype.offset=function(e){var t=this.window,n=e.getBoundingClientRect(),e=t.pageXOffset||this.document.documentElement.scrollLeft,t=t.pageYOffset||this.document.documentElement.scrollTop;return{top:n.top+t,left:n.left+e}},r.prototype.findElement=function(e){var t;if("string"==typeof e){if(!(0<(t=this.czq(e)).length))return;t=t}else t=this.czq(e);return t},r.prototype.parseClientSideUrls=function(){var e=this._czHost;return e&&0!==(e||"").trim().length||(e=this.getChurnZeroScriptSrc(this.document)),this.buildClientSideUrls(e)},r.prototype.openWindow=function(e){return this.window.open(e,"_blank")},r.prototype.escapeObjectForDom=function(e){return btoa(this.JSON.stringify(e))},r.prototype.unescapeObjectFromDom=function(e){return this.JSON.parse(atob(e))},r.prototype.clone=function(e){return this.JSON.parse(this.JSON.stringify(e))},r.prototype.supportsISOStringParsing=function(){try{return!isNaN(new this.Date((new this.Date).toISOString()).getTime())}catch(e){return!1}},r.prototype.isBrowserCaptureUserAgent=function(){try{return-1!==navigator.userAgent.indexOf("wkhtmlto")}catch(e){return!1}},r.prototype.isLegacyFirefox=function(){try{var e=(navigator.userAgent||"").toLowerCase(),t=e.indexOf("firefox/");if(-1!==t){var n=t+"firefox/".length,i=e.substring(n,n+2);if(parseInt(i)<62)return!0}return!1}catch(e){return!1}},r.prototype.isPrototypeJSLoaded=function(){return window&&window.Prototype&&window.Prototype.Version},r.prototype.supportsClassList=function(){try{this.document.createElement("div").classList.add("cz-hidden")}catch(e){return!1}return!0},r.prototype.buildElementCache=function(){var e=this.czq("body");return 0===e.length&&(e=this.czq("html")),{window:this.czq(window),document:this.czq(document),head:this.czq("head"),body:e}},r.prototype.getOriginalJson=function(){var i,e=this.originalObjectIframe.contentWindow.JSON;return this.isPrototypeJSLoaded()&&(i=e.stringify,e.stringify=function(e){var t,n;return e.toJSON&&(n=e.toJSON,e.toJSON=void 0),t=i.apply(this,arguments),n&&(e.toJSON=n),t}),e},r.prototype.getOriginalDate=function(){return this.originalObjectIframe.contentWindow.Date},r.prototype.getOriginalXMLHttpRequest=function(){return this.originalObjectIframe.contentWindow.XMLHttpRequest},r.prototype.getChurnZeroScriptSrc=function(e){e=e.querySelector("script[src*='churnzero.js']");if(e){e=e.getAttribute("src");if(e)return e=e.substring(0,e.lastIndexOf("/")+1)}return""},r.prototype.buildClientSideUrls=function(e){var t=o.CoreUtils.Urls.parseUrlString(e),n="https:",i="p";return 0<=t.host.indexOf("localhost:53157")?(n="https://analytics.localhost:53157/",i="d"):0<=t.host.indexOf("apptest.churnzerolabs.com")||0<=t.host.indexOf("analyticstest.churnzerolabs.com")?(n+="//analyticstest.churnzerolabs.com/",i="t"):0<=t.host.indexOf("appstaging.churnzerolabs.com")?(n+="//appstaging.churnzerolabs.com/",i="s"):0<=t.host.indexOf("eu1analytics.churnzero.net")?n+="//eu1analytics.churnzero.net/":n+="//analytics.churnzero.net/",{scriptSrc:e,baseApiUrl:n,environment:i,sockets:n+"api/v1/sockets/",cdn:n+"external/"}},r.prototype.buildClientSideUrlsFromSetHost=function(e){var t=o.CoreUtils.Urls.parseUrlString(e),n="https://"+t.host+"/",i="p";return 0<=t.host.indexOf("localhost:53157")?i="d":0<=t.host.indexOf("apptest.churnzerolabs.com")||0<=t.host.indexOf("analyticstest.churnzerolabs.com")?i="t":0<=t.host.indexOf("appstaging.churnzerolabs.com")&&(i="s"),{scriptSrc:e,baseApiUrl:n,environment:i,sockets:n+"api/v1/sockets/",cdn:n+"external/"}},r.prototype.isNativeFunction=function(e){try{return/\{\s+\[native code\]/.test(Function.prototype.toString.call(e))}catch(e){return!1}},r.prototype.isNativeDateAcceptable=function(){try{if(this.isNativeFunction(this._window.Date)&&this.isNativeFunction(this._window.Date.now)&&this.isNativeFunction(this._window.Date.toString)&&this.isNativeFunction((new this._window.Date).toISOString))return!0}catch(e){}return!1},r.prototype.isNativeXHRAcceptable=function(){try{if(this.isNativeFunction(this._window.XMLHttpRequest)){var e=new this._window.XMLHttpRequest;if(this.isNativeFunction(e.open)&&this.isNativeFunction(e.send)&&this.isNativeFunction(e.setRequestHeader))return!0}}catch(e){}return!1},r.prototype.isNativeJSONAcceptable=function(){try{var e=this._window;if("[object JSON]"===Object.prototype.toString.call(e.JSON)){var t=e.JSON;if(this.isNativeFunction(t.stringify)&&this.isNativeFunction(t.parse))return!0}}catch(e){}return!1},r.prototype.isNativeAddEventListenerAcceptable=function(){try{var e=this.document;if(this.isNativeFunction(e.createElement)){var t=e.createElement("link");if(this.isNativeFunction(t.addEventListener))return!0}}catch(e){}return!1},r.defaultUnacceptableLocations=[],r);function r(e,t){this.useWindowsObjects=t=void 0===t?!1:t,this.eventNamespace="czEvent",this.onCleanRoomUnload=[],this._czHost="https://analytics.churnzero.net/",this._origins=[],this._nativeDateAcceptable=!1,this._nativeXHRAcceptable=!1,this._nativeJSONAcceptable=!1,this._nativeAddEventListenerAcceptable=!1,this._window=e,this._nativeJSONAcceptable=this.isNativeJSONAcceptable(),this._nativeDateAcceptable=this.isNativeDateAcceptable(),this._nativeXHRAcceptable=this.isNativeXHRAcceptable(),this._nativeAddEventListenerAcceptable=this.isNativeAddEventListenerAcceptable(),this.errorLogger=new s.default(this.socketServerApiUrl,this.coder()),this.XMLHttpRequestReference=this.XMLHttpRequestReference.bind(this)}exports.default=t},function(n,exports,e){
/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */
!function(e,t){"use strict";"object"==typeof n.exports?n.exports=e.document?t(e):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(w,e){"use strict";function m(e){return"function"==typeof e&&"number"!=typeof e.nodeType}function g(e){return null!=e&&e===e.window}var t=[],n=Object.getPrototypeOf,a=t.slice,v=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},c=t.push,o=t.indexOf,i={},s=i.toString,y=i.hasOwnProperty,r=y.toString,l=r.call(Object),S={},E=w.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var i,o,s=(n=n||E).createElement("script");if(s.text=e,t)for(i in u)(o=t[i]||t.getAttribute&&t.getAttribute(i))&&s.setAttribute(i,o);n.head.appendChild(s).parentNode.removeChild(s)}function f(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[s.call(e)]||"object":typeof e}var T=function(e,t){return new T.fn.init(e,t)};function h(e){var t=!!e&&"length"in e&&e.length,n=f(e);return!m(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}T.fn=T.prototype={jquery:"3.5.1",constructor:T,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=T.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return T.each(this,e)},map:function(n){return this.pushStack(T.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(T.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:t.sort,splice:t.splice},T.extend=T.fn.extend=function(){var e,t,n,i,o,s=arguments[0]||{},r=1,a=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[r]||{},r++),"object"==typeof s||m(s)||(s={}),r===a&&(s=this,r--);r<a;r++)if(null!=(e=arguments[r]))for(t in e)n=e[t],"__proto__"!==t&&s!==n&&(c&&n&&(T.isPlainObject(n)||(i=Array.isArray(n)))?(o=s[t],o=i&&!Array.isArray(o)?[]:i||T.isPlainObject(o)?o:{},i=!1,s[t]=T.extend(c,o,n)):void 0!==n&&(s[t]=n));return s},T.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==s.call(e))&&(!(e=n(e))||"function"==typeof(e=y.call(e,"constructor")&&e.constructor)&&r.call(e)===l)},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(h(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){t=t||[];return null!=e&&(h(Object(e))?T.merge(t,"string"==typeof e?[e]:e):c.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:o.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,s=e.length,r=!n;o<s;o++)!t(e[o],o)!=r&&i.push(e[o]);return i},map:function(e,t,n){var i,o,s=0,r=[];if(h(e))for(i=e.length;s<i;s++)null!=(o=t(e[s],s,n))&&r.push(o);else for(s in e)null!=(o=t(e[s],s,n))&&r.push(o);return v(r)},guid:1,support:S}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=t[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){i["[object "+t+"]"]=t.toLowerCase()});var d=
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(n){function h(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function d(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function i(){w()}var e,p,b,s,o,f,m,g,C,c,l,w,E,r,T,v,a,u,y,A="sizzle"+ +new Date,S=n.document,k=0,P=0,_=le(),I=le(),L=le(),x=le(),F=function(e,t){return e===t&&(l=!0),0},O={}.hasOwnProperty,t=[],M=t.pop,D=t.push,N=t.push,R=t.slice,U=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",W="[\\x20\\t\\r\\n\\f]",z="(?:\\\\[\\da-fA-F]{1,6}"+W+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\["+W+"*("+z+")(?:"+W+"*([*^$|!~]?=)"+W+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+W+"*\\]",j=":("+z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",K=new RegExp(W+"+","g"),G=new RegExp("^"+W+"+|((?:^|[^\\\\])(?:\\\\.)*)"+W+"+$","g"),q=new RegExp("^"+W+"*,"+W+"*"),V=new RegExp("^"+W+"*([>+~]|"+W+")"+W+"*"),Y=new RegExp(W+"|>"),J=new RegExp(j),Z=new RegExp("^"+z+"$"),X={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),TAG:new RegExp("^("+z+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+W+"*(even|odd|(([+-]|)(\\d*)n|)"+W+"*(?:([+-]|)"+W+"*(\\d+)|))"+W+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+W+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+W+"*((?:-\\d)?\\d*)"+W+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,ee=/^(?:input|select|textarea|button)$/i,te=/^h\d$/i,ne=/^[^{]+\{\s*\[native \w/,ie=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,oe=/[+~]/,se=new RegExp("\\\\[\\da-fA-F]{1,6}"+W+"?|\\\\([^\\r\\n\\f])","g"),re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=Se(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{N.apply(t=R.call(S.childNodes),S.childNodes),t[S.childNodes.length].nodeType}catch(e){N={apply:t.length?function(e,t){D.apply(e,R.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ce(t,e,n,i){var o,s,r,a,c,l,u=e&&e.ownerDocument,h=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return n;if(!i&&(w(e),e=e||E,T)){if(11!==h&&(a=ie.exec(t)))if(l=a[1]){if(9===h){if(!(s=e.getElementById(l)))return n;if(s.id===l)return n.push(s),n}else if(u&&(s=u.getElementById(l))&&y(e,s)&&s.id===l)return n.push(s),n}else{if(a[2])return N.apply(n,e.getElementsByTagName(t)),n;if((l=a[3])&&p.getElementsByClassName&&e.getElementsByClassName)return N.apply(n,e.getElementsByClassName(l)),n}if(p.qsa&&!x[t+" "]&&(!v||!v.test(t))&&(1!==h||"object"!==e.nodeName.toLowerCase())){if(l=t,u=e,1===h&&(Y.test(t)||V.test(t))){for((u=oe.test(t)&&ge(e.parentNode)||e)===e&&p.scope||((r=e.getAttribute("id"))?r=r.replace(re,d):e.setAttribute("id",r=A)),o=(c=f(t)).length;o--;)c[o]=(r?"#"+r:":scope")+" "+ye(c[o]);l=c.join(",")}try{return N.apply(n,u.querySelectorAll(l)),n}catch(e){x(t,!0)}finally{r===A&&e.removeAttribute("id")}}}return g(t.replace(G,"$1"),e,n,i)}function le(){var n=[];function i(e,t){return n.push(e+" ")>b.cacheLength&&delete i[n.shift()],i[e+" "]=t}return i}function ue(e){return e[A]=!0,e}function he(e){var t=E.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function de(e,t){for(var n=e.split("|"),i=n.length;i--;)b.attrHandle[n[i]]=t}function pe(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function me(r){return ue(function(s){return s=+s,ue(function(e,t){for(var n,i=r([],e.length,s),o=i.length;o--;)e[n=i[o]]&&(e[n]=!(t[n]=e[n]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in p=ce.support={},o=ce.isXML=function(e){var t=e.namespaceURI,e=(e.ownerDocument||e).documentElement;return!Q.test(t||e&&e.nodeName||"HTML")},w=ce.setDocument=function(e){var t,e=e?e.ownerDocument||e:S;return e!=E&&9===e.nodeType&&e.documentElement&&(r=(E=e).documentElement,T=!o(E),S!=E&&(t=E.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",i,!1):t.attachEvent&&t.attachEvent("onunload",i)),p.scope=he(function(e){return r.appendChild(e).appendChild(E.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),p.attributes=he(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=he(function(e){return e.appendChild(E.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=ne.test(E.getElementsByClassName),p.getById=he(function(e){return r.appendChild(e).id=A,!E.getElementsByName||!E.getElementsByName(A).length}),p.getById?(b.filter.ID=function(e){var t=e.replace(se,h);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&T){e=t.getElementById(e);return e?[e]:[]}}):(b.filter.ID=function(e){var t=e.replace(se,h);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&T){var n,i,o,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(o=t.getElementsByName(e),i=0;s=o[i++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),b.find.TAG=p.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,s=t.getElementsByTagName(e);if("*"!==e)return s;for(;n=s[o++];)1===n.nodeType&&i.push(n);return i},b.find.CLASS=p.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&T)return t.getElementsByClassName(e)},a=[],v=[],(p.qsa=ne.test(E.querySelectorAll))&&(he(function(e){var t;r.appendChild(e).innerHTML="<a id='"+A+"'></a><select id='"+A+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+W+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+W+"*(?:value|"+H+")"),e.querySelectorAll("[id~="+A+"-]").length||v.push("~="),(t=E.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+W+"*name"+W+"*="+W+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+A+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),he(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=E.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+W+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),r.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(p.matchesSelector=ne.test(u=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&he(function(e){p.disconnectedMatch=u.call(e,"*"),u.call(e,"[s!='']:x"),a.push("!=",j)}),v=v.length&&new RegExp(v.join("|")),a=a.length&&new RegExp(a.join("|")),t=ne.test(r.compareDocumentPosition),y=t||ne.test(r.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},F=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e==E||e.ownerDocument==S&&y(S,e)?-1:t==E||t.ownerDocument==S&&y(S,t)?1:c?U(c,e)-U(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,r=[e],a=[t];if(!o||!s)return e==E?-1:t==E?1:o?-1:s?1:c?U(c,e)-U(c,t):0;if(o===s)return pe(e,t);for(n=e;n=n.parentNode;)r.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;r[i]===a[i];)i++;return i?pe(r[i],a[i]):r[i]==S?-1:a[i]==S?1:0}),E},ce.matches=function(e,t){return ce(e,null,null,t)},ce.matchesSelector=function(e,t){if(w(e),p.matchesSelector&&T&&!x[t+" "]&&(!a||!a.test(t))&&(!v||!v.test(t)))try{var n=u.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){x(t,!0)}return 0<ce(t,E,null,[e]).length},ce.contains=function(e,t){return(e.ownerDocument||e)!=E&&w(e),y(e,t)},ce.attr=function(e,t){(e.ownerDocument||e)!=E&&w(e);var n=b.attrHandle[t.toLowerCase()],n=n&&O.call(b.attrHandle,t.toLowerCase())?n(e,t,!T):void 0;return void 0!==n?n:p.attributes||!T?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},ce.escape=function(e){return(e+"").replace(re,d)},ce.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ce.uniqueSort=function(e){var t,n=[],i=0,o=0;if(l=!p.detectDuplicates,c=!p.sortStable&&e.slice(0),e.sort(F),l){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return c=null,e},s=ce.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=s(t);return n},(b=ce.selectors={cacheLength:50,createPseudo:ue,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(se,h),e[3]=(e[3]||e[4]||e[5]||"").replace(se,h),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ce.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ce.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&J.test(n)&&(t=f(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(se,h).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+W+")"+e+"("+W+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=ce.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(K," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(f,e,t,m,g){var v="nth"!==f.slice(0,3),y="last"!==f.slice(-4),S="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,o,s,r,a,c,l=v!=y?"nextSibling":"previousSibling",u=e.parentNode,h=S&&e.nodeName.toLowerCase(),d=!n&&!S,p=!1;if(u){if(v){for(;l;){for(r=e;r=r[l];)if(S?r.nodeName.toLowerCase()===h:1===r.nodeType)return!1;c=l="only"===f&&!c&&"nextSibling"}return!0}if(c=[y?u.firstChild:u.lastChild],y&&d){for(p=(a=(i=(o=(s=(r=u)[A]||(r[A]={}))[r.uniqueID]||(s[r.uniqueID]={}))[f]||[])[0]===k&&i[1])&&i[2],r=a&&u.childNodes[a];r=++a&&r&&r[l]||(p=a=0)||c.pop();)if(1===r.nodeType&&++p&&r===e){o[f]=[k,a,p];break}}else if(!1===(p=d?a=(i=(o=(s=(r=e)[A]||(r[A]={}))[r.uniqueID]||(s[r.uniqueID]={}))[f]||[])[0]===k&&i[1]:p))for(;(r=++a&&r&&r[l]||(p=a=0)||c.pop())&&((S?r.nodeName.toLowerCase()!==h:1!==r.nodeType)||!++p||(d&&((o=(s=r[A]||(r[A]={}))[r.uniqueID]||(s[r.uniqueID]={}))[f]=[k,p]),r!==e)););return(p-=g)===m||p%m==0&&0<=p/m}}},PSEUDO:function(e,s){var t,r=b.pseudos[e]||b.setFilters[e.toLowerCase()]||ce.error("unsupported pseudo: "+e);return r[A]?r(s):1<r.length?(t=[e,e,"",s],b.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,t){for(var n,i=r(e,s),o=i.length;o--;)e[n=U(e,i[o])]=!(t[n]=i[o])}):function(e){return r(e,0,t)}):r}},pseudos:{not:ue(function(e){var i=[],o=[],a=m(e.replace(G,"$1"));return a[A]?ue(function(e,t,n,i){for(var o,s=a(e,null,i,[]),r=e.length;r--;)(o=s[r])&&(e[r]=!(t[r]=o))}):function(e,t,n){return i[0]=e,a(i,null,n,o),i[0]=null,!o.pop()}}),has:ue(function(t){return function(e){return 0<ce(t,e).length}}),contains:ue(function(t){return t=t.replace(se,h),function(e){return-1<(e.textContent||s(e)).indexOf(t)}}),lang:ue(function(n){return Z.test(n||"")||ce.error("unsupported lang: "+n),n=n.replace(se,h).toLowerCase(),function(e){var t;do{if(t=T?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return te.test(e.nodeName)},input:function(e){return ee.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n<0?n+t:n]}),even:me(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e}),gt:me(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ve(){}function ye(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function Se(r,e,t){var a=e.dir,c=e.next,l=c||a,u=t&&"parentNode"===l,h=P++;return e.first?function(e,t,n){for(;e=e[a];)if(1===e.nodeType||u)return r(e,t,n);return!1}:function(e,t,n){var i,o,s=[k,h];if(n){for(;e=e[a];)if((1===e.nodeType||u)&&r(e,t,n))return!0}else for(;e=e[a];)if(1===e.nodeType||u)if(i=(o=e[A]||(e[A]={}))[e.uniqueID]||(o[e.uniqueID]={}),c&&c===e.nodeName.toLowerCase())e=e[a]||e;else{if((o=i[l])&&o[0]===k&&o[1]===h)return s[2]=o[2];if((i[l]=s)[2]=r(e,t,n))return!0}return!1}}function be(o){return 1<o.length?function(e,t,n){for(var i=o.length;i--;)if(!o[i](e,t,n))return!1;return!0}:o[0]}function Ce(e,t,n,i,o){for(var s,r=[],a=0,c=e.length,l=null!=t;a<c;a++)(s=e[a])&&(n&&!n(s,i,o)||(r.push(s),l&&t.push(a)));return r}function we(p,f,m,g,v,e){return g&&!g[A]&&(g=we(g)),v&&!v[A]&&(v=we(v,e)),ue(function(e,t,n,i){var o,s,r,a=[],c=[],l=t.length,u=e||function(e,t,n){for(var i=0,o=t.length;i<o;i++)ce(e,t[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),h=!p||!e&&f?u:Ce(u,a,p,n,i),d=m?v||(e?p:l||g)?[]:t:h;if(m&&m(h,d,n,i),g)for(o=Ce(d,c),g(o,[],n,i),s=o.length;s--;)(r=o[s])&&(d[c[s]]=!(h[c[s]]=r));if(e){if(v||p){if(v){for(o=[],s=d.length;s--;)(r=d[s])&&o.push(h[s]=r);v(null,d=[],o,i)}for(s=d.length;s--;)(r=d[s])&&-1<(o=v?U(e,r):a[s])&&(e[o]=!(t[o]=r))}}else d=Ce(d===t?d.splice(l,d.length):d),v?v(null,t,d,i):N.apply(t,d)})}function Ee(g,v){function e(e,t,n,i,o){var s,r,a,c=0,l="0",u=e&&[],h=[],d=C,p=e||S&&b.find.TAG("*",o),f=k+=null==d?1:Math.random()||.1,m=p.length;for(o&&(C=t==E||t||o);l!==m&&null!=(s=p[l]);l++){if(S&&s){for(r=0,t||s.ownerDocument==E||(w(s),n=!T);a=g[r++];)if(a(s,t||E,n)){i.push(s);break}o&&(k=f)}y&&((s=!a&&s)&&c--,e&&u.push(s))}if(c+=l,y&&l!==c){for(r=0;a=v[r++];)a(u,h,t,n);if(e){if(0<c)for(;l--;)u[l]||h[l]||(h[l]=M.call(i));h=Ce(h)}N.apply(i,h),o&&!e&&0<h.length&&1<c+v.length&&ce.uniqueSort(i)}return o&&(k=f,C=d),u}var y=0<v.length,S=0<g.length;return y?ue(e):e}return ve.prototype=b.filters=b.pseudos,b.setFilters=new ve,f=ce.tokenize=function(e,t){var n,i,o,s,r,a,c,l=I[e+" "];if(l)return t?0:l.slice(0);for(r=e,a=[],c=b.preFilter;r;){for(s in n&&!(i=q.exec(r))||(i&&(r=r.slice(i[0].length)||r),a.push(o=[])),n=!1,(i=V.exec(r))&&(n=i.shift(),o.push({value:n,type:i[0].replace(G," ")}),r=r.slice(n.length)),b.filter)!(i=X[s].exec(r))||c[s]&&!(i=c[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),r=r.slice(n.length));if(!n)break}return t?r.length:r?ce.error(e):I(e,a).slice(0)},m=ce.compile=function(e,t){var n,i=[],o=[],s=L[e+" "];if(!s){for(n=(t=t||f(e)).length;n--;)((s=function e(t){for(var i,n,o,s=t.length,r=b.relative[t[0].type],a=r||b.relative[" "],c=r?1:0,l=Se(function(e){return e===i},a,!0),u=Se(function(e){return-1<U(i,e)},a,!0),h=[function(e,t,n){return n=!r&&(n||t!==C)||((i=t).nodeType?l:u)(e,t,n),i=null,n}];c<s;c++)if(n=b.relative[t[c].type])h=[Se(be(h),n)];else{if((n=b.filter[t[c].type].apply(null,t[c].matches))[A]){for(o=++c;o<s&&!b.relative[t[o].type];o++);return we(1<c&&be(h),1<c&&ye(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(G,"$1"),n,c<o&&e(t.slice(c,o)),o<s&&e(t=t.slice(o)),o<s&&ye(t))}h.push(n)}return be(h)}(t[n]))[A]?i:o).push(s);(s=L(e,Ee(o,i))).selector=e}return s},g=ce.select=function(e,t,n,i){var o,s,r,a,c,l="function"==typeof e&&e,u=!i&&f(e=l.selector||e);if(n=n||[],1===u.length){if(2<(s=u[0]=u[0].slice(0)).length&&"ID"===(r=s[0]).type&&9===t.nodeType&&T&&b.relative[s[1].type]){if(!(t=(b.find.ID(r.matches[0].replace(se,h),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(o=X.needsContext.test(e)?0:s.length;o--&&(r=s[o],!b.relative[a=r.type]);)if((c=b.find[a])&&(i=c(r.matches[0].replace(se,h),oe.test(s[0].type)&&ge(t.parentNode)||t))){if(s.splice(o,1),!(e=i.length&&ye(s)))return N.apply(n,i),n;break}}return(l||m(e,u))(i,t,!T,n,!t||oe.test(e)&&ge(t.parentNode)||t),n},p.sortStable=A.split("").sort(F).join("")===A,p.detectDuplicates=!!l,w(),p.sortDetached=he(function(e){return 1&e.compareDocumentPosition(E.createElement("fieldset"))}),he(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&he(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),he(function(e){return null==e.getAttribute("disabled")})||de(H,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),ce}(w);T.find=d,T.expr=d.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=d.uniqueSort,T.text=d.getText,T.isXMLDoc=d.isXML,T.contains=d.contains,T.escapeSelector=d.escape;function p(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&T(e).is(n))break;i.push(e)}return i}function C(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var A=T.expr.match.needsContext;function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function _(e,n,i){return m(n)?T.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?T.grep(e,function(e){return e===n!==i}):"string"!=typeof n?T.grep(e,function(e){return-1<o.call(n,e)!==i}):T.filter(n,e,i)}T.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?T.find.matchesSelector(i,e)?[i]:[]:T.find.matches(e,T.grep(t,function(e){return 1===e.nodeType}))},T.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(T(e).filter(function(){for(t=0;t<i;t++)if(T.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)T.find(e,o[t],n);return 1<i?T.uniqueSort(n):n},filter:function(e){return this.pushStack(_(this,e||[],!1))},not:function(e){return this.pushStack(_(this,e||[],!0))},is:function(e){return!!_(this,"string"==typeof e&&A.test(e)?T(e):e||[],!1).length}});var I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(e,t,n){if(!e)return this;if(n=n||L,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(T):T.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:I.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof T?t[0]:t,T.merge(this,T.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),P.test(i[1])&&T.isPlainObject(t))for(var i in t)m(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(e=E.getElementById(i[2]))&&(this[0]=e,this.length=1),this}).prototype=T.fn;var L=T(E),x=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}T.fn.extend({has:function(e){var t=T(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(T.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,o=this.length,s=[],r="string"!=typeof e&&T(e);if(!A.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?-1<r.index(n):1===n.nodeType&&T.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(1<s.length?T.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?o.call(T(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),T.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return p(e,"parentNode")},parentsUntil:function(e,t,n){return p(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return p(e,"nextSibling")},prevAll:function(e){return p(e,"previousSibling")},nextUntil:function(e,t,n){return p(e,"nextSibling",n)},prevUntil:function(e,t,n){return p(e,"previousSibling",n)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(k(e,"template")&&(e=e.content||e),T.merge([],e.childNodes))}},function(i,o){T.fn[i]=function(e,t){var n=T.map(this,o,e);return(t="Until"!==i.slice(-5)?e:t)&&"string"==typeof t&&(n=T.filter(t,n)),1<this.length&&(F[i]||T.uniqueSort(n),x.test(i)&&n.reverse()),this.pushStack(n)}});var M=/[^\x20\t\r\n\f]+/g;function D(e){return e}function N(e){throw e}function R(e,t,n,i){var o;try{e&&m(o=e.promise)?o.call(e).done(t).fail(n):e&&m(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}T.Callbacks=function(i){var e,n;i="string"==typeof i?(e=i,n={},T.each(e.match(M)||[],function(e,t){n[t]=!0}),n):T.extend({},i);function o(){for(a=a||i.once,r=s=!0;l.length;u=-1)for(t=l.shift();++u<c.length;)!1===c[u].apply(t[0],t[1])&&i.stopOnFalse&&(u=c.length,t=!1);i.memory||(t=!1),s=!1,a&&(c=t?[]:"")}var s,t,r,a,c=[],l=[],u=-1,h={add:function(){return c&&(t&&!s&&(u=c.length-1,l.push(t)),function n(e){T.each(e,function(e,t){m(t)?i.unique&&h.has(t)||c.push(t):t&&t.length&&"string"!==f(t)&&n(t)})}(arguments),t&&!s&&o()),this},remove:function(){return T.each(arguments,function(e,t){for(var n;-1<(n=T.inArray(t,c,n));)c.splice(n,1),n<=u&&u--}),this},has:function(e){return e?-1<T.inArray(e,c):0<c.length},empty:function(){return c=c&&[],this},disable:function(){return a=l=[],c=t="",this},disabled:function(){return!c},lock:function(){return a=l=[],t||s||(c=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),s||o()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},T.extend({Deferred:function(e){var s=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],o="pending",r={state:function(){return o},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var o=arguments;return T.Deferred(function(i){T.each(s,function(e,t){var n=m(o[t[4]])&&o[t[4]];a[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),o=null}).promise()},then:function(t,n,i){var c=0;function l(o,s,r,a){return function(){function e(){var e,t;if(!(o<c)){if((e=r.apply(n,i))===s.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?a?t.call(e,l(c,s,D,a),l(c,s,N,a)):(c++,t.call(e,l(c,s,D,a),l(c,s,N,a),l(c,s,D,s.notifyWith))):(r!==D&&(n=void 0,i=[e]),(a||s.resolveWith)(n,i))}}var n=this,i=arguments,t=a?e:function(){try{e()}catch(e){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(e,t.stackTrace),c<=o+1&&(r!==N&&(n=void 0,i=[e]),s.rejectWith(n,i))}};o?t():(T.Deferred.getStackHook&&(t.stackTrace=T.Deferred.getStackHook()),w.setTimeout(t))}}return T.Deferred(function(e){s[0][3].add(l(0,e,m(i)?i:D,e.notifyWith)),s[1][3].add(l(0,e,m(t)?t:D)),s[2][3].add(l(0,e,m(n)?n:N))}).promise()},promise:function(e){return null!=e?T.extend(e,r):r}},a={};return T.each(s,function(e,t){var n=t[2],i=t[5];r[t[1]]=n.add,i&&n.add(function(){o=i},s[3-e][2].disable,s[3-e][3].disable,s[0][2].lock,s[0][3].lock),n.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=n.fireWith}),r.promise(a),e&&e.call(a,a),a},when:function(e){function t(t){return function(e){o[t]=this,s[t]=1<arguments.length?a.call(arguments):e,--n||r.resolveWith(o,s)}}var n=arguments.length,i=n,o=Array(i),s=a.call(arguments),r=T.Deferred();if(n<=1&&(R(e,r.done(t(i)).resolve,r.reject,!n),"pending"===r.state()||m(s[i]&&s[i].then)))return r.then();for(;i--;)R(s[i],t(i),r.reject);return r.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(e,t){w.console&&w.console.warn&&e&&U.test(e.name)&&w.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},T.readyException=function(e){w.setTimeout(function(){throw e})};var H=T.Deferred();function W(){E.removeEventListener("DOMContentLoaded",W),w.removeEventListener("load",W),T.ready()}T.fn.ready=function(e){return H.then(e).catch(function(e){T.readyException(e)}),this},T.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--T.readyWait:T.isReady)||(T.isReady=!0)!==e&&0<--T.readyWait||H.resolveWith(E,[T])}}),T.ready.then=H.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?w.setTimeout(T.ready):(E.addEventListener("DOMContentLoaded",W),w.addEventListener("load",W));function z(e,t,n,i,o,s,r){var a=0,c=e.length,l=null==n;if("object"===f(n))for(a in o=!0,n)z(e,t,a,n[a],!0,s,r);else if(void 0!==i&&(o=!0,m(i)||(r=!0),t=l?r?(t.call(e,i),null):(l=t,function(e,t,n){return l.call(T(e),n)}):t))for(;a<c;a++)t(e[a],n,r?i:i.call(e[a],a,t(e[a],n)));return o?e:l?t.call(e):c?t(e[0],n):s}var B=/^-ms-/,j=/-([a-z])/g;function K(e,t){return t.toUpperCase()}function G(e){return e.replace(B,"ms-").replace(j,K)}function q(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function V(){this.expando=T.expando+V.uid++}V.uid=1,V.prototype={cache:function(e){var t=e[this.expando];return t||(t={},q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[G(t)]=n;else for(i in t)o[G(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in i?[t]:t.match(M)||[]).length;for(;n--;)delete i[t[n]]}void 0!==t&&!T.isEmptyObject(i)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!T.isEmptyObject(e)}};var Y=new V,J=new V,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,X=/[A-Z]/g;function Q(e,t,n){var i,o;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(X,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(o=n)||"false"!==o&&("null"===o?null:o===+o+""?+o:Z.test(o)?JSON.parse(o):o)}catch(e){}J.set(e,t,n)}else n=void 0;return n}T.extend({hasData:function(e){return J.hasData(e)||Y.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),T.fn.extend({data:function(n,e){var t,i,o,s=this[0],r=s&&s.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){J.set(this,n)}):z(this,function(e){var t;return s&&void 0===e?void 0!==(t=J.get(s,n))||void 0!==(t=Q(s,n))?t:void 0:void this.each(function(){J.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=J.get(s),1===s.nodeType&&!Y.get(s,"hasDataAttrs"))){for(t=r.length;t--;)r[t]&&0===(i=r[t].name).indexOf("data-")&&(i=G(i.slice(5)),Q(s,i,o[i]));Y.set(s,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),T.extend({queue:function(e,t,n){var i;if(e)return i=Y.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=Y.access(e,t,T.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=T.queue(e,t),i=n.length,o=n.shift(),s=T._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete s.stop,o.call(e,function(){T.dequeue(e,t)},s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:T.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),T.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?T.queue(this[0],t):void 0===n?this:this.each(function(){var e=T.queue(this,t,n);T._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&T.dequeue(this,t)})},dequeue:function(e){return this.each(function(){T.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||s.resolveWith(r,[r])}var i,o=1,s=T.Deferred(),r=this,a=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=Y.get(r[a],e+"queueHooks"))&&i.empty&&(o++,i.empty.add(n));return n(),s.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],ie=E.documentElement,oe=function(e){return T.contains(e.ownerDocument,e)},se={composed:!0};ie.getRootNode&&(oe=function(e){return T.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});function re(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===T.css(e,"display")}function ae(e,t,n,i){var o,s,r=20,a=i?function(){return i.cur()}:function(){return T.css(e,t,"")},c=a(),l=n&&n[3]||(T.cssNumber[t]?"":"px"),u=e.nodeType&&(T.cssNumber[t]||"px"!==l&&+c)&&te.exec(T.css(e,t));if(u&&u[3]!==l){for(l=l||u[3],u=+(c/=2)||1;r--;)T.style(e,t,u+l),(1-s)*(1-(s=a()/c||.5))<=0&&(r=0),u/=s;T.style(e,t,(u*=2)+l),n=n||[]}return n&&(u=+u||+c||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=u,i.end=o)),o}var ce={};function le(e,t){for(var n,i,o,s,r,a=[],c=0,l=e.length;c<l;c++)(i=e[c]).style&&(n=i.style.display,t?("none"===n&&(a[c]=Y.get(i,"display")||null,a[c]||(i.style.display="")),""===i.style.display&&re(i)&&(a[c]=(r=s=void 0,s=(o=i).ownerDocument,r=o.nodeName,(o=ce[r])||(s=s.body.appendChild(s.createElement(r)),o=T.css(s,"display"),s.parentNode.removeChild(s),ce[r]=o="none"===o?"block":o)))):"none"!==n&&(a[c]="none",Y.set(i,"display",n)));for(c=0;c<l;c++)null!=a[c]&&(e[c].style.display=a[c]);return e}T.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){re(this)?T(this).show():T(this).hide()})}});var ue=/^(?:checkbox|radio)$/i,he=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,de=/^$|^module$|\/(?:java|ecma)script/i;Zt=E.createDocumentFragment().appendChild(E.createElement("div")),(d=E.createElement("input")).setAttribute("type","radio"),d.setAttribute("checked","checked"),d.setAttribute("name","t"),Zt.appendChild(d),S.checkClone=Zt.cloneNode(!0).cloneNode(!0).lastChild.checked,Zt.innerHTML="<textarea>x</textarea>",S.noCloneChecked=!!Zt.cloneNode(!0).lastChild.defaultValue,Zt.innerHTML="<option></option>",S.option=!!Zt.lastChild;var pe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function fe(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&k(e,t)?T.merge([e],n):n}function me(e,t){for(var n=0,i=e.length;n<i;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}pe.tbody=pe.tfoot=pe.colgroup=pe.caption=pe.thead,pe.th=pe.td,S.option||(pe.optgroup=pe.option=[1,"<select multiple='multiple'>","</select>"]);var ge=/<|&#?\w+;/;function ve(e,t,n,i,o){for(var s,r,a,c,l,u=t.createDocumentFragment(),h=[],d=0,p=e.length;d<p;d++)if((s=e[d])||0===s)if("object"===f(s))T.merge(h,s.nodeType?[s]:s);else if(ge.test(s)){for(r=r||u.appendChild(t.createElement("div")),a=(he.exec(s)||["",""])[1].toLowerCase(),a=pe[a]||pe._default,r.innerHTML=a[1]+T.htmlPrefilter(s)+a[2],l=a[0];l--;)r=r.lastChild;T.merge(h,r.childNodes),(r=u.firstChild).textContent=""}else h.push(t.createTextNode(s));for(u.textContent="",d=0;s=h[d++];)if(i&&-1<T.inArray(s,i))o&&o.push(s);else if(c=oe(s),r=fe(u.appendChild(s),"script"),c&&me(r),n)for(l=0;s=r[l++];)de.test(s.type||"")&&n.push(s);return u}var ye=/^key/,Se=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,be=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function we(){return!1}function Ee(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Te(e,t,n,i,o,s){var r,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)Te(e,a,n,i,t[a],s);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=we;else if(!o)return e;return 1===s&&(r=o,(o=function(e){return T().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=T.guid++)),e.each(function(){T.event.add(this,t,o,i,n)})}function Ae(e,o,s){s?(Y.set(e,o,!1),T.event.add(e,o,{namespace:!1,handler:function(e){var t,n,i=Y.get(this,o);if(1&e.isTrigger&&this[o]){if(i.length)(T.event.special[o]||{}).delegateType&&e.stopPropagation();else if(i=a.call(arguments),Y.set(this,o,i),t=s(this,o),this[o](),i!==(n=Y.get(this,o))||t?Y.set(this,o,!1):n={},i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else i.length&&(Y.set(this,o,{value:T.event.trigger(T.extend(i[0],T.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,o)&&T.event.add(e,o,Ce)}T.event={global:{},add:function(t,e,n,i,o){var s,r,a,c,l,u,h,d,p,f=Y.get(t);if(q(t))for(n.handler&&(n=(s=n).handler,o=s.selector),o&&T.find.matchesSelector(ie,o),n.guid||(n.guid=T.guid++),(a=f.events)||(a=f.events=Object.create(null)),(r=f.handle)||(r=f.handle=function(e){return void 0!==T&&T.event.triggered!==e.type?T.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(M)||[""]).length;c--;)h=p=(l=be.exec(e[c])||[])[1],d=(l[2]||"").split(".").sort(),h&&(u=T.event.special[h]||{},h=(o?u.delegateType:u.bindType)||h,u=T.event.special[h]||{},l=T.extend({type:h,origType:p,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&T.expr.match.needsContext.test(o),namespace:d.join(".")},s),(p=a[h])||((p=a[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,d,r)||t.addEventListener&&t.addEventListener(h,r)),u.add&&(u.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,l):p.push(l),T.event.global[h]=!0)},remove:function(e,t,n,i,o){var s,r,a,c,l,u,h,d,p,f,m,g=Y.hasData(e)&&Y.get(e);if(g&&(c=g.events)){for(l=(t=(t||"").match(M)||[""]).length;l--;)if(p=m=(a=be.exec(t[l])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=T.event.special[p]||{},d=c[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=d.length;s--;)u=d[s],!o&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));r&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,g.handle)||T.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)T.event.remove(e,p+t[l],n,i,!0);T.isEmptyObject(c)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,s,r=new Array(arguments.length),a=T.event.fix(e),c=(Y.get(this,"events")||Object.create(null))[a.type]||[],e=T.event.special[a.type]||{};for(r[0]=a,t=1;t<arguments.length;t++)r[t]=arguments[t];if(a.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,a)){for(s=T.event.handlers.call(this,a,c),t=0;(i=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(o=((T.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,r))&&!1===(a.result=o)&&(a.preventDefault(),a.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,o,s,r,a=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(s=[],r={},n=0;n<c;n++)void 0===r[o=(i=t[n]).selector+" "]&&(r[o]=i.needsContext?-1<T(o,this).index(l):T.find(o,this,null,[l]).length),r[o]&&s.push(i);s.length&&a.push({elem:l,handlers:s})}return l=this,c<t.length&&a.push({elem:l,handlers:t.slice(c)}),a},addProp:function(t,e){Object.defineProperty(T.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[T.expando]?e:new T.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return ue.test(e.type)&&e.click&&k(e,"input")&&Ae(e,"click",Ce),!1},trigger:function(e){e=this||e;return ue.test(e.type)&&e.click&&k(e,"input")&&Ae(e,"click"),!0},_default:function(e){e=e.target;return ue.test(e.type)&&e.click&&k(e,"input")&&Y.get(e,"click")||k(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},T.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},T.Event=function(e,t){if(!(this instanceof T.Event))return new T.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:we,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&T.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:we,isPropagationStopped:we,isImmediatePropagationStopped:we,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ye.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Se.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},function(e,t){T.event.special[e]={setup:function(){return Ae(this,e,Ee),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}}),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){T.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||T.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=o),t}}}),T.fn.extend({on:function(e,t,n,i){return Te(this,e,t,n,i)},one:function(e,t,n,i){return Te(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,T(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=we),this.each(function(){T.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this}});var ke=/<script|<style|<link/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,_e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ie(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")&&T(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function xe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,i,o,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(o in Y.remove(t,"handle events"),s)for(n=0,i=s[o].length;n<i;n++)T.event.add(t,o,s[o][n]);J.hasData(e)&&(e=J.access(e),e=T.extend({},e),J.set(t,e))}}function Oe(n,i,o,s){i=v(i);var e,t,r,a,c,l,u=0,h=n.length,d=h-1,p=i[0],f=m(p);if(f||1<h&&"string"==typeof p&&!S.checkClone&&Pe.test(p))return n.each(function(e){var t=n.eq(e);f&&(i[0]=p.call(this,e,t.html())),Oe(t,i,o,s)});if(h&&(t=(e=ve(i,n[0].ownerDocument,!1,n,s)).firstChild,1===e.childNodes.length&&(e=t),t||s)){for(a=(r=T.map(fe(e,"script"),Le)).length;u<h;u++)c=e,u!==d&&(c=T.clone(c,!0,!0),a&&T.merge(r,fe(c,"script"))),o.call(n[u],c,u);if(a)for(l=r[r.length-1].ownerDocument,T.map(r,xe),u=0;u<a;u++)c=r[u],de.test(c.type||"")&&!Y.access(c,"globalEval")&&T.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?T._evalUrl&&!c.noModule&&T._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):b(c.textContent.replace(_e,""),c,l))}return n}function Me(e,t,n){for(var i,o=t?T.filter(t,e):e,s=0;null!=(i=o[s]);s++)n||1!==i.nodeType||T.cleanData(fe(i)),i.parentNode&&(n&&oe(i)&&me(fe(i,"script")),i.parentNode.removeChild(i));return e}T.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,o,s,r,a,c,l,u=e.cloneNode(!0),h=oe(e);if(!(S.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||T.isXMLDoc(e)))for(r=fe(u),i=0,o=(s=fe(e)).length;i<o;i++)a=s[i],c=r[i],l=void 0,"input"===(l=c.nodeName.toLowerCase())&&ue.test(a.type)?c.checked=a.checked:"input"!==l&&"textarea"!==l||(c.defaultValue=a.defaultValue);if(t)if(n)for(s=s||fe(e),r=r||fe(u),i=0,o=s.length;i<o;i++)Fe(s[i],r[i]);else Fe(e,u);return 0<(r=fe(u,"script")).length&&me(r,!h&&fe(e,"script")),u},cleanData:function(e){for(var t,n,i,o=T.event.special,s=0;void 0!==(n=e[s]);s++)if(q(n)){if(t=n[Y.expando]){if(t.events)for(i in t.events)o[i]?T.event.remove(n,i):T.removeEvent(n,i,t.handle);n[Y.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),T.fn.extend({detach:function(e){return Me(this,e,!0)},remove:function(e){return Me(this,e)},text:function(e){return z(this,function(e){return void 0===e?T.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Oe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ie(this,e).appendChild(e)})},prepend:function(){return Oe(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Ie(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Oe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Oe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(T.cleanData(fe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return T.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!pe[(he.exec(e)||["",""])[1].toLowerCase()]){e=T.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(T.cleanData(fe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Oe(this,arguments,function(e){var t=this.parentNode;T.inArray(this,n)<0&&(T.cleanData(fe(this)),t&&t.replaceChild(e,this))},n)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,r){T.fn[e]=function(e){for(var t,n=[],i=T(e),o=i.length-1,s=0;s<=o;s++)t=s===o?this:this.clone(!0),T(i[s])[r](t),c.apply(n,t.get());return this.pushStack(n)}});function De(e){var t=e.ownerDocument.defaultView;return(t=!t||!t.opener?w:t).getComputedStyle(e)}function Ne(e,t,n){var i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in n=n.call(e),t)e.style[i]=o[i];return n}var Re,Ue,He,We,ze,Be,je,Ke,Ge=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),qe=new RegExp(ne.join("|"),"i");function Ve(){var e;Ke&&(je.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ke.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(je).appendChild(Ke),e=w.getComputedStyle(Ke),Re="1%"!==e.top,Be=12===Ye(e.marginLeft),Ke.style.right="60%",We=36===Ye(e.right),Ue=36===Ye(e.width),Ke.style.position="absolute",He=12===Ye(Ke.offsetWidth/3),ie.removeChild(je),Ke=null)}function Ye(e){return Math.round(parseFloat(e))}function Je(e,t,n){var i,o,s=e.style;return(n=n||De(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||oe(e)||(o=T.style(e,t)),!S.pixelBoxStyles()&&Ge.test(o)&&qe.test(t)&&(i=s.width,e=s.minWidth,t=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=e,s.maxWidth=t)),void 0!==o?o+"":o}function Ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}je=E.createElement("div"),(Ke=E.createElement("div")).style&&(Ke.style.backgroundClip="content-box",Ke.cloneNode(!0).style.backgroundClip="",S.clearCloneStyle="content-box"===Ke.style.backgroundClip,T.extend(S,{boxSizingReliable:function(){return Ve(),Ue},pixelBoxStyles:function(){return Ve(),We},pixelPosition:function(){return Ve(),Re},reliableMarginLeft:function(){return Ve(),Be},scrollboxSize:function(){return Ve(),He},reliableTrDimensions:function(){var e,t,n;return null==ze&&(e=E.createElement("table"),n=E.createElement("tr"),t=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px",n.style.height="1px",t.style.height="9px",ie.appendChild(e).appendChild(n).appendChild(t),n=w.getComputedStyle(n),ze=3<parseInt(n.height),ie.removeChild(e)),ze}}));var Xe=["Webkit","Moz","ms"],Qe=E.createElement("div").style,$e={};function et(e){var t=T.cssProps[e]||$e[e];return t||(e in Qe?e:$e[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Xe.length;n--;)if((e=Xe[n]+t)in Qe)return e}(e)||e)}var tt=/^(none|table(?!-c[ea]).+)/,nt=/^--/,it={position:"absolute",visibility:"hidden",display:"block"},ot={letterSpacing:"0",fontWeight:"400"};function st(e,t,n){var i=te.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function rt(e,t,n,i,o,s){var r="width"===t?1:0,a=0,c=0;if(n===(i?"border":"content"))return 0;for(;r<4;r+=2)"margin"===n&&(c+=T.css(e,n+ne[r],!0,o)),i?("content"===n&&(c-=T.css(e,"padding"+ne[r],!0,o)),"margin"!==n&&(c-=T.css(e,"border"+ne[r]+"Width",!0,o))):(c+=T.css(e,"padding"+ne[r],!0,o),"padding"!==n?c+=T.css(e,"border"+ne[r]+"Width",!0,o):a+=T.css(e,"border"+ne[r]+"Width",!0,o));return!i&&0<=s&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-c-a-.5))||0),c}function at(e,t,n){var i=De(e),o=(!S.boxSizingReliable()||n)&&"border-box"===T.css(e,"boxSizing",!1,i),s=o,r=Je(e,t,i),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ge.test(r)){if(!n)return r;r="auto"}return(!S.boxSizingReliable()&&o||!S.reliableTrDimensions()&&k(e,"tr")||"auto"===r||!parseFloat(r)&&"inline"===T.css(e,"display",!1,i))&&e.getClientRects().length&&(o="border-box"===T.css(e,"boxSizing",!1,i),(s=a in e)&&(r=e[a])),(r=parseFloat(r)||0)+rt(e,t,n||(o?"border":"content"),s,i,r)+"px"}function ct(e,t,n,i,o){return new ct.prototype.init(e,t,n,i,o)}T.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=Je(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,r,a=G(t),c=nt.test(t),l=e.style;if(c||(t=et(a)),r=T.cssHooks[t]||T.cssHooks[a],void 0===n)return r&&"get"in r&&void 0!==(o=r.get(e,!1,i))?o:l[t];"string"===(s=typeof n)&&(o=te.exec(n))&&o[1]&&(n=ae(e,t,o),s="number"),null!=n&&n==n&&("number"!==s||c||(n+=o&&o[3]||(T.cssNumber[a]?"":"px")),S.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),r&&"set"in r&&void 0===(n=r.set(e,n,i))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,i){var o,s=G(t);return nt.test(t)||(t=et(s)),"normal"===(o=void 0===(o=(s=T.cssHooks[t]||T.cssHooks[s])&&"get"in s?s.get(e,!0,n):o)?Je(e,t,i):o)&&t in ot&&(o=ot[t]),""===n||n?(t=parseFloat(o),!0===n||isFinite(t)?t||0:o):o}}),T.each(["height","width"],function(e,a){T.cssHooks[a]={get:function(e,t,n){if(t)return!tt.test(T.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?at(e,a,n):Ne(e,it,function(){return at(e,a,n)})},set:function(e,t,n){var i,o=De(e),s=!S.scrollboxSize()&&"absolute"===o.position,r=(s||n)&&"border-box"===T.css(e,"boxSizing",!1,o),n=n?rt(e,a,n,r,o):0;return r&&s&&(n-=Math.ceil(e["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(o[a])-rt(e,a,"border",!1,o)-.5)),n&&(i=te.exec(t))&&"px"!==(i[3]||"px")&&(e.style[a]=t,t=T.css(e,a)),st(0,t,n)}}}),T.cssHooks.marginLeft=Ze(S.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Je(e,"marginLeft"))||e.getBoundingClientRect().left-Ne(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),T.each({margin:"",padding:"",border:"Width"},function(o,s){T.cssHooks[o+s]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+ne[t]+s]=i[t]||i[t-2]||i[0];return n}},"margin"!==o&&(T.cssHooks[o+s].set=st)}),T.fn.extend({css:function(e,t){return z(this,function(e,t,n){var i,o,s={},r=0;if(Array.isArray(t)){for(i=De(e),o=t.length;r<o;r++)s[t[r]]=T.css(e,t[r],!1,i);return s}return void 0!==n?T.style(e,t,n):T.css(e,t)},e,t,1<arguments.length)}}),((T.Tween=ct).prototype={constructor:ct,init:function(e,t,n,i,o,s){this.elem=e,this.prop=n,this.easing=o||T.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(T.cssNumber[n]?"":"px")},cur:function(){var e=ct.propHooks[this.prop];return(e&&e.get?e:ct.propHooks._default).get(this)},run:function(e){var t,n=ct.propHooks[this.prop];return this.options.duration?this.pos=t=T.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:ct.propHooks._default).set(this),this}}).init.prototype=ct.prototype,(ct.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=T.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){T.fx.step[e.prop]?T.fx.step[e.prop](e):1!==e.elem.nodeType||!T.cssHooks[e.prop]&&null==e.elem.style[et(e.prop)]?e.elem[e.prop]=e.now:T.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=ct.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},T.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},T.fx=ct.prototype.init,T.fx.step={};var lt,ut,ht=/^(?:toggle|show|hide)$/,dt=/queueHooks$/;function pt(){ut&&(!1===E.hidden&&w.requestAnimationFrame?w.requestAnimationFrame(pt):w.setTimeout(pt,T.fx.interval),T.fx.tick())}function ft(){return w.setTimeout(function(){lt=void 0}),lt=Date.now()}function mt(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=ne[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function gt(e,t,n){for(var i,o=(vt.tweeners[t]||[]).concat(vt.tweeners["*"]),s=0,r=o.length;s<r;s++)if(i=o[s].call(n,t,e))return i}function vt(o,e,t){var n,s,i=0,r=vt.prefilters.length,a=T.Deferred().always(function(){delete c.elem}),c=function(){if(s)return!1;for(var e=lt||ft(),e=Math.max(0,l.startTime+l.duration-e),t=1-(e/l.duration||0),n=0,i=l.tweens.length;n<i;n++)l.tweens[n].run(t);return a.notifyWith(o,[l,t,e]),t<1&&i?e:(i||a.notifyWith(o,[l,1,0]),a.resolveWith(o,[l]),!1)},l=a.promise({elem:o,props:T.extend({},e),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},t),originalProperties:e,originalOptions:t,startTime:lt||ft(),duration:t.duration,tweens:[],createTween:function(e,t){e=T.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(e),e},stop:function(e){var t=0,n=e?l.tweens.length:0;if(s)return this;for(s=!0;t<n;t++)l.tweens[t].run(1);return e?(a.notifyWith(o,[l,1,0]),a.resolveWith(o,[l,e])):a.rejectWith(o,[l,e]),this}}),u=l.props;for(!function(e,t){var n,i,o,s,r;for(n in e)if(o=t[i=G(n)],s=e[n],Array.isArray(s)&&(o=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),(r=T.cssHooks[i])&&"expand"in r)for(n in s=r.expand(s),delete e[i],s)n in e||(e[n]=s[n],t[n]=o);else t[i]=o}(u,l.opts.specialEasing);i<r;i++)if(n=vt.prefilters[i].call(l,o,u,l.opts))return m(n.stop)&&(T._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return T.map(u,gt,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),T.fx.timer(T.extend(c,{elem:o,anim:l,queue:l.opts.queue})),l}T.Animation=T.extend(vt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ae(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,o=(e=m(e)?(t=e,["*"]):e.match(M)).length;i<o;i++)n=e[i],vt.tweeners[n]=vt.tweeners[n]||[],vt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,o,s,r,a,c,l,u="width"in t||"height"in t,h=this,d={},p=e.style,f=e.nodeType&&re(e),m=Y.get(e,"fxshow");for(i in n.queue||(null==(r=T._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,h.always(function(){h.always(function(){r.unqueued--,T.queue(e,"fx").length||r.empty.fire()})})),t)if(o=t[i],ht.test(o)){if(delete t[i],s=s||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[i])continue;f=!0}d[i]=m&&m[i]||T.style(e,i)}if((c=!T.isEmptyObject(t))||!T.isEmptyObject(d))for(i in u&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=m&&m.display)&&(l=Y.get(e,"display")),"none"===(u=T.css(e,"display"))&&(l?u=l:(le([e],!0),l=e.style.display||l,u=T.css(e,"display"),le([e]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===T.css(e,"float")&&(c||(h.done(function(){p.display=l}),null==l&&(u=p.display,l="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),c=!1,d)c||(m?"hidden"in m&&(f=m.hidden):m=Y.access(e,"fxshow",{display:l}),s&&(m.hidden=!f),f&&le([e],!0),h.done(function(){for(i in f||le([e]),Y.remove(e,"fxshow"),d)T.style(e,i,d[i])})),c=gt(f?m[i]:0,i,h),i in m||(m[i]=c.start,f&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?vt.prefilters.unshift(e):vt.prefilters.push(e)}}),T.speed=function(e,t,n){var i=e&&"object"==typeof e?T.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return T.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in T.fx.speeds?i.duration=T.fx.speeds[i.duration]:i.duration=T.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&T.dequeue(this,i.queue)},i},T.fn.extend({fadeTo:function(e,t,n,i){return this.filter(re).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var o=T.isEmptyObject(t),s=T.speed(e,n,i),i=function(){var e=vt(this,T.extend({},t),s);(o||Y.get(this,"finish"))&&e.stop(!0)};return i.finish=i,o||!1===s.queue?this.each(i):this.queue(s.queue,i)},stop:function(o,e,s){function r(e){var t=e.stop;delete e.stop,t(s)}return"string"!=typeof o&&(s=e,e=o,o=void 0),e&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=T.timers,i=Y.get(this);if(t)i[t]&&i[t].stop&&r(i[t]);else for(t in i)i[t]&&i[t].stop&&dt.test(t)&&r(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(s),e=!1,n.splice(t,1));!e&&s||T.dequeue(this,o)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var e,t=Y.get(this),n=t[r+"queue"],i=t[r+"queueHooks"],o=T.timers,s=n?n.length:0;for(t.finish=!0,T.queue(this,r,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===r&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),T.each(["toggle","show","hide"],function(e,i){var o=T.fn[i];T.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(mt(i,!0),e,t,n)}}),T.each({slideDown:mt("show"),slideUp:mt("hide"),slideToggle:mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){T.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),T.timers=[],T.fx.tick=function(){var e,t=0,n=T.timers;for(lt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||T.fx.stop(),lt=void 0},T.fx.timer=function(e){T.timers.push(e),T.fx.start()},T.fx.interval=13,T.fx.start=function(){ut||(ut=!0,pt())},T.fx.stop=function(){ut=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(i,e){return i=T.fx&&T.fx.speeds[i]||i,this.queue(e=e||"fx",function(e,t){var n=w.setTimeout(e,i);t.stop=function(){w.clearTimeout(n)}})},Zt=E.createElement("input"),ee=E.createElement("select").appendChild(E.createElement("option")),Zt.type="checkbox",S.checkOn=""!==Zt.value,S.optSelected=ee.selected,(Zt=E.createElement("input")).value="t",Zt.type="radio",S.radioValue="t"===Zt.value;var yt,St=T.expr.attrHandle;T.fn.extend({attr:function(e,t){return z(this,T.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){T.removeAttr(this,e)})}}),T.extend({attr:function(e,t,n){var i,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?T.prop(e,t,n):(1===s&&T.isXMLDoc(e)||(o=T.attrHooks[t.toLowerCase()]||(T.expr.match.bool.test(t)?yt:void 0)),void 0!==n?null===n?void T.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):!(o&&"get"in o&&null!==(i=o.get(e,t)))&&null==(i=T.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!S.radioValue&&"radio"===t&&k(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(M);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),yt={set:function(e,t,n){return!1===t?T.removeAttr(e,n):e.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),function(e,t){var r=St[t]||T.find.attr;St[t]=function(e,t,n){var i,o,s=t.toLowerCase();return n||(o=St[s],St[s]=i,i=null!=r(e,t,n)?s:null,St[s]=o),i}});var bt=/^(?:input|select|textarea|button)$/i,Ct=/^(?:a|area)$/i;function wt(e){return(e.match(M)||[]).join(" ")}function Et(e){return e.getAttribute&&e.getAttribute("class")||""}function Tt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(M)||[]}T.fn.extend({prop:function(e,t){return z(this,T.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[T.propFix[e]||e]})}}),T.extend({prop:function(e,t,n){var i,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&T.isXMLDoc(e)||(t=T.propFix[t]||t,o=T.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=T.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),S.optSelected||(T.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),T.fn.extend({addClass:function(t){var e,n,i,o,s,r,a=0;if(m(t))return this.each(function(e){T(this).addClass(t.call(this,e,Et(this)))});if((e=Tt(t)).length)for(;n=this[a++];)if(r=Et(n),i=1===n.nodeType&&" "+wt(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(r=wt(i))&&n.setAttribute("class",r)}return this},removeClass:function(t){var e,n,i,o,s,r,a=0;if(m(t))return this.each(function(e){T(this).removeClass(t.call(this,e,Et(this)))});if(!arguments.length)return this.attr("class","");if((e=Tt(t)).length)for(;n=this[a++];)if(r=Et(n),i=1===n.nodeType&&" "+wt(r)+" "){for(s=0;o=e[s++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(r=wt(i))&&n.setAttribute("class",r)}return this},toggleClass:function(o,t){var s=typeof o,r="string"==s||Array.isArray(o);return"boolean"==typeof t&&r?t?this.addClass(o):this.removeClass(o):m(o)?this.each(function(e){T(this).toggleClass(o.call(this,e,Et(this),t),t)}):this.each(function(){var e,t,n,i;if(r)for(t=0,n=T(this),i=Tt(o);e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==o&&"boolean"!=s||((e=Et(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==o&&Y.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,i=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+wt(Et(t))+" ").indexOf(i))return!0;return!1}});var At=/\r/g;T.fn.extend({val:function(t){var n,e,i,o=this[0];return arguments.length?(i=m(t),this.each(function(e){1===this.nodeType&&(null==(e=i?t.call(this,e,T(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=T.map(e,function(e){return null==e?"":e+""})),(n=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):o?(n=T.valHooks[o.type]||T.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(o,"value"))?e:"string"==typeof(e=o.value)?e.replace(At,""):null==e?"":e:void 0}}),T.extend({valHooks:{option:{get:function(e){var t=T.find.attr(e,"value");return null!=t?t:wt(T.text(e))}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,o="select-one"===e.type,s=o?null:[],r=o?i+1:n.length,a=i<0?r:o?i:0;a<r;a++)if(((t=n[a]).selected||a===i)&&!t.disabled&&(!t.parentNode.disabled||!k(t.parentNode,"optgroup"))){if(t=T(t).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,o=e.options,s=T.makeArray(t),r=o.length;r--;)((i=o[r]).selected=-1<T.inArray(T.valHooks.option.get(i),s))&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<T.inArray(T(e).val(),t)}},S.checkOn||(T.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),S.focusin="onfocusin"in w;function kt(e){e.stopPropagation()}var Pt=/^(?:focusinfocus|focusoutblur)$/;T.extend(T.event,{trigger:function(e,t,n,i){var o,s,r,a,c,l,u,h=[n||E],d=y.call(e,"type")?e.type:e,p=y.call(e,"namespace")?e.namespace.split("."):[],f=u=s=n=n||E;if(3!==n.nodeType&&8!==n.nodeType&&!Pt.test(d+T.event.triggered)&&(-1<d.indexOf(".")&&(d=(p=d.split(".")).shift(),p.sort()),a=d.indexOf(":")<0&&"on"+d,(e=e[T.expando]?e:new T.Event(d,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:T.makeArray(t,[e]),l=T.event.special[d]||{},i||!l.trigger||!1!==l.trigger.apply(n,t))){if(!i&&!l.noBubble&&!g(n)){for(r=l.delegateType||d,Pt.test(r+d)||(f=f.parentNode);f;f=f.parentNode)h.push(f),s=f;s===(n.ownerDocument||E)&&h.push(s.defaultView||s.parentWindow||w)}for(o=0;(f=h[o++])&&!e.isPropagationStopped();)u=f,e.type=1<o?r:l.bindType||d,(c=(Y.get(f,"events")||Object.create(null))[e.type]&&Y.get(f,"handle"))&&c.apply(f,t),(c=a&&f[a])&&c.apply&&q(f)&&(e.result=c.apply(f,t),!1===e.result&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(h.pop(),t)||!q(n)||a&&m(n[d])&&!g(n)&&((s=n[a])&&(n[a]=null),T.event.triggered=d,e.isPropagationStopped()&&u.addEventListener(d,kt),n[d](),e.isPropagationStopped()&&u.removeEventListener(d,kt),T.event.triggered=void 0,s&&(n[a]=s)),e.result}},simulate:function(e,t,n){e=T.extend(new T.Event,n,{type:e,isSimulated:!0});T.event.trigger(e,null,t)}}),T.fn.extend({trigger:function(e,t){return this.each(function(){T.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return T.event.trigger(e,t,n,!0)}}),S.focusin||T.each({focus:"focusin",blur:"focusout"},function(n,i){function o(e){T.event.simulate(i,e.target,T.event.fix(e))}T.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,i);t||e.addEventListener(n,o,!0),Y.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,i)-1;t?Y.access(e,i,t):(e.removeEventListener(n,o,!0),Y.remove(e,i))}}});var _t=w.location,It={guid:Date.now()},Lt=/\?/;T.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new w.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||T.error("Invalid XML: "+e),t};var xt=/\[\]$/,Ft=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;T.param=function(e,t){function n(e,t){t=m(t)?t():t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var i,o=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!T.isPlainObject(e))T.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,o,s){if(Array.isArray(e))T.each(e,function(e,t){o||xt.test(i)?s(i,t):n(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,o,s)});else if(o||"object"!==f(e))s(i,e);else for(var t in e)n(i+"["+t+"]",e[t],o,s)}(i,e[i],t,n);return o.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=T.prop(this,"elements");return e?T.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!T(this).is(":disabled")&&Mt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!ue.test(e))}).map(function(e,t){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,function(e){return{name:t.name,value:e.replace(Ft,"\r\n")}}):{name:t.name,value:n.replace(Ft,"\r\n")}}).get()}});var Dt=/%20/g,Nt=/#.*$/,Rt=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ht=/^(?:GET|HEAD)$/,Wt=/^\/\//,zt={},Bt={},jt="*/".concat("*"),Kt=E.createElement("a");function Gt(s){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,o=e.toLowerCase().match(M)||[];if(m(t))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(s[n]=s[n]||[]).unshift(t)):(s[n]=s[n]||[]).push(t)}}function qt(t,i,o,s){var r={},a=t===Bt;function c(e){var n;return r[e]=!0,T.each(t[e]||[],function(e,t){t=t(i,o,s);return"string"!=typeof t||a||r[t]?a?!(n=t):void 0:(i.dataTypes.unshift(t),c(t),!1)}),n}return c(i.dataTypes[0])||!r["*"]&&c("*")}function Vt(e,t){var n,i,o=T.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i=i||{})[n]=t[n]);return i&&T.extend(!0,e,i),e}Kt.href=_t.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Vt(Vt(e,T.ajaxSettings),t):Vt(T.ajaxSettings,e)},ajaxPrefilter:Gt(zt),ajaxTransport:Gt(Bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var c,l,u,n,h,d,p,i,o,f=T.ajaxSetup({},t=t||{}),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?T(m):T.event,v=T.Deferred(),y=T.Callbacks("once memory"),S=f.statusCode||{},s={},r={},a="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(d){if(!n)for(n={};t=Ut.exec(u);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return d?u:null},setRequestHeader:function(e,t){return null==d&&(e=r[e.toLowerCase()]=r[e.toLowerCase()]||e,s[e]=t),this},overrideMimeType:function(e){return null==d&&(f.mimeType=e),this},statusCode:function(e){if(e)if(d)b.always(e[b.status]);else for(var t in e)S[t]=[S[t],e[t]];return this},abort:function(e){e=e||a;return c&&c.abort(e),C(0,e),this}};if(v.promise(b),f.url=((e||f.url||_t.href)+"").replace(Wt,_t.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(M)||[""],null==f.crossDomain){o=E.createElement("a");try{o.href=f.url,o.href=o.href,f.crossDomain=Kt.protocol+"//"+Kt.host!=o.protocol+"//"+o.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=T.param(f.data,f.traditional)),qt(zt,f,t,b),d)return b;for(i in(p=T.event&&f.global)&&0==T.active++&&T.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ht.test(f.type),l=f.url.replace(Nt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Dt,"+")):(o=f.url.slice(l.length),f.data&&(f.processData||"string"==typeof f.data)&&(l+=(Lt.test(l)?"&":"?")+f.data,delete f.data),!1===f.cache&&(l=l.replace(Rt,"$1"),o=(Lt.test(l)?"&":"?")+"_="+It.guid+++o),f.url=l+o),f.ifModified&&(T.lastModified[l]&&b.setRequestHeader("If-Modified-Since",T.lastModified[l]),T.etag[l]&&b.setRequestHeader("If-None-Match",T.etag[l])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&b.setRequestHeader("Content-Type",f.contentType),b.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+jt+"; q=0.01":""):f.accepts["*"]),f.headers)b.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(!1===f.beforeSend.call(m,b,f)||d))return b.abort();if(a="abort",y.add(f.complete),b.done(f.success),b.fail(f.error),c=qt(Bt,f,t,b)){if(b.readyState=1,p&&g.trigger("ajaxSend",[b,f]),d)return b;f.async&&0<f.timeout&&(h=w.setTimeout(function(){b.abort("timeout")},f.timeout));try{d=!1,c.send(s,C)}catch(e){if(d)throw e;C(-1,e)}}else C(-1,"No Transport");function C(e,t,n,i){var o,s,r,a=t;d||(d=!0,h&&w.clearTimeout(h),c=void 0,u=i||"",b.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(r=function(e,t,n){for(var i,o,s,r,a=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){c.unshift(o);break}if(c[0]in n)s=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){s=o;break}r=r||o}s=s||r}if(s)return s!==c[0]&&c.unshift(s),n[s]}(f,b,n)),!i&&-1<T.inArray("script",f.dataTypes)&&(f.converters["text script"]=function(){}),r=function(e,t,n,i){var o,s,r,a,c,l={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)l[r.toLowerCase()]=e.converters[r];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!c&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=s,s=u.shift())if("*"===s)s=c;else if("*"!==c&&c!==s){if(!(r=l[c+" "+s]||l["* "+s]))for(o in l)if((a=o.split(" "))[1]===s&&(r=l[c+" "+a[0]]||l["* "+a[0]])){!0===r?r=l[o]:!0!==l[o]&&(s=a[0],u.unshift(a[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+c+" to "+s}}}return{state:"success",data:t}}(f,r,b,i),i?(f.ifModified&&((n=b.getResponseHeader("Last-Modified"))&&(T.lastModified[l]=n),(n=b.getResponseHeader("etag"))&&(T.etag[l]=n)),204===e||"HEAD"===f.type?a="nocontent":304===e?a="notmodified":(a=r.state,o=r.data,i=!(s=r.error))):(s=a,!e&&a||(a="error",e<0&&(e=0))),b.status=e,b.statusText=(t||a)+"",i?v.resolveWith(m,[o,a,b]):v.rejectWith(m,[b,a,s]),b.statusCode(S),S=void 0,p&&g.trigger(i?"ajaxSuccess":"ajaxError",[b,f,i?o:s]),y.fireWith(m,[b,a]),p&&(g.trigger("ajaxComplete",[b,f]),--T.active||T.event.trigger("ajaxStop")))}return b},getJSON:function(e,t,n){return T.get(e,t,n,"json")},getScript:function(e,t){return T.get(e,void 0,t,"script")}}),T.each(["get","post"],function(e,o){T[o]=function(e,t,n,i){return m(t)&&(i=i||n,n=t,t=void 0),T.ajax(T.extend({url:e,type:o,dataType:i,data:t,success:n},T.isPlainObject(e)&&e))}}),T.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),T._evalUrl=function(e,t,n){return T.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){T.globalEval(e,t,n)}})},T.fn.extend({wrapAll:function(e){return this[0]&&(m(e)&&(e=e.call(this[0])),e=T(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){T(this).wrapInner(n.call(this,e))}):this.each(function(){var e=T(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){T(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(e){return!T.expr.pseudos.visible(e)},T.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new w.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Jt=T.ajaxSettings.xhr();S.cors=!!Jt&&"withCredentials"in Jt,S.ajax=Jt=!!Jt,T.ajaxTransport(function(o){var s,r;if(S.cors||Jt&&!o.crossDomain)return{send:function(e,t){var n,i=o.xhr();if(i.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)i[n]=o.xhrFields[n];for(n in o.mimeType&&i.overrideMimeType&&i.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);s=function(e){return function(){s&&(s=r=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(Yt[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=s(),r=i.onerror=i.ontimeout=s("error"),void 0!==i.onabort?i.onabort=r:i.onreadystatechange=function(){4===i.readyState&&w.setTimeout(function(){s&&r()})},s=s("abort");try{i.send(o.hasContent&&o.data||null)}catch(e){if(s)throw e}},abort:function(){s&&s()}}}),T.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return T.globalEval(e),e}}}),T.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),T.ajaxTransport("script",function(n){var i,o;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){i=T("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",o=function(e){i.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(i[0])},abort:function(){o&&o()}}});var Zt,Xt=[],Qt=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||T.expando+"_"+It.guid++;return this[e]=!0,e}}),T.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,s,r=!1!==e.jsonp&&(Qt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(e.data)&&"data");if(r||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r?e[r]=e[r].replace(Qt,"$1"+i):!1!==e.jsonp&&(e.url+=(Lt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||T.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=w[i],w[i]=function(){s=arguments},n.always(function(){void 0===o?T(w).removeProp(i):w[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(i)),s&&m(o)&&o(s[0]),s=o=void 0}),"script"}),S.createHTMLDocument=((Zt=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Zt.childNodes.length),T.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(S.createHTMLDocument?((i=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(i)):t=E),i=!n&&[],(n=P.exec(e))?[t.createElement(n[1])]:(n=ve([e],t,i),i&&i.length&&T(i).remove(),T.merge([],n.childNodes)));var i},T.fn.load=function(e,t,n){var i,o,s,r=this,a=e.indexOf(" ");return-1<a&&(i=wt(e.slice(a)),e=e.slice(0,a)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<r.length&&T.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){s=arguments,r.html(i?T("<div>").append(T.parseHTML(e)).find(i):e)}).always(n&&function(e,t){r.each(function(){n.apply(this,s||[e.responseText,t,e])})}),this},T.expr.pseudos.animated=function(t){return T.grep(T.timers,function(e){return t===e.elem}).length},T.offset={setOffset:function(e,t,n){var i,o,s,r,a=T.css(e,"position"),c=T(e),l={};"static"===a&&(e.style.position="relative"),s=c.offset(),i=T.css(e,"top"),r=T.css(e,"left"),r=("absolute"===a||"fixed"===a)&&-1<(i+r).indexOf("auto")?(o=(a=c.position()).top,a.left):(o=parseFloat(i)||0,parseFloat(r)||0),null!=(t=m(t)?t.call(e,n,T.extend({},s)):t).top&&(l.top=t.top-s.top+o),null!=t.left&&(l.left=t.left-s.left+r),"using"in t?t.using.call(e,l):("number"==typeof l.top&&(l.top+="px"),"number"==typeof l.left&&(l.left+="px"),c.css(l))}},T.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){T.offset.setOffset(this,t,e)});var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],o={top:0,left:0};if("fixed"===T.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===T.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((o=T(e).offset()).top+=T.css(e,"borderTopWidth",!0),o.left+=T.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-T.css(i,"marginTop",!0),left:t.left-o.left-T.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===T.css(e,"position");)e=e.offsetParent;return e||ie})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var s="pageYOffset"===o;T.fn[t]=function(e){return z(this,function(e,t,n){var i;return g(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n?i?i[o]:e[t]:void(i?i.scrollTo(s?i.pageXOffset:n,s?n:i.pageYOffset):e[t]=n)},t,e,arguments.length)}}),T.each(["top","left"],function(e,n){T.cssHooks[n]=Ze(S.pixelPosition,function(e,t){if(t)return t=Je(e,n),Ge.test(t)?T(e).position()[n]+"px":t})}),T.each({Height:"height",Width:"width"},function(r,a){T.each({padding:"inner"+r,content:a,"":"outer"+r},function(i,s){T.fn[s]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),o=i||(!0===e||!0===t?"margin":"border");return z(this,function(e,t,n){var i;return g(e)?0===s.indexOf("outer")?e["inner"+r]:e.document.documentElement["client"+r]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+r],i["scroll"+r],e.body["offset"+r],i["offset"+r],i["client"+r])):void 0===n?T.css(e,t,o):T.style(e,t,n,o)},a,n?e:void 0,n)}})}),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){T.fn[t]=function(e){return this.on(t,e)}}),T.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){T.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var $t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;return T.proxy=function(e,t){var n,i;if("string"==typeof t&&(i=e[t],t=e,e=i),m(e))return n=a.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(a.call(arguments)))}).guid=e.guid=e.guid||T.guid++,i},T.holdReady=function(e){e?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=k,T.isFunction=m,T.isWindow=g,T.camelCase=G,T.type=f,T.now=Date.now,T.isNumeric=function(e){var t=T.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},T.trim=function(e){return null==e?"":(e+"").replace($t,"")},"function"==typeof define&&define.amd&&define("czq",[],function(){return T}),T.noConflict=function(e){},T})},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=(i.prototype.set=function(e,t){this.storageRepo.set(e,t)},i.prototype.get=function(e,t){return this.storageRepo.get(e,t)},i.prototype.remove=function(e){this.storageRepo.remove(e)},i.prototype.encode=function(e){return this.storageRepo.encode(e)},i);function i(e){this.storageRepo=e}exports.default=n},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=(i.checkForLocalStorage=function(){try{return"undefined"!=typeof Storage?sessionStorage:{}}catch(e){return{}}},i.formatKey=function(e){return"cz."+e.toLowerCase()},i.prototype.isUBase64=function(e){try{return this.btou(this.utob(e))==e}catch(e){return!1}},i.prototype.isBase64=function(e){try{return btoa(atob(e))==e}catch(e){return!1}},i.prototype.btou=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}))},i.prototype.utob=function(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))},i.prototype.set=function(e,t){try{this.store[i.formatKey(e)]=this.encode(t)}catch(e){}},i.prototype.get=function(e,t){try{return this.decode(this.store[i.formatKey(e)])}catch(e){}return t},i.prototype.remove=function(e){try{delete this.store[i.formatKey(e)]}catch(e){}},i);function i(e){var t=this;this.store=i.checkForLocalStorage();var n=e?{encode:e.encode,decode:e.decode}:{encode:JSON.stringify,decode:JSON.parse};window.btoa?(this.encode=function(e){return t.btou(n.encode(e))},this.decode=function(e){return t.isUBase64(e)?n.decode(t.utob(e)):t.isBase64(e)?n.decode(window.atob(e)):n.decode(e)}):(this.encode=n.encode,this.decode=n.decode)}exports.default=n},function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var i=n(t(85)),s=t(0),o=t(2),r=t(0),a=n(t(1)),t=(Object.defineProperty(c.prototype,"registeredSubFrames",{get:function(){return this._registeredSubframes},set:function(e){this._registeredSubframes=e},enumerable:!1,configurable:!0}),c.prototype.getRegisteredSubFrameById=function(e){return this._registeredSubframes[e]},c.prototype.registerSubFrame=function(e,t,n){var i=r.DataTypeUtils.newGuid();this._registeredSubframes[i]={window:e,origin:t},this.pubsub.publish(s.ChurnZeroAppEvents.SubframeRegistered,{source:i,vcode:n})},c.prototype.setupClientSideUrls=function(){a.default.initLogger(this.windowSvc.clientSideUrls.sockets,!0),this.templater.addGlobal("cdn",this.windowSvc.cdnUrl)},c.prototype.addCdn=function(e){if(0===e.length)return e;if("http:"===e.substring(0,5)||"https:"===e.substring(0,6)||"//:"===e.substring(0,3))return e;if(!this.windowSvc.clientSideUrls.baseApiUrl)throw new Error("Urls Cache must be built before adding cdn");return this.windowSvc.cdnUrl+e},c.prototype.addChildFrameListener=function(){var e,t,n=this;this.isChildFrameListenerAttached||(e=(e=this.WebAppDomain).substr(0,e.length-1),t=s.iFrameUtils.attachTransportMessageListener(this.windowSvc.window,e,function(e,t){e.code===s.TransportCodes.PubSubMirror&&n.pubsub.publishMirrored(e.data)},this.windowSvc.JSON),this.removeChildFrameListener=function(){n.windowSvc.window.removeEventListener&&n.windowSvc.window.removeEventListener("message",t,!1),n.isChildFrameListenerAttached=!1,n.removeChildFrameListener=void 0},this.isChildFrameListenerAttached=!0)},c.prototype.addFrameComListener=function(){var e,t,n=this;this.isFrameComListenerAttached||(e=this.windowSvc.origins.join(","),t=s.iFrameUtils.attachTransportMessageListener(this.windowSvc.window,e,function(e,t){if(e.code===s.TransportCodes.FrameComm){e=e.data;try{n.handleFrameComMessage(e,t)}catch(e){}}},this.windowSvc.JSON,function(e,t){a.default.report("iFrameUtils.attachTransportMessageListener at application.service.ts",e,(t.data||"e.data is falsy").toString())}),this.removeFrameComListener=function(){n.windowSvc.window.removeEventListener&&n.windowSvc.window.removeEventListener("message",t,!1),n.isFrameComListenerAttached=!1,n.removeFrameComListener=void 0},this.isFrameComListenerAttached=!0)},c.prototype.messageMain=function(e){this.mainFrame&&this.sendFrameCom(this.mainFrame,e)},c.prototype.messageSubFrames=function(e){if(this.registeredSubFrames){var t,n=[];for(i in this._registeredSubframes)s.CoreUtils.hasOwnProp(this._registeredSubframes,i)&&((t=this._registeredSubframes[i])&&t.window?this.sendFrameCom(t,e):n.push(i));for(var i,o=0;o<n.length;o++)try{(i=n[o])&&s.CoreUtils.hasOwnProp(this._registeredSubframes,i)&&(this._registeredSubframes[i]=void 0,delete this._registeredSubframes[i])}catch(e){}}},c.prototype.sendFrameCom=function(e,t){t=s.iFrameUtils.buildTransportMessage(s.TransportCodes.FrameComm,t);if(e&&e.window)try{e.window.postMessage(s.iFrameUtils.encrypt(this.windowSvc.JSON.stringify(t)),e.origin)}catch(e){}},c.prototype.handleFrameComMessage=function(e,t){if(e.code!==o.Enums.FrameCommCodes.SubframeBoot)if(e.code!==o.Enums.FrameCommCodes.SubframeBootResponse){if(this.isMain){var n,i=!1;for(n in this.registeredSubFrames)!i&&s.CoreUtils.hasOwnProp(this.registeredSubFrames,n)&&this.registeredSubFrames[n].window===t.source&&(i=!0);if(!i)return}else if(!this.mainFrame||this.mainFrame.window!==t.source)return;switch(e.code){case o.Enums.FrameCommCodes.MainFrameComRePublish:case o.Enums.FrameCommCodes.MainFramePassdown:this.isMain||this.pubsub.publish(e.code,e.data);break;case o.Enums.FrameCommCodes.SubFramePassback:this.isMain&&this.pubsub.publish(e.code,e.data)}}else this.isMain||(this.mainFrame={window:t.source,origin:t.origin},e.data.source=t.source,this.pubsub.publish(o.Enums.FrameCommCodes.SubframeBootResponse,e.data));else this.isMain&&this.registerSubFrame(t.source,t.origin,e.data)},Object.defineProperty(c.prototype,"isSelfHosted",{get:function(){return"true"===this._isSelfHosted.trim().toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isDebugging",{get:function(){return this.storageSvc.get(c.storageKeys.IsDebugging,!1)},set:function(e){e?this.storageSvc.set(c.storageKeys.IsDebugging,e):this.storageSvc.remove(c.storageKeys.IsDebugging)},enumerable:!1,configurable:!0}),c.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.isDebugging&&(e=[e].concat(t||[]),!this.isMain&&0<e.length&&(e[0]="**Sub** - "+e[0]),this.windowSvc.window.console.info.apply(this.windowSvc.window.console,e))},Object.defineProperty(c.prototype,"WebAppDomain",{get:function(){return this.webAppDomain},set:function(e){this.webAppDomain=e},enumerable:!1,configurable:!0}),c.storageKeys={AdminPanelState:"ADMIN_PANEL__STATE",IsDebugging:"IS_DEBUGGING"},c);function c(e,t){this.storageSvc=e,this.windowSvc=t,this._registeredSubframes={},this.isChildFrameListenerAttached=!1,this.isFrameComListenerAttached=!1,this._isSelfHosted=!0,this.pubsub=new s.PubSuber(a.default),this._registeredSubframes={},this.templater=new i.default(this.windowSvc.czq)}exports.default=t},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=(i.prototype.compile_template=function(e,t,n){var i=this;this.czq.get(e,function(e){e=i.populateTemplate(e,t);n(e,t)})},i.prototype.populateTemplate=function(e,t,n){if(e){for(var i in this.globals)t[i]||(t[i]=this.globals[i]);for(var i in t)e=e.split("{{"+i+"}}").join(t[i]||"");return e=!0===n?this.purge(e):e}},i.prototype.addGlobal=function(e,t){this.globals[e]=t},i.prototype.purge=function(e){return e&&e.replace(i.PlaceHolderRegex,"")},i.PlaceHolderRegex=/{{[^}]*}}/g,i);function i(e){this.czq=e,this.globals={}}exports.default=n},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});function n(t){var n=this;void 0===t&&(t={}),Object.keys(t).forEach(function(e){n[e]=t[e]})}exports.default=n},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=(Object.defineProperty(i.prototype,"appVersion",{get:function(){return this.commRepo.appVersion},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"appKey",{get:function(){return this.commRepo.appKey},set:function(e){this.commRepo.appKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"appHost",{get:function(){return this.urlTracking?this.commRepo.appHost:"Url Tracking Disabled"},set:function(e){this.commRepo.appHost=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"urlTracking",{get:function(){return this.commRepo.urlTracking},set:function(e){this.commRepo.urlTracking=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"contactKey",{get:function(){return this.commRepo.contactKey},set:function(e){this.commRepo.contactKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"accountHash",{get:function(){return this.commRepo.accountHash},set:function(e){this.commRepo.accountHash=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"contactHash",{get:function(){return this.commRepo.contactHash},set:function(e){this.commRepo.contactHash=e},enumerable:!1,configurable:!0}),i.prototype.registerListener=function(e,t){return this.commRepo.registerListener(e,t)},i.prototype.registerMirror=function(e){return this.commRepo.registerMirror(e)},i.prototype.publishMirrored=function(e){this.commRepo.publishMirrored(e)},i.prototype.generateContactKey=function(e,t){return this.commRepo.generateContactKey(e,t)},i.prototype.getContactKeyFromCache=function(){return this.commRepo.getContactKeyFromCache()},i.prototype.isContactKeyValid=function(e){return this.commRepo.isContactKeyValid(e)},i.prototype.splitContactKey=function(e){return this.commRepo.splitContactKey(e)},i.prototype.isAppKeyValid=function(e){return this.commRepo.isAppKeyValid(e)},i.prototype.send=function(e,t,n){try{this.commRepo.send(e,t,n)}catch(e){}},i.prototype.flush=function(){this.commRepo.flush()},i.prototype.isConnected=function(){return this.commRepo.IsConnected},i.prototype.connect=function(e,t,n,i){this.commRepo.connect(e,t,n,i)},i.prototype.setPollInterval=function(e){this.commRepo.setPollInterval(e)},i.prototype.resetPollIntervalToDefault=function(){this.commRepo.resetPollIntervalToDefault()},i.prototype.clearAllListeners=function(){this.commRepo.clearAllListeners()},i.prototype.disconnect=function(){this.commRepo.disconnect()},i.prototype.reset=function(){this.commRepo.reset()},i.prototype.destroy=function(){this.commRepo.destroy()},i);function i(e){this.commRepo=e}exports.default=n},function(e,exports,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o=t(0),s=t(5),r=i(t(33)),a=t(0),t=(Object.defineProperty(c.prototype,"currentActivity",{get:function(){return this.storageSvc.get(c.storageKeys.TimeInAppCurrentKey,null)},enumerable:!1,configurable:!0}),c.prototype.updateCurrentActivity=function(e){this.storageSvc.set(c.storageKeys.TimeInAppCurrentKey,e)},c.prototype.clearCurrentActivity=function(){this.storageSvc.remove(c.storageKeys.TimeInAppCurrentKey)},c.prototype.SetFunctionality=function(e){this.functionality=e},c.prototype.CurrentFunctionality=function(){return this.functionality},c.prototype.triggerHeartbeat=function(e){var t;this.ShouldPreventUsageSends||+this.windowSvc.Date.now()-+this.lastHeartbeat>this.heartbeatInterval&&(this.lastHeartbeat=this.windowSvc.Date.now(),t={title:this.windowSvc.title(),location:this.windowSvc.href()},this.commSvc.send(o.SocketMessageTypes.SOCKETMESSAGETYPE_IS_ACTIVE,this.commSvc.urlTracking?t:null),!e||(e=this.popModuleActivities())&&0<e.length&&this.commSvc.send(o.SocketMessageTypes.SOCKETMESSAGETYPE_TIME_IN_APP,e))},c.prototype.changeHeartbeatInterval=function(e){this.heartbeatInterval!==e&&(this.heartbeatInterval=e,this.lastHeartbeat=0)},Object.defineProperty(c.prototype,"LaunchAvatarUrl",{get:function(){var e=!this.PanelEnabled&&this.DevlessPanelEnabled?"img/ch0-icon-light-32x32.png":this.AlwaysUseLaunchAvatar||!this.HasAccountOwner||0===(this.AccountOwnerAvatarUrl||"").length?this.accountContent.launchAvatarUrl:this.AccountOwnerAvatarUrl;return this.appSvc.addCdn(e=e||"img/info.png")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"AccountOwnerAvatarUrl",{get:function(){var e=this.tenantSvc.accountOwner;return e&&e.avatarUrl?this.appSvc.addCdn(e.avatarUrl):""},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"PanelEnabled",{get:function(){return this.getBoolFuncFlag("panelEnabled")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"DevlessPanelEnabled",{get:function(){return this.getBoolFuncFlag("devlessEnabled")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ShouldPreventUsageSends",{get:function(){return this.getBoolFuncFlag("devlessEnabled")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ShowAccountOwner",{get:function(){return this.getBoolFuncFlag("showAccountOwnerSection")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"AlwaysUseLaunchAvatar",{get:function(){return this.getBoolFuncFlag("alwaysUseLaunchAvatar")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"HasAccountOwner",{get:function(){return this.getBoolFuncFlag("hasAccountOwner")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"OnlyShowWhenMessagesExist",{get:function(){return this.getBoolFuncFlag("onlyShowWhenMessagesExist")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"PanelPosition",{get:function(){return this.functionality.panelPosition},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"AvatarType",{get:function(){return this.functionality.avatarType},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"LaunchIconPositionOffsetVertical",{get:function(){return this.functionality.launchIconPositionOffsetVertical},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"LaunchIconPositionOffsetHorizontal",{get:function(){return this.functionality.launchIconPositionOffsetHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"LaunchIconPositionId",{get:function(){return this.functionality.launchIconPositionId},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"SuccessCenterEnabled",{get:function(){var e;return this.tenantSvc.FeatureEnabled(s.ReleaseGates.SuccessCentersReleased)&&this.tenantSvc.FeatureEnabled(s.FeatureFlags.SuccessCentersEnabled)&&!(null===(e=this.successCenterConfig)||void 0===e||!e.successCenterId)},enumerable:!1,configurable:!0}),c.prototype.SetAccountContent=function(e){if(this.accountContent={defaultAnnouncement:e.defaultAnnouncementContent,header:e.headerHtml,footer:e.footerHtml,launchAvatarUrl:e.launchAvatarUrl,css:e.css,clickToSeeMoreText:e.clickToSeeMoreText,branding:null,announcementStyles:new o.AnnouncementStyleConfig},e.branding&&0<e.branding.trim().length)try{var t=this.windowSvc.JSON.parse(e.branding);this.accountContent.branding=o.CoreUtils.extend(this.accountContent.branding,t)}catch(e){}e=this.windowSvc.coder().decode(e.announcementStyles||"{}"),e=n(n({},a.CZ_DEFAULT_ANNOUNCEMENT_STYLE_CONFIG),e);this.accountContent.announcementStyles=o.ModelUtils.create(new o.AnnouncementStyleConfig,e)},Object.defineProperty(c.prototype,"CurrentAccountContent",{get:function(){return this.accountContent},enumerable:!1,configurable:!0}),c.prototype.SetModule=function(e){var t;this.CurrentModule===e&&this.currentActivity||(t=(new this.windowSvc.Date).toISOString(),this.currentActivity&&this.endCurrentActivity(t),this.CurrentModule=e,this.startNewActivity(t))},c.prototype.SetModuleActivityActive=function(){this.SetModule(this.CurrentModule),this.changeHeartbeatInterval(c.heartbeatIntervals.active)},c.prototype.SetModuleActivityInactive=function(){this.currentActivity&&this.endCurrentActivity((new this.windowSvc.Date).toISOString())},c.prototype.SetLastDigestTimestamp=function(){this.lastDigestTimeStamp=this.windowSvc.Date.now()},c.prototype.SetSilent=function(e){this.isSilent=e},Object.defineProperty(c.prototype,"IsSilent",{get:function(){return this.isSilent},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"CurrentAdminUserAccount",{get:function(){return this.adminUserAccount},set:function(e){this.adminUserAccount=e},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"IsDevlessPanelOpen",{get:function(){return this.storageSvc.get(c.storageKeys.DevlessPanelKey,!1)},set:function(e){this.storageSvc.set(c.storageKeys.DevlessPanelKey,e)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"SuccessCenterConfig",{get:function(){return this.successCenterConfig},enumerable:!1,configurable:!0}),c.prototype.SetSuccessCenterConfig=function(e){this.successCenterConfig=e,this.successCenterConfig&&(this.successCenterConfig.unreadCounts=(null===(e=this.successCenterConfig)||void 0===e?void 0:e.unreadCounts)||{})},c.prototype.getBoolFuncFlag=function(e){return this.functionality[e]||!1},c.prototype.startNewActivity=function(e){e={module:this.CurrentModule,startDate:e,location:null,title:null,endDate:null,duration:null};this.commSvc.urlTracking&&(e.location=this.windowSvc.href(),e.title=this.windowSvc.title()),this.updateCurrentActivity(e)},c.prototype.endCurrentActivity=function(e){var t=this.currentActivity;null!==t&&(t.module=t.module||c.defaultModule,t.endDate=e,t.duration=(new this.windowSvc.Date(t.endDate)-new this.windowSvc.Date(t.startDate))/1e3,this.lastDigestTimeStamp&&t.duration>this.maximumModuleDurationInSeconds&&(e=(new this.windowSvc.Date(this.lastDigestTimeStamp)-new this.windowSvc.Date(t.startDate))/1e3,t.duration=e),t.duration>=this.minimumModuleDurationInSeconds&&this.moduleActivities.push(t),this.clearCurrentActivity())},c.prototype.popModuleActivities=function(){var e=(new this.windowSvc.Date).toISOString(),t=!1;this.currentActivity&&(this.CurrentModule||(this.CurrentModule=this.currentActivity.module),this.endCurrentActivity(e),t=!0);for(var n=this.moduleActivities.length,i=[];n;){var o=this.moduleActivities.shift();null!=o&&i.push(o),n--}return this.moduleActivities.empty(),t&&this.startNewActivity(e),i},c.heartbeatIntervals={active:3e4,inActive:3e5},c.storageKeys={TimeInAppCurrentKey:"CZ_TIME_IN_APP_CURRENT_KEY",TimeInAppQueueKey:"CZ_TIME_IN_APP_QUEUE_KEY",DevlessPanelKey:"CZ_CONTENT_PANEL_OPEN_KEY"},c.defaultModule="Default",c);function c(e,t,n,i,o){this.storageSvc=e,this.commSvc=t,this.appSvc=n,this.tenantSvc=i,this.windowSvc=o,this.minimumModuleDurationInSeconds=1,this.maximumModuleDurationInSeconds=33,this.heartbeatInterval=c.heartbeatIntervals.active,this.functionality={panelEnabled:!1,alwaysUseLaunchAvatar:!1,showAccountOwnerSection:!1,hasAccountOwner:!1,onlyShowWhenMessagesExist:!1,headerHtml:null,footerHtml:null,launchAvatarUrl:null},this.accountContent={defaultAnnouncement:null,header:null,footer:null,launchAvatarUrl:null,clickToSeeMoreText:"Click here to see that info again",branding:null,css:null,announcementStyles:null},this.lastHeartbeat=null,this.moduleActivities=new r.default(this.storageSvc,this.windowSvc,c.storageKeys.TimeInAppQueueKey),this.isSilent=!1}exports.default=t},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=t(2),i=t(0),t=(Object.defineProperty(o.prototype,"Announcements",{get:function(){return this._announcements},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"SeenAnnouncementIdsKey",{get:function(){return"SeenAnnouncementIds-"+this.commSvc.appKey+"-"+this.commSvc.contactKey},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"SeenAnnouncementIds",{get:function(){try{return this.storageService.get(this.SeenAnnouncementIdsKey,[])}catch(e){return[]}},set:function(e){this.storageService.set(this.SeenAnnouncementIdsKey,e)},enumerable:!1,configurable:!0}),o.prototype.SeedAnnouncements=function(e){this._announcements=[];for(var t=0;t<e.length;t++){var n=this.processAnnouncement(e[t]);n&&this._announcements.push(n)}},o.prototype.SendReadReceipt=function(e){if(0<e)for(var t=0;t<this.Announcements.length;t++)this.Announcements[t]&&this.Announcements[t].id===e&&(this.Announcements[t].isRead||(this.Announcements[t].isRead=!0,this.SeenAnnouncementIds=this.SeenAnnouncementIds.concat([e]),this.commSvc.send(n.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_MESSAGE_READ,e,!0)))},o.prototype.SendClickAudit=function(e){0<e&&this.commSvc.send(n.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_MESSAGE_CLICKED,e)},o.prototype.SanitizeAnnouncements=function(){this._announcements=this.Announcements.filter(function(e){return null!=e})},o.prototype.AddNewAnnouncement=function(e){e=this.processAnnouncement(e);return e&&this._announcements.push(e),e},o.prototype.ExpireAnnouncement=function(e){for(var t=0;t<this._announcements.length;t++){var n=this._announcements[t];n.messageKey===e.messageKey&&(this._announcements[t]=i.CoreUtils.extend({},n,e))}},o.prototype.GetAnnouncementFromAnnouncementHtml=function(e){var t,n=(e.getAttribute("data-message-id")||"-1").toString();return this.Announcements.filter(function(e){e.id.toString()===n&&(t=e)}),t},o.prototype.processAnnouncement=function(e){for(var t=!1,n=0;n<this._announcements.length;n++)e.messageKey===this._announcements[n].messageKey&&(e.isRead=this._announcements[n].isRead,t=!0);if(!t)return e.sequence=this._announcements.length+1,e.deliveryDate=new this.windowSvc.Date(e.deliveryDate),e.at=i.CoreUtils.Dates.formatWithSlashes(e.deliveryDate),e.time=i.CoreUtils.Times.formatWithAMPM(e.deliveryDate),e.announcementIncludeInPanelString=e.announcementIncludeInPanel.toString(),e.showInfoMessageString=e.announcementIncludeInPanel.toString(),-1!==this.SeenAnnouncementIds.indexOf(e.id)&&(e.isRead=!0),this.normalizeMessageData(e),this.isSurveyAnnouncement(e)&&(e.showInfoMessageString="false"),e},o.prototype.isPanelAnnouncement=function(e){return e.announcementIncludeInPanel},o.prototype.isSurveyAnnouncement=function(e){e=this.getAnnouncementType(e);return e===i.AnnouncementType.Nps||e===i.AnnouncementType.CustomSurvey},o.prototype.isPopupAnnouncement=function(e){return e.announcementPositionId&&e.announcementPositionId===n.Enums.AnnouncementPosition.PopUp},o.prototype.isSliderAnnouncement=function(e){return e.announcementPositionId&&e.announcementPositionId>n.Enums.AnnouncementPosition.PopUp},o.prototype.getAnnouncementType=function(e){if(!e.messageData)return i.AnnouncementType.Basic;var t=e.messageData.Type||e.messageData.type,e=Object.keys(i.AnnouncementType).filter(function(e){return e.toString().toLowerCase()===(t||"").toLowerCase()});if(0<e.length){e=e[0];return i.AnnouncementType[e]}},o.prototype.normalizeMessageData=function(n){n.messageData&&Object.keys(n.messageData).forEach(function(e){var t=e[0];t===t.toUpperCase()&&(n.messageData[e[0].toLowerCase()+e.substr(1)]=n.messageData[e])})},o.prototype.isAdvancedDisplayAnnouncement=function(e){return this.isPopupAnnouncement(e)||this.isSliderAnnouncement(e)},o.prototype.getAnnouncementPositionClassFromId=function(e){switch(e){case n.Enums.AnnouncementPosition.SlideBottomCenter:return"bottom-center";case n.Enums.AnnouncementPosition.SlideLeftBottom:return"left-bottom";case n.Enums.AnnouncementPosition.SlideTopLeft:return"top-left";case n.Enums.AnnouncementPosition.SlideTopCenter:return"top-center";case n.Enums.AnnouncementPosition.SlideTopRight:return"top-right";case n.Enums.AnnouncementPosition.SlideBottomLeft:return"bottom-left";case n.Enums.AnnouncementPosition.SlideBottomRight:return"bottom-right";case n.Enums.AnnouncementPosition.SlideLeftTop:return"left-top";case n.Enums.AnnouncementPosition.SlideLeftCenter:return"left-center";case n.Enums.AnnouncementPosition.SlideRightTop:return"right-top";case n.Enums.AnnouncementPosition.SlideRightCenter:return"right-center";case n.Enums.AnnouncementPosition.SlideRightBottom:return"right-bottom";default:return"bottom-center"}},o);function o(e,t,n){this.commSvc=e,this.windowSvc=t,this.storageService=n,this._announcements=[]}exports.default=t},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var o=t(2),i=t(0),t=(Object.defineProperty(n.prototype,"eventMapVersion",{get:function(){return this._eventMapConfig.eventMapVersion},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"eventMaps",{get:function(){return this._eventMapConfig.eventMaps},enumerable:!1,configurable:!0}),n.prototype.TrackEvent=function(e,t,n,i){i={eventDate:(new this.windowSvc.Date).toISOString(),name:e,quantity:n||1,description:t||"",customFields:i};this.ValidateEvent(i)&&(this.sessionSvc.ShouldPreventUsageSends||this.commSvc.send(o.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_TRACK_EVENT,i))},n.prototype.ValidateEvent=function(e){var t=window.console,n=!0;return void 0!==e.name&&null!==e.name&&0!==e.name.toString().length||(t.warn("Track Event EventName is required. Event ignored."),n=!1),void 0===e.quantity||!Array.isArray(e.quantity)&&i.CoreUtils.Numbers.isNumeric(e.quantity)||(t.warn("Track Event Quantity field is restricted to numeric values only. Any non-numeric values will be ignored."),e.quantity=1),n},n.prototype.Exp_TrackEvent=function(e,t,n){},n.prototype.RefreshEventMapConfig=function(e){this.applicationSvc.isMain&&(+this.windowSvc.Date.now()-+this.lastEventMapPing>this.pingInterval||e)&&(this.lastEventMapPing=this.windowSvc.Date.now(),this.commSvc.send(o.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_CHECK_EVENT_MAP_CONFIG_VERSION,{version:this.eventMapVersion}))},n.prototype.LoadEventMapConfig=function(e){e&&(this._eventMapConfig=e)},n.prototype.AddEventMaps=function(e,t){t&&(this._eventMapConfig.eventMaps=[]),this._eventMapConfig.eventMaps=this._eventMapConfig.eventMaps.concat(e)},n.prototype.RelevantMappedEvents=function(){return void 0===this._eventMapConfig.eventMaps&&(this._eventMapConfig.eventMaps=[]),{all:this.eventMaps.filter(function(e){return!e.disabled}),suggested:this.eventMaps.filter(function(e){return e.selectorTypeId===o.Enums.SelectorTypes.Suggested&&!e.disabled}),custom:this.eventMaps.filter(function(e){return e.selectorTypeId===o.Enums.SelectorTypes.Custom&&!e.disabled})}},n);function n(e,t,n,i){this.commSvc=e,this.windowSvc=t,this.applicationSvc=n,this.sessionSvc=i,this.lastEventMapPing=null,this.pingInterval=6e4,this._eventMapConfig={eventMaps:[],eventMapVersion:"-1"}}exports.default=t},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var o=t(0),n=t(2),t=(Object.defineProperty(i.prototype,"pageTagVersion",{get:function(){return this._pageTagConfig.pageTagVersion},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pageTags",{get:function(){return this._pageTagConfig?this._pageTagConfig.pageTags:[]},enumerable:!1,configurable:!0}),i.prototype.LoadPageTagConfig=function(e){if(e){if(e.pageTags)for(var t=e.pageTags.length,n=0;n<t;n++){var i=e.pageTags[n];e.pageTags[n]=o.PageTag.FromObject(i)}this._pageTagConfig=e}},i.prototype.AddPageTags=function(e,t){t&&(this._pageTagConfig.pageTags=[]),this._pageTagConfig.pageTags=this._pageTagConfig.pageTags.concat(e)},i.prototype.RefreshPageTagConfig=function(e){this.applicationSvc.isMain&&this._pageTagConfig&&(+this.windowSvc.Date.now()-+this.lastPageTagPing>this.pingInterval||e)&&(this.lastPageTagPing=this.windowSvc.Date.now(),this.commSvc.send(n.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_CheckPageTagConfigVersion,{version:this.pageTagVersion}))},i);function i(e,t,n,i){this.commSvc=e,this.windowSvc=t,this.applicationSvc=n,this.sessionSvc=i,this.lastPageTagPing=null,this.pingInterval=6e4}exports.default=t},function(e,exports,t){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var i=t(2),o=t(0),t=(Object.defineProperty(n.prototype,"walkthroughsVersion",{get:function(){return this._walkthroughConfig.version},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"walkthroughs",{get:function(){return this._walkthroughConfig.items},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"walkthroughStyleConfig",{get:function(){return this._globalWalkthroughStyleConfig||a({},o.CZ_DEFAULT_STYLE_CONFIG)},enumerable:!1,configurable:!0}),n.prototype.RefreshWalkthroughConfig=function(e){this.applicationSvc.isMain&&(+this.windowSvc.Date.now()-+this.lastWalkthroughPing>this.pingInterval||e)&&(this.lastWalkthroughPing=this.windowSvc.Date.now(),e={version:this.walkthroughsVersion},this.commSvc.send(i.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_CheckWalkthroughConfigVersion,e))},n.prototype.LoadWalkthroughConfig=function(e){if(e){var t,n=e.properties;null!=n&&n.styleConfigsEnabled&&(t=o.ModelUtils.create(new o.WalkthroughStyleConfig,JSON.parse(n.globalStyleConfigJson||"{}")),this._globalWalkthroughStyleConfig=a(a({},o.CZ_DEFAULT_STYLE_CONFIG),t));for(var i=0;i<e.items.length;i++)e.items[i]&&(e.items[i]=o.Walkthrough.fromObject(e.items[i]),null!=n&&n.styleConfigsEnabled&&this.hydateStepStyleConfigs(this._globalWalkthroughStyleConfig,e.items[i]));this._walkthroughConfig=e,this.lastWalkthroughPing||(this.lastWalkthroughPing=this.windowSvc.Date.now())}},n.prototype.hydateStepStyleConfigs=function(e,t){for(var n=t.steps,i=n.length,o=0;o<i;o++){var s=n[o],r=a(a(a({},e),t.styleConfig),s.styleConfig);s.styleConfig=r}},n.prototype.AddWalkthroughs=function(e,t){var n=Array.isArray(null===(n=this._walkthroughConfig)||void 0===n?void 0:n.items);!t&&n||(this._walkthroughConfig.items=[]),this._walkthroughConfig.items=this._walkthroughConfig.items.concat(e)},n.prototype.GetClickWalkthroughs=function(){var e;return Array.isArray(null===(e=this._walkthroughConfig)||void 0===e?void 0:e.items)?this._walkthroughConfig.items.filter(function(e){return!e.disabled&&e.triggerTypeId===o.WalkthroughTriggerType.Click}):[]},n.prototype.GetPageVisitWalkthroughs=function(){var e;return Array.isArray(null===(e=this._walkthroughConfig)||void 0===e?void 0:e.items)?this._walkthroughConfig.items.filter(function(e){return!e.disabled&&e.triggerTypeId===o.WalkthroughTriggerType.PageVisit}):[]},n.prototype.GetAnchorWalkthroughs=function(){var e;return Array.isArray(null===(e=this._walkthroughConfig)||void 0===e?void 0:e.items)?this._walkthroughConfig.items.filter(function(e){return!e.disabled&&e.triggerTypeId===o.WalkthroughTriggerType.Anchor}):[]},n.prototype.SendActionMessage=function(e,t,n){t&&0<t&&(n={actionId:e,actionDate:(new this.windowSvc.Date).toISOString(),walkthroughId:t,walkthroughStepId:n},this.sessionSvc.ShouldPreventUsageSends||(e=e===i.Enums.WalkthroughActionType.WalkthroughStarted,this.commSvc.send(i.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_WalkthroughAction,n,e)))},n);function n(e,t,n,i){this.commSvc=e,this.windowSvc=t,this.applicationSvc=n,this.sessionSvc=i,this.lastWalkthroughPing=null,this.pingInterval=3e4,this._walkthroughConfig={items:[],version:"-1",properties:{}}}exports.default=t},function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var o=t(2),s=t(0),t=(n.prototype.SetAttribute=function(e,t,n){this.executeAttribute("setAttribute",e,t,n)},n.prototype.IncrementAttribute=function(e,t,n){this.executeAttribute("incrementAttribute",e,t,n)},n.prototype.executeAttribute=function(e,t,n,i){t={action:e,entity:t,attributes:null};if(null==i&&s.CoreUtils.isObject(n))t.attributes=n;else if(s.CoreUtils.isString(n)&&"{"!==n.trim().substr(0,1))t.attributes={},t.attributes[n]=i;else try{n=JSON.parse(n),t.attributes=n}catch(e){}this.validateAttributeItem(t)&&(this.sessionSvc.ShouldPreventUsageSends||this.commSvc.send(o.Enums.SocketMessageTypes.SOCKETMESSAGETYPE_SET_ATTRIBUTE,t))},n.prototype.validateAttributeItem=function(e){var t=window.console,n=!0;if(void 0!==e.action&&null!==e.action&&0!==e.action.toString().length||(t.warn("Action parameter must be defined. Attribute ignored."),n=!1),(void 0===e.entity||null===e.entity||0===e.entity.toString().length||"contact"!==e.entity.toLowerCase()&&"account"!==e.entity.toLowerCase())&&(t.warn("Entity value must be either 'contact' or 'account'. Attribute ignored."),n=!1),void 0!==e.attributes&&null!==e.attributes&&0!==s.CoreUtils.numKeys(e.attributes)||(t.warn("Name parameter must be defined. Attribute ignored."),n=!1),void 0!==e.attributes&&null!==e.attributes&&0<s.CoreUtils.numKeys(e.attributes))for(var i in e.attributes)if(e.attributes.hasOwnProperty(i)&&0===i.trim().length){t.warn("Name parameter must be defined for each attribute. Attributes ignored."),n=!1;break}return n},n);function n(e,t){this.commSvc=e,this.sessionSvc=t}exports.default=t},function(e,exports,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var i=n(t(1)),o=n(t(32)),s=t(2),r=t(0),t=(Object.defineProperty(a.prototype,"appVersion",{get:function(){return this._appVersion},enumerable:!1,configurable:!0}),a.prototype.clearAllListeners=function(){this._listeners={}},a.prototype.connect=function(e,t,n,i){},a.prototype.destroy=function(){this.reset()},a.prototype.disconnect=function(){},a.prototype.generateContactKey=function(e,t){return""+e+o.default.separator+t},a.prototype.getContactKeyFromCache=function(){return""},a.prototype.isAppHostValid=function(){return!1},a.prototype.isAppKeyValid=function(e){return!1},a.prototype.isContactKeyValid=function(e){return!1},a.prototype.reset=function(){this.disconnect()},a.prototype.resetPollIntervalToDefault=function(){},a.prototype.send=function(e,t,n){this.applicationSvc.messageMain({code:s.Enums.FrameCommCodes.SubFramePassback,data:{type:"send",data:{socketMessageTypeId:e,messageContent:t,forcePoll:n}}})},a.prototype.flush=function(){},a.prototype.setPollInterval=function(e){},a.prototype.splitContactKey=function(e){var t=(e||"").split(o.default.separator),n=null,e=null;return t&&2===t.length&&(n=t[0],e=t[1]),{accountExternalId:n,contactExternalId:e}},a.prototype.registerListener=function(e,t){return this.pubsub.subscribe(e,t)},a.prototype.publishMirrored=function(e){this.pubsub.publishMirrored(e)},a.prototype.registerMirror=function(e){return this.pubsub.addMirror(e)},a);function a(e,t,n){this.windowSvc=e,this.applicationSvc=t,this.mainFrame=n,this._listeners={},this._appVersion="s1.02.7187.003",this.pubsub=new r.PubSuber(i.default),this.appHost=this.windowSvc.hostName()}exports.default=t},function(e,exports,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChecklistService=void 0;var a=t(0),t=(i.prototype.SeedData=function(e){this.clConfig=n({},e)},i.prototype.getChecklistConfig=function(){return this.clConfig||null},i.prototype.checkForUpdatedConfig=function(){var e;+this.windowSvc.Date.now()-+this.lastChecklistPing<=this.pingInterval||(this.lastChecklistPing=this.windowSvc.Date.now(),e=(this.clConfig||{}).version,this.commSvc.send(a.SocketMessageTypes.SOCKETMESSAGETYPE_CheckChecklistConfigVersion,{version:e}))},i.prototype.toggleItem=function(e){this.commSvc.send(a.SocketMessageTypes.SOCKETMESSAGETYPE_ChecklistItemToggle,e,!0)},i.prototype.markChecklistComplete=function(e){this.commSvc.send(a.SocketMessageTypes.SOCKETMESSAGETYPE_ChecklistMarkComplete,e,!0)},i.prototype.mapChecklistBrandingToProperFormat=function(e){function t(e){if(e){switch(e){case"left":return"flex-start";case"right":return"flex-end"}return e}}var n=((e=e||{}).titleFontSize||"").toString().trim(),i=(e.itemFontSize||"").toString().trim();return 0<n.length&&-1===n.indexOf("px")&&(n+="px"),0<i.length&&-1===i.indexOf("px")&&(i+="px"),{all:{textAlign:e.textAlignment,color:e.color,backgroundColor:e.backgroundColor},links:{color:e.hyperlinkColor},title:{fontSize:n,justifyContent:t(e.textAlignment)},milestoneHeader:{fontSize:i,justifyContent:t(e.textAlignment)},item:{fontSize:i,justifyContent:t(e.textAlignment)},markAsComplete:{backgroundColor:e.markAsCompleteBackgroundColor,color:e.markAsCompleteTextColor,justifyContent:t(e.textAlignment)},completeButton:{backgroundColor:e.completeButtonBackgroundColor,color:e.completeButtonTextColor},completeMessage:{backgroundColor:e.completeMessageBackgroundColor,color:e.completeMessageTextColor,justifyContent:t(e.textAlignment)}}},i.prototype.buildStyleRulesFromCheckListStyleBranding=function(e){var t,n,i,o,s={all:".cz-journey-checklist",title:".cz-journey-checklist-header",milestoneHeader:".cz-journey-checklist-milestone-heading-btn",item:".cz-journey-checklist-item-label",links:"a.cz-journey-checklist-item-text",markAsComplete:".cz-journey-checklist-complete-banner",completeButton:".cz-journey-checklist-complete-banner button",completeMessage:".cz-journey-checklist-complete-banner.is-complete"},r="";for(i in null!==(t=e.all)&&void 0!==t&&t.color&&(r+=a.StyleUtils.wrapInRule(".cz-journey-checklist-milestone-heading-caret.caret-down",a.StyleUtils.mapBrandingItemToCSSProps({borderTopColor:e.all.color})),r+=a.StyleUtils.wrapInRule(".cz-journey-checklist-milestone-heading-caret.caret-left",a.StyleUtils.mapBrandingItemToCSSProps({borderRightColor:e.all.color}))),null!==(t=e.title)&&void 0!==t&&t.justifyContent&&(n=e.title.justifyContent,r+=a.StyleUtils.wrapInRule(".cz-journey-checklist-header-wrapper",a.StyleUtils.mapBrandingItemToCSSProps({justifyContent:n})),e.title.justifyContent=void 0),null!==(t=e.markAsComplete)&&void 0!==t&&t.justifyContent&&(n=e.markAsComplete.justifyContent,r+=a.StyleUtils.wrapInRule(".mark-as-complete",a.StyleUtils.mapBrandingItemToCSSProps({justifyContent:n})),e.markAsComplete.justifyContent=void 0),null!==(t=e.completeMessage)&&void 0!==t&&t.justifyContent&&(n=e.completeMessage.justifyContent,r+=a.StyleUtils.wrapInRule(".completed-text",a.StyleUtils.mapBrandingItemToCSSProps({justifyContent:n})),e.completeMessage.justifyContent=void 0),s)a.CoreUtils.hasOwnProp(s,i)&&a.CoreUtils.hasOwnProp(e,i)&&(o=a.StyleUtils.mapBrandingItemToCSSProps(e[i]),r+=a.StyleUtils.wrapInRule(s[i],o));return r},i.prototype.getPositionalClassNameFromConfig=function(e){switch(e.launchIconPosition){case a.LaunchIconPosition.TopCenter:return"pos-top-center";case a.LaunchIconPosition.TopRight:return"pos-top-right";case a.LaunchIconPosition.LeftCenter:return"pos-left-center";case a.LaunchIconPosition.RightCenter:return"pos-right-center";case a.LaunchIconPosition.BottomLeft:return"pos-bottom-left";case a.LaunchIconPosition.BottomCenter:return"pos-bottom-center";case a.LaunchIconPosition.BottomRight:return"pos-bottom-right";default:return"pos-top-left"}},i.DOM_PREFIX="cz-journey-checklist",i);function i(e,t){this.windowSvc=e,this.commSvc=t,this.lastChecklistPing=-1,this.pingInterval=3e4}exports.ChecklistService=t},function(e,exports){e.exports='<div class="cz-announcement cz-sidebar-note cz-hover-click " style="display: block !important;" data-message-id="{{id}}" data-info-message="{{showInfoMessageString}}"\r\n     id="cz-sidebar-note-{{sequence}}">\r\n    <div align="center" class="cz-nps-container">\r\n        <div style="{{NpsLogoStyle}}">\r\n            <div style="width: 33.3%; padding: 0 15px;">\r\n                <img src="{{NpsLogoUrl}}" !inline style="display: block; max-width: 100%; height: auto">\r\n            </div>\r\n        </div>\r\n        <table border="0" cellpadding="0" cellspacing="0" class="table">\r\n            \x3c!-- QUESTION --\x3e\r\n            <tr>\r\n                <td align="center" class="survey">\r\n                    <table align="center" border="0" cellpadding="0" cellspacing="0"\r\n                           class="questiontextcontainer">\r\n                        <tr>\r\n                            <td align="center" class="questiontext" dir="ltr">{{NpsQuestion}}</td>\r\n                        </tr>\r\n                    </table>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n        <table border="0" cellpadding="0" cellspacing="0" class="table" style="width: inherit">\r\n            \x3c!-- LABELS --\x3e\r\n            <tr class="{{LabelsContainerClass}}">\r\n                <td width="9"></td>\r\n                <td class="labels">\r\n                    <table border="0" cellpadding="0" cellspacing="0" width="100%">\r\n                        <tr>\r\n                            <td class="left" align="left" width="50%" style="padding-right: 20px!important;">{{NpsLowScoreText}}</td>\r\n                            <td class="right" align="right" width="50%" style="padding-left: 20px!important;">{{NpsHighScoreText}}</td>\r\n                        </tr>\r\n                    </table>\r\n                </td>\r\n                <td width="9"></td>\r\n            </tr>\r\n\r\n            \x3c!-- SCORES --\x3e\r\n            <tr>\r\n                <td width="9"></td>\r\n                <td class="scores {{AdditionalScoresClass}}">\r\n                    \x3c!-- 10 --\x3e\r\n                    {{Buttons}}\r\n\r\n                </td>\r\n                <td width="9"></td>\r\n            </tr>\r\n        </table>\r\n\r\n    </div>\r\n    <span class="cz-announcement-timestamp">{{at}}</span>\r\n</div>\r\n'},function(e,exports){e.exports='<div class="cz-announcement cz-sidebar-note cz-hover-click " style="display: block !important;" data-message-id="{{id}}" id="cz-sidebar-note-{{sequence}}"\r\n     data-info-message="{{showInfoMessageString}}">\r\n    <p>\r\n        <a class="cz-nps-click" data-nps-url="{{npsUrl}}" data-nps-wide="{{wide}}" data-show-new-window="{{showNewWindow}}">{{npsQuestion}}</a>\r\n    </p>\r\n    <span class="cz-announcement-timestamp">{{at}}</span>\r\n</div>\r\n'},function(e,exports){e.exports='<table align="right" border="0" cellpadding="0" cellspacing="0" class="score"\r\n        style="min-width:42px" height="44">\r\n    <tr>\r\n        <td align="center" \r\n            valign="middle"\r\n            style="{{Style}}" \r\n            height="40"\r\n        >\r\n            <a class="cz-nps-click" data-nps-url="{{Url}}" data-nps-wide="{{Wide}}">\r\n                <span style="{{TextStyle}}">{{Label}}</span>\r\n            </a>\r\n        </td>\r\n    </tr>\r\n</table>'},function(e,exports){e.exports='\x3c!-- spacer (nbsp) --\x3e\r\n<table align="right" border="0" cellpadding="0" cellspacing="0" class="spacer">\r\n    <tr>\r\n        <td width="5" height="44">&nbsp;</td>\r\n    </tr>\r\n</table>'},function(e,exports){e.exports='<div class="cz-announcement cz-sidebar-note cz-hover-click " style="display: block !important;" data-message-id="{{id}}" data-info-message="{{showInfoMessageString}}"\r\n     id="cz-sidebar-note-{{sequence}}" data-nps-url="{{NpsUrl}}" data-show-new-window="{{showNewWindow}}" data-nps-wide="{{wide}}">\r\n    <div>\r\n        {{Content}}\r\n    </div>\r\n    <span class="cz-announcement-timestamp">{{at}}</span>\r\n</div>\r\n'},function(e,exports){e.exports='<div class="cz-slide-announcement {{announcementPositionClass}}">\r\n    <span class="{{closeClass}}"><i class="czi czi-times"></i></span>\r\n    {{messageHtml}}\r\n</div>\r\n'},function(e,exports){e.exports='<div class="cz-announcement cz-sidebar-note cz-hover-click cz-click-audit" style="display: block !important;" data-message-id="{{id}}" id="cz-sidebar-note-{{sequence}}"  data-info-message="{{showInfoMessageString}}">\r\n    {{messageContent}}\r\n<span class="cz-announcement-timestamp">{{at}}</span>\r\n</div>\r\n'},function(e,exports){e.exports='<span class="cz-avatar">\r\n    <img !inline class="cz-avatar-img" src="{{avatarSrc}}" alt="...">\r\n</span>\r\n'},function(e,exports){e.exports='<span class="cz-avatar">\r\n    <span class="cz-avatar-name">{{avatarSrc}}</span>\r\n</span>\r\n'},function(e,exports){e.exports='<div class="cz-alert-message-text">\r\n{{message}}\r\n</div>\r\n'},function(e,exports){e.exports='<div id="cz_transBG" class="cz-transBG">\r\n    <div id="cz_popover" class="cz-popover">\r\n        <span class="cz-popover-close cz-close-popover-trigger">\r\n            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAH60AAB+tAEJr8JXAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAotJREFUeNrsmz9LHUEUxY8bwUoweYhFitf6CSSFiI2V1toF0sWvkcpv8DoRVDApUuZVRwTBzj9p1SpuYxMQ7HywNnfg8XDd2fXOuH9ucao3Ozvnt29n5965AwKIoD6BFQLfCAwI7OZoIG1W5JrgYwvZ+TSBNQI/CBwTuCUwIpAVaCRtj+XaL9JXYwAsE9gjcO9h1lf30udynQFsEjhXNJ2nc7lXbQBsRTL+Eoit9wSwSGD4DsYnNZSxRAXw3XNCi6URga8xACQEftbI+KQOZIxBAHwgcFVj805XMlZVAElDzI9DSLQAJAQuG2Te6dIHgg+AJpofhzD1FgC/G2ze6VdVANstMO+0WRZAv0XmnfplAJy1EMCZL4CNFpp32vABcN1iANdFANaVb/hUkz7Gtf4agBvFG10Q+Ezg6A19HEkfF4rjuskDsBRwFTasGOaGWo0uvQRgP/A6PC3RRxo4HtmfBJAQeFT61ORFYj1PCKm0zYtINT7Rj+4haf79HzziiiIIr5kf14PWa+A63FHKyhx6DP5TDoRUfiu6/lApG7XjACwQoOIEc+rxFCf/CT5P/iOBP4rjJIEFEFglcKf8rU09IfwT+bTVHuMdgdWQUZ8PhKmieL3E5FlF25D9uCwgBJ/3uux8oaUBJJOaBYbQq2C+F9h8RuAAsiubRYAwX8L8fATzGYHdWAAyAv8JzHqYn5W2mQFoEYBavwKdnwQ7/xns/EKoKUvhNNRSWDsY+hsoGOpJoKUeDHU+HLaEiKXEwidF5yokRWdiJkVDp8WrlNGdxE6Ld35jxLbGbHPUtsetQMJKZKxIysrkrFDSSmWtWNrK5e3AhB2ZsUNTdmzODk7a0Vk7PN2B4/PPAwCf6Ytzs73kxgAAAABJRU5ErkJggg==" style="display:none !important;" inline/>\r\n        </span>\r\n        <div id="cz_popover_content"></div>\r\n    </div>\r\n</div>\r\n'}]);